import{g as HK,c as ac}from"./_commonjsHelpers-725317a4.js";function vl(r,a){const h=Object.create(null),p=r.split(",");for(let y=0;y<p.length;y++)h[p[y]]=!0;return a?y=>!!h[y.toLowerCase()]:y=>!!h[y]}const WK="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jK=vl(WK);function RT(r){return!!r||r===""}function mi(r){if(on(r)){const a={};for(let h=0;h<r.length;h++){const p=r[h],y=Ar(p)?XK(p):mi(p);if(y)for(const b in y)a[b]=y[b]}return a}else{if(Ar(r))return r;if(Tr(r))return r}}const qK=/;(?![^(]*\))/g,GK=/:(.+)/;function XK(r){const a={};return r.split(qK).forEach(h=>{if(h){const p=h.split(GK);p.length>1&&(a[p[0].trim()]=p[1].trim())}}),a}function Mr(r){let a="";if(Ar(r))a=r;else if(on(r))for(let h=0;h<r.length;h++){const p=Mr(r[h]);p&&(a+=p+" ")}else if(Tr(r))for(const h in r)r[h]&&(a+=h+" ");return a.trim()}function Mi(r){if(!r)return null;let{class:a,style:h}=r;return a&&!Ar(a)&&(r.class=Mr(a)),h&&(r.style=mi(h)),r}const KK="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",ZK="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",QK=vl(KK),JK=vl(ZK),Oc=r=>Ar(r)?r:r==null?"":on(r)||Tr(r)&&(r.toString===VT||!Cn(r.toString))?JSON.stringify(r,BT,2):String(r),BT=(r,a)=>a&&a.__v_isRef?BT(r,a.value):xc(a)?{[`Map(${a.size})`]:[...a.entries()].reduce((h,[p,y])=>(h[`${p} =>`]=y,h),{})}:FT(a)?{[`Set(${a.size})`]:[...a.values()]}:Tr(a)&&!on(a)&&!YT(a)?String(a):a,rr=Object.freeze({}),th=Object.freeze([]),ts=()=>{},PT=()=>!1,tZ=/^on[^a-z]/,ff=r=>tZ.test(r),x0=r=>r.startsWith("onUpdate:"),Nr=Object.assign,V_=(r,a)=>{const h=r.indexOf(a);h>-1&&r.splice(h,1)},eZ=Object.prototype.hasOwnProperty,Wn=(r,a)=>eZ.call(r,a),on=Array.isArray,xc=r=>z0(r)==="[object Map]",FT=r=>z0(r)==="[object Set]",Cn=r=>typeof r=="function",Ar=r=>typeof r=="string",Y_=r=>typeof r=="symbol",Tr=r=>r!==null&&typeof r=="object",$_=r=>Tr(r)&&Cn(r.then)&&Cn(r.catch),VT=Object.prototype.toString,z0=r=>VT.call(r),U_=r=>z0(r).slice(8,-1),YT=r=>z0(r)==="[object Object]",z_=r=>Ar(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,p0=vl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nZ=vl("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),H0=r=>{const a=Object.create(null);return h=>a[h]||(a[h]=r(h))},rZ=/-(\w)/g,Ra=H0(r=>r.replace(rZ,(a,h)=>h?h.toUpperCase():"")),iZ=/\B([A-Z])/g,Mo=H0(r=>r.replace(iZ,"-$1").toLowerCase()),Dc=H0(r=>r.charAt(0).toUpperCase()+r.slice(1)),uc=H0(r=>r?`on${Dc(r)}`:""),tf=(r,a)=>!Object.is(r,a),cl=(r,a)=>{for(let h=0;h<r.length;h++)r[h](a)},T0=(r,a,h)=>{Object.defineProperty(r,a,{configurable:!0,enumerable:!1,value:h})},E0=r=>{const a=parseFloat(r);return isNaN(a)?r:a};let j6;const $T=()=>j6||(j6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function UT(r,...a){console.warn(`[Vue warn] ${r}`,...a)}let Is;class zT{constructor(a=!1){this.active=!0,this.effects=[],this.cleanups=[],!a&&Is&&(this.parent=Is,this.index=(Is.scopes||(Is.scopes=[])).push(this)-1)}run(a){if(this.active)try{return Is=this,a()}finally{Is=this.parent}else UT("cannot run an inactive effect scope.")}on(){Is=this}off(){Is=this.parent}stop(a){if(this.active){let h,p;for(h=0,p=this.effects.length;h<p;h++)this.effects[h].stop();for(h=0,p=this.cleanups.length;h<p;h++)this.cleanups[h]();if(this.scopes)for(h=0,p=this.scopes.length;h<p;h++)this.scopes[h].stop(!0);if(this.parent&&!a){const y=this.parent.scopes.pop();y&&y!==this&&(this.parent.scopes[this.index]=y,y.index=this.index)}this.active=!1}}}function lft(r){return new zT(r)}function sZ(r,a=Is){a&&a.active&&a.effects.push(r)}function aZ(){return Is}function oZ(r){Is?Is.cleanups.push(r):UT("onScopeDispose() is called when there is no active effect scope to be associated with.")}const H_=r=>{const a=new Set(r);return a.w=0,a.n=0,a},HT=r=>(r.w&ml)>0,WT=r=>(r.n&ml)>0,lZ=({deps:r})=>{if(r.length)for(let a=0;a<r.length;a++)r[a].w|=ml},cZ=r=>{const{deps:a}=r;if(a.length){let h=0;for(let p=0;p<a.length;p++){const y=a[p];HT(y)&&!WT(y)?y.delete(r):a[h++]=y,y.w&=~ml,y.n&=~ml}a.length=h}},e_=new WeakMap;let $d=0,ml=1;const n_=30;let Ji;const Tc=Symbol("iterate"),r_=Symbol("Map key iterate");class W_{constructor(a,h=null,p){this.fn=a,this.scheduler=h,this.active=!0,this.deps=[],this.parent=void 0,sZ(this,p)}run(){if(!this.active)return this.fn();let a=Ji,h=hl;for(;a;){if(a===this)return;a=a.parent}try{return this.parent=Ji,Ji=this,hl=!0,ml=1<<++$d,$d<=n_?lZ(this):q6(this),this.fn()}finally{$d<=n_&&cZ(this),ml=1<<--$d,Ji=this.parent,hl=h,this.parent=void 0}}stop(){this.active&&(q6(this),this.onStop&&this.onStop(),this.active=!1)}}function q6(r){const{deps:a}=r;if(a.length){for(let h=0;h<a.length;h++)a[h].delete(r);a.length=0}}let hl=!0;const jT=[];function Vc(){jT.push(hl),hl=!1}function Yc(){const r=jT.pop();hl=r===void 0?!0:r}function ps(r,a,h){if(hl&&Ji){let p=e_.get(r);p||e_.set(r,p=new Map);let y=p.get(h);y||p.set(h,y=H_()),qT(y,{effect:Ji,target:r,type:a,key:h})}}function qT(r,a){let h=!1;$d<=n_?WT(r)||(r.n|=ml,h=!HT(r)):h=!r.has(Ji),h&&(r.add(Ji),Ji.deps.push(r),Ji.onTrack&&Ji.onTrack(Object.assign({effect:Ji},a)))}function No(r,a,h,p,y,b){const E=e_.get(r);if(!E)return;let S=[];if(a==="clear")S=[...E.values()];else if(h==="length"&&on(r))E.forEach((D,C)=>{(C==="length"||C>=p)&&S.push(D)});else switch(h!==void 0&&S.push(E.get(h)),a){case"add":on(r)?z_(h)&&S.push(E.get("length")):(S.push(E.get(Tc)),xc(r)&&S.push(E.get(r_)));break;case"delete":on(r)||(S.push(E.get(Tc)),xc(r)&&S.push(E.get(r_)));break;case"set":xc(r)&&S.push(E.get(Tc));break}const L={target:r,type:a,key:h,newValue:p,oldValue:y,oldTarget:b};if(S.length===1)S[0]&&i_(S[0],L);else{const D=[];for(const C of S)C&&D.push(...C);i_(H_(D),L)}}function i_(r,a){for(const h of on(r)?r:[...r])(h!==Ji||h.allowRecurse)&&(h.onTrigger&&h.onTrigger(Nr({effect:h},a)),h.scheduler?h.scheduler():h.run())}const uZ=vl("__proto__,__v_isRef,__isVue"),GT=new Set(Object.getOwnPropertyNames(Symbol).map(r=>Symbol[r]).filter(Y_)),hZ=W0(),dZ=W0(!1,!0),fZ=W0(!0),pZ=W0(!0,!0),G6=gZ();function gZ(){const r={};return["includes","indexOf","lastIndexOf"].forEach(a=>{r[a]=function(...h){const p=Dn(this);for(let b=0,E=this.length;b<E;b++)ps(p,"get",b+"");const y=p[a](...h);return y===-1||y===!1?p[a](...h.map(Dn)):y}}),["push","pop","shift","unshift","splice"].forEach(a=>{r[a]=function(...h){Vc();const p=Dn(this)[a].apply(this,h);return Yc(),p}}),r}function W0(r=!1,a=!1){return function(p,y,b){if(y==="__v_isReactive")return!r;if(y==="__v_isReadonly")return r;if(y==="__v_isShallow")return a;if(y==="__v_raw"&&b===(r?a?nE:eE:a?tE:JT).get(p))return p;const E=on(p);if(!r&&E&&Wn(G6,y))return Reflect.get(G6,y,b);const S=Reflect.get(p,y,b);return(Y_(y)?GT.has(y):uZ(y))||(r||ps(p,"get",y),a)?S:Qn(S)?!E||!z_(y)?S.value:S:Tr(S)?r?Na(S):yi(S):S}}const mZ=XT(),yZ=XT(!0);function XT(r=!1){return function(h,p,y,b){let E=h[p];if(Rc(E)&&Qn(E)&&!Qn(y))return!1;if(!r&&!Rc(y)&&(rE(y)||(y=Dn(y),E=Dn(E)),!on(h)&&Qn(E)&&!Qn(y)))return E.value=y,!0;const S=on(h)&&z_(p)?Number(p)<h.length:Wn(h,p),L=Reflect.set(h,p,y,b);return h===Dn(b)&&(S?tf(y,E)&&No(h,"set",p,y,E):No(h,"add",p,y)),L}}function _Z(r,a){const h=Wn(r,a),p=r[a],y=Reflect.deleteProperty(r,a);return y&&h&&No(r,"delete",a,void 0,p),y}function vZ(r,a){const h=Reflect.has(r,a);return(!Y_(a)||!GT.has(a))&&ps(r,"has",a),h}function bZ(r){return ps(r,"iterate",on(r)?"length":Tc),Reflect.ownKeys(r)}const KT={get:hZ,set:mZ,deleteProperty:_Z,has:vZ,ownKeys:bZ},ZT={get:fZ,set(r,a){return console.warn(`Set operation on key "${String(a)}" failed: target is readonly.`,r),!0},deleteProperty(r,a){return console.warn(`Delete operation on key "${String(a)}" failed: target is readonly.`,r),!0}},kZ=Nr({},KT,{get:dZ,set:yZ}),wZ=Nr({},ZT,{get:pZ}),j_=r=>r,j0=r=>Reflect.getPrototypeOf(r);function s0(r,a,h=!1,p=!1){r=r.__v_raw;const y=Dn(r),b=Dn(a);a!==b&&!h&&ps(y,"get",a),!h&&ps(y,"get",b);const{has:E}=j0(y),S=p?j_:h?G_:ef;if(E.call(y,a))return S(r.get(a));if(E.call(y,b))return S(r.get(b));r!==y&&r.get(a)}function a0(r,a=!1){const h=this.__v_raw,p=Dn(h),y=Dn(r);return r!==y&&!a&&ps(p,"has",r),!a&&ps(p,"has",y),r===y?h.has(r):h.has(r)||h.has(y)}function o0(r,a=!1){return r=r.__v_raw,!a&&ps(Dn(r),"iterate",Tc),Reflect.get(r,"size",r)}function X6(r){r=Dn(r);const a=Dn(this);return j0(a).has.call(a,r)||(a.add(r),No(a,"add",r,r)),this}function K6(r,a){a=Dn(a);const h=Dn(this),{has:p,get:y}=j0(h);let b=p.call(h,r);b?QT(h,p,r):(r=Dn(r),b=p.call(h,r));const E=y.call(h,r);return h.set(r,a),b?tf(a,E)&&No(h,"set",r,a,E):No(h,"add",r,a),this}function Z6(r){const a=Dn(this),{has:h,get:p}=j0(a);let y=h.call(a,r);y?QT(a,h,r):(r=Dn(r),y=h.call(a,r));const b=p?p.call(a,r):void 0,E=a.delete(r);return y&&No(a,"delete",r,void 0,b),E}function Q6(){const r=Dn(this),a=r.size!==0,h=xc(r)?new Map(r):new Set(r),p=r.clear();return a&&No(r,"clear",void 0,void 0,h),p}function l0(r,a){return function(p,y){const b=this,E=b.__v_raw,S=Dn(E),L=a?j_:r?G_:ef;return!r&&ps(S,"iterate",Tc),E.forEach((D,C)=>p.call(y,L(D),L(C),b))}}function c0(r,a,h){return function(...p){const y=this.__v_raw,b=Dn(y),E=xc(b),S=r==="entries"||r===Symbol.iterator&&E,L=r==="keys"&&E,D=y[r](...p),C=h?j_:a?G_:ef;return!a&&ps(b,"iterate",L?r_:Tc),{next(){const{value:V,done:j}=D.next();return j?{value:V,done:j}:{value:S?[C(V[0]),C(V[1])]:C(V),done:j}},[Symbol.iterator](){return this}}}}function il(r){return function(...a){{const h=a[0]?`on key "${a[0]}" `:"";console.warn(`${Dc(r)} operation ${h}failed: target is readonly.`,Dn(this))}return r==="delete"?!1:this}}function xZ(){const r={get(b){return s0(this,b)},get size(){return o0(this)},has:a0,add:X6,set:K6,delete:Z6,clear:Q6,forEach:l0(!1,!1)},a={get(b){return s0(this,b,!1,!0)},get size(){return o0(this)},has:a0,add:X6,set:K6,delete:Z6,clear:Q6,forEach:l0(!1,!0)},h={get(b){return s0(this,b,!0)},get size(){return o0(this,!0)},has(b){return a0.call(this,b,!0)},add:il("add"),set:il("set"),delete:il("delete"),clear:il("clear"),forEach:l0(!0,!1)},p={get(b){return s0(this,b,!0,!0)},get size(){return o0(this,!0)},has(b){return a0.call(this,b,!0)},add:il("add"),set:il("set"),delete:il("delete"),clear:il("clear"),forEach:l0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(b=>{r[b]=c0(b,!1,!1),h[b]=c0(b,!0,!1),a[b]=c0(b,!1,!0),p[b]=c0(b,!0,!0)}),[r,h,a,p]}const[TZ,EZ,CZ,SZ]=xZ();function q0(r,a){const h=a?r?SZ:CZ:r?EZ:TZ;return(p,y,b)=>y==="__v_isReactive"?!r:y==="__v_isReadonly"?r:y==="__v_raw"?p:Reflect.get(Wn(h,y)&&y in p?h:p,y,b)}const AZ={get:q0(!1,!1)},LZ={get:q0(!1,!0)},IZ={get:q0(!0,!1)},MZ={get:q0(!0,!0)};function QT(r,a,h){const p=Dn(h);if(p!==h&&a.call(r,p)){const y=U_(r);console.warn(`Reactive ${y} contains both the raw and reactive versions of the same object${y==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const JT=new WeakMap,tE=new WeakMap,eE=new WeakMap,nE=new WeakMap;function NZ(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function OZ(r){return r.__v_skip||!Object.isExtensible(r)?0:NZ(U_(r))}function yi(r){return Rc(r)?r:G0(r,!1,KT,AZ,JT)}function DZ(r){return G0(r,!1,kZ,LZ,tE)}function Na(r){return G0(r,!0,ZT,IZ,eE)}function Qu(r){return G0(r,!0,wZ,MZ,nE)}function G0(r,a,h,p,y){if(!Tr(r))return console.warn(`value cannot be made reactive: ${String(r)}`),r;if(r.__v_raw&&!(a&&r.__v_isReactive))return r;const b=y.get(r);if(b)return b;const E=OZ(r);if(E===0)return r;const S=new Proxy(r,E===2?p:h);return y.set(r,S),S}function Ec(r){return Rc(r)?Ec(r.__v_raw):!!(r&&r.__v_isReactive)}function Rc(r){return!!(r&&r.__v_isReadonly)}function rE(r){return!!(r&&r.__v_isShallow)}function C0(r){return Ec(r)||Rc(r)}function Dn(r){const a=r&&r.__v_raw;return a?Dn(a):r}function q_(r){return T0(r,"__v_skip",!0),r}const ef=r=>Tr(r)?yi(r):r,G_=r=>Tr(r)?Na(r):r;function X_(r){hl&&Ji&&(r=Dn(r),qT(r.dep||(r.dep=H_()),{target:r,type:"get",key:"value"}))}function K_(r,a){r=Dn(r),r.dep&&i_(r.dep,{target:r,type:"set",key:"value",newValue:a})}function Qn(r){return!!(r&&r.__v_isRef===!0)}function Xe(r){return iE(r,!1)}function Ba(r){return iE(r,!0)}function iE(r,a){return Qn(r)?r:new RZ(r,a)}class RZ{constructor(a,h){this.__v_isShallow=h,this.dep=void 0,this.__v_isRef=!0,this._rawValue=h?a:Dn(a),this._value=h?a:ef(a)}get value(){return X_(this),this._value}set value(a){a=this.__v_isShallow?a:Dn(a),tf(a,this._rawValue)&&(this._rawValue=a,this._value=this.__v_isShallow?a:ef(a),K_(this,a))}}function Mt(r){return Qn(r)?r.value:r}const BZ={get:(r,a,h)=>Mt(Reflect.get(r,a,h)),set:(r,a,h,p)=>{const y=r[a];return Qn(y)&&!Qn(h)?(y.value=h,!0):Reflect.set(r,a,h,p)}};function sE(r){return Ec(r)?r:new Proxy(r,BZ)}class PZ{constructor(a){this.dep=void 0,this.__v_isRef=!0;const{get:h,set:p}=a(()=>X_(this),()=>K_(this));this._get=h,this._set=p}get value(){return this._get()}set value(a){this._set(a)}}function aE(r){return new PZ(r)}function FZ(r){C0(r)||console.warn("toRefs() expects a reactive object but received a plain one.");const a=on(r)?new Array(r.length):{};for(const h in r)a[h]=YZ(r,h);return a}class VZ{constructor(a,h,p){this._object=a,this._key=h,this._defaultValue=p,this.__v_isRef=!0}get value(){const a=this._object[this._key];return a===void 0?this._defaultValue:a}set value(a){this._object[this._key]=a}}function YZ(r,a,h){const p=r[a];return Qn(p)?p:new VZ(r,a,h)}class $Z{constructor(a,h,p,y){this._setter=h,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new W_(a,()=>{this._dirty||(this._dirty=!0,K_(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!y,this.__v_isReadonly=p}get value(){const a=Dn(this);return X_(a),(a._dirty||!a._cacheable)&&(a._dirty=!1,a._value=a.effect.run()),a._value}set value(a){this._setter(a)}}function UZ(r,a,h=!1){let p,y;const b=Cn(r);b?(p=r,y=()=>{console.warn("Write operation failed: computed value is readonly")}):(p=r.get,y=r.set);const E=new $Z(p,y,b||!y,h);return a&&!h&&(E.effect.onTrack=a.onTrack,E.effect.onTrigger=a.onTrigger),E}Promise.resolve();const Cc=[];function g0(r){Cc.push(r)}function m0(){Cc.pop()}function ce(r,...a){Vc();const h=Cc.length?Cc[Cc.length-1].component:null,p=h&&h.appContext.config.warnHandler,y=zZ();if(p)Io(p,h,11,[r+a.join(""),h&&h.proxy,y.map(({vnode:b})=>`at <${eg(h,b.type)}>`).join(`
`),y]);else{const b=[`[Vue warn]: ${r}`,...a];y.length&&b.push(`
`,...HZ(y)),console.warn(...b)}Yc()}function zZ(){let r=Cc[Cc.length-1];if(!r)return[];const a=[];for(;r;){const h=a[0];h&&h.vnode===r?h.recurseCount++:a.push({vnode:r,recurseCount:0});const p=r.component&&r.component.parent;r=p&&p.vnode}return a}function HZ(r){const a=[];return r.forEach((h,p)=>{a.push(...p===0?[]:[`
`],...WZ(h))}),a}function WZ({vnode:r,recurseCount:a}){const h=a>0?`... (${a} recursive calls)`:"",p=r.component?r.component.parent==null:!1,y=` at <${eg(r.component,r.type,p)}`,b=">"+h;return r.props?[y,...jZ(r.props),b]:[y+b]}function jZ(r){const a=[],h=Object.keys(r);return h.slice(0,3).forEach(p=>{a.push(...oE(p,r[p]))}),h.length>3&&a.push(" ..."),a}function oE(r,a,h){return Ar(a)?(a=JSON.stringify(a),h?a:[`${r}=${a}`]):typeof a=="number"||typeof a=="boolean"||a==null?h?a:[`${r}=${a}`]:Qn(a)?(a=oE(r,Dn(a.value),!0),h?a:[`${r}=Ref<`,a,">"]):Cn(a)?[`${r}=fn${a.name?`<${a.name}>`:""}`]:(a=Dn(a),h?a:[`${r}=`,a])}const Z_={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function Io(r,a,h,p){let y;try{y=p?r(...p):r()}catch(b){X0(b,a,h)}return y}function Ns(r,a,h,p){if(Cn(r)){const b=Io(r,a,h,p);return b&&$_(b)&&b.catch(E=>{X0(E,a,h)}),b}const y=[];for(let b=0;b<r.length;b++)y.push(Ns(r[b],a,h,p));return y}function X0(r,a,h,p=!0){const y=a?a.vnode:null;if(a){let b=a.parent;const E=a.proxy,S=Z_[h];for(;b;){const D=b.ec;if(D){for(let C=0;C<D.length;C++)if(D[C](r,E,S)===!1)return}b=b.parent}const L=a.appContext.config.errorHandler;if(L){Io(L,null,10,[r,E,S]);return}}qZ(r,h,y,p)}function qZ(r,a,h,p=!0){{const y=Z_[a];if(h&&g0(h),ce(`Unhandled error${y?` during execution of ${y}`:""}`),h&&m0(),p)throw r;console.error(r)}}let S0=!1,s_=!1;const ds=[];let Ao=0;const Wd=[];let Gu=null,hc=0;const jd=[];let ko=null,dc=0;const lE=Promise.resolve();let Q_=null,a_=null;const GZ=100;function ha(r){const a=Q_||lE;return r?a.then(this?r.bind(this):r):a}function XZ(r){let a=Ao+1,h=ds.length;for(;a<h;){const p=a+h>>>1;nf(ds[p])<r?a=p+1:h=p}return a}function J_(r){(!ds.length||!ds.includes(r,S0&&r.allowRecurse?Ao+1:Ao))&&r!==a_&&(r.id==null?ds.push(r):ds.splice(XZ(r.id),0,r),cE())}function cE(){!S0&&!s_&&(s_=!0,Q_=lE.then(fE))}function KZ(r){const a=ds.indexOf(r);a>Ao&&ds.splice(a,1)}function uE(r,a,h,p){on(r)?h.push(...r):(!a||!a.includes(r,r.allowRecurse?p+1:p))&&h.push(r),cE()}function ZZ(r){uE(r,Gu,Wd,hc)}function hE(r){uE(r,ko,jd,dc)}function tv(r,a=null){if(Wd.length){for(a_=a,Gu=[...new Set(Wd)],Wd.length=0,r=r||new Map,hc=0;hc<Gu.length;hc++)ev(r,Gu[hc])||Gu[hc]();Gu=null,hc=0,a_=null,tv(r,a)}}function dE(r){if(jd.length){const a=[...new Set(jd)];if(jd.length=0,ko){ko.push(...a);return}for(ko=a,r=r||new Map,ko.sort((h,p)=>nf(h)-nf(p)),dc=0;dc<ko.length;dc++)ev(r,ko[dc])||ko[dc]();ko=null,dc=0}}const nf=r=>r.id==null?1/0:r.id;function fE(r){s_=!1,S0=!0,r=r||new Map,tv(r),ds.sort((h,p)=>nf(h)-nf(p));const a=h=>ev(r,h);try{for(Ao=0;Ao<ds.length;Ao++){const h=ds[Ao];if(h&&h.active!==!1){if(a(h))continue;Io(h,null,14)}}}finally{Ao=0,ds.length=0,dE(r),S0=!1,Q_=null,(ds.length||Wd.length||jd.length)&&fE(r)}}function ev(r,a){if(!r.has(a))r.set(a,1);else{const h=r.get(a);if(h>GZ){const p=a.ownerInstance,y=p&&af(p.type);return ce(`Maximum recursive updates exceeded${y?` in component <${y}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else r.set(a,h+1)}}let dl=!1;const Xu=new Set;$T().__VUE_HMR_RUNTIME__={createRecord:V2(pE),rerender:V2(tQ),reload:V2(eQ)};const Bc=new Map;function QZ(r){const a=r.type.__hmrId;let h=Bc.get(a);h||(pE(a,r.type),h=Bc.get(a)),h.instances.add(r)}function JZ(r){Bc.get(r.type.__hmrId).instances.delete(r)}function pE(r,a){return Bc.has(r)?!1:(Bc.set(r,{initialDef:qd(a),instances:new Set}),!0)}function qd(r){return WE(r)?r.__vccOpts:r}function tQ(r,a){const h=Bc.get(r);h&&(h.initialDef.render=a,[...h.instances].forEach(p=>{a&&(p.render=a,qd(p.type).render=a),p.renderCache=[],dl=!0,p.update(),dl=!1}))}function eQ(r,a){const h=Bc.get(r);if(!h)return;a=qd(a),J6(h.initialDef,a);const p=[...h.instances];for(const y of p){const b=qd(y.type);Xu.has(b)||(b!==h.initialDef&&J6(b,a),Xu.add(b)),y.appContext.optionsCache.delete(y.type),y.ceReload?(Xu.add(b),y.ceReload(a.styles),Xu.delete(b)):y.parent?(J_(y.parent.update),y.parent.type.__asyncLoader&&y.parent.ceReload&&y.parent.ceReload(a.styles)):y.appContext.reload?y.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}hE(()=>{for(const y of p)Xu.delete(qd(y.type))})}function J6(r,a){Nr(r,a);for(const h in r)h!=="__file"&&!(h in a)&&delete r[h]}function V2(r){return(a,h)=>{try{return r(a,h)}catch(p){console.error(p),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let gc,Ud=[],o_=!1;function pf(r,...a){gc?gc.emit(r,...a):o_||Ud.push({event:r,args:a})}function gE(r,a){var h,p;gc=r,gc?(gc.enabled=!0,Ud.forEach(({event:y,args:b})=>gc.emit(y,...b)),Ud=[]):typeof window<"u"&&window.HTMLElement&&!(!((p=(h=window.navigator)===null||h===void 0?void 0:h.userAgent)===null||p===void 0)&&p.includes("jsdom"))?((a.__VUE_DEVTOOLS_HOOK_REPLAY__=a.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(b=>{gE(b,a)}),setTimeout(()=>{gc||(a.__VUE_DEVTOOLS_HOOK_REPLAY__=null,o_=!0,Ud=[])},3e3)):(o_=!0,Ud=[])}function nQ(r,a){pf("app:init",r,a,{Fragment:sr,Text:J0,Comment:Ii,Static:y0})}function rQ(r){pf("app:unmount",r)}const l_=nv("component:added"),mE=nv("component:updated"),iQ=nv("component:removed");function nv(r){return a=>{pf(r,a.appContext.app,a.uid,a.parent?a.parent.uid:void 0,a)}}const sQ=yE("perf:start"),aQ=yE("perf:end");function yE(r){return(a,h,p)=>{pf(r,a.appContext.app,a.uid,a,h,p)}}function oQ(r,a,h){pf("component:emit",r.appContext.app,r,a,h)}function lQ(r,a,...h){const p=r.vnode.props||rr;{const{emitsOptions:C,propsOptions:[V]}=r;if(C)if(!(a in C))(!V||!(uc(a)in V))&&ce(`Component emitted event "${a}" but it is neither declared in the emits option nor as an "${uc(a)}" prop.`);else{const j=C[a];Cn(j)&&(j(...h)||ce(`Invalid event arguments: event validation failed for event "${a}".`))}}let y=h;const b=a.startsWith("update:"),E=b&&a.slice(7);if(E&&E in p){const C=`${E==="modelValue"?"model":E}Modifiers`,{number:V,trim:j}=p[C]||rr;j?y=h.map(rt=>rt.trim()):V&&(y=h.map(E0))}oQ(r,a,y);{const C=a.toLowerCase();C!==a&&p[uc(C)]&&ce(`Event "${C}" is emitted in component ${eg(r,r.type)} but the handler is registered for "${a}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Mo(a)}" instead of "${a}".`)}let S,L=p[S=uc(a)]||p[S=uc(Ra(a))];!L&&b&&(L=p[S=uc(Mo(a))]),L&&Ns(L,r,6,y);const D=p[S+"Once"];if(D){if(!r.emitted)r.emitted={};else if(r.emitted[S])return;r.emitted[S]=!0,Ns(D,r,6,y)}}function _E(r,a,h=!1){const p=a.emitsCache,y=p.get(r);if(y!==void 0)return y;const b=r.emits;let E={},S=!1;if(!Cn(r)){const L=D=>{const C=_E(D,a,!0);C&&(S=!0,Nr(E,C))};!h&&a.mixins.length&&a.mixins.forEach(L),r.extends&&L(r.extends),r.mixins&&r.mixins.forEach(L)}return!b&&!S?(p.set(r,null),null):(on(b)?b.forEach(L=>E[L]=null):Nr(E,b),p.set(r,E),E)}function rv(r,a){return!r||!ff(a)?!1:(a=a.slice(2).replace(/Once$/,""),Wn(r,a[0].toLowerCase()+a.slice(1))||Wn(r,Mo(a))||Wn(r,a))}let Hi=null,K0=null;function A0(r){const a=Hi;return Hi=r,K0=r&&r.type.__scopeId||null,a}function cft(r){K0=r}function uft(){K0=null}function Mn(r,a=Hi,h){if(!a||r._n)return r;const p=(...y)=>{p._d&&f8(-1);const b=A0(a),E=r(...y);return A0(b),p._d&&f8(1),mE(a),E};return p._n=!0,p._c=!0,p._d=!0,p}let c_=!1;function L0(){c_=!0}function Y2(r){const{type:a,vnode:h,proxy:p,withProxy:y,props:b,propsOptions:[E],slots:S,attrs:L,emit:D,render:C,renderCache:V,data:j,setupState:rt,ctx:it,inheritAttrs:Tt}=r;let Ct,$t;const Rt=A0(r);c_=!1;try{if(h.shapeFlag&4){const ke=y||p;Ct=ca(C.call(ke,ke,V,b,rt,j,it)),$t=L}else{const ke=a;L===b&&L0(),Ct=ca(ke.length>1?ke(b,{get attrs(){return L0(),L},slots:S,emit:D}):ke(b,null)),$t=a.props?L:uQ(L)}}catch(ke){Xd.length=0,X0(ke,r,1),Ct=Be(Ii)}let Kt=Ct,de;if(Ct.patchFlag>0&&Ct.patchFlag&2048&&([Kt,de]=cQ(Ct)),$t&&Tt!==!1){const ke=Object.keys($t),{shapeFlag:ve}=Kt;if(ke.length){if(ve&7)E&&ke.some(x0)&&($t=hQ($t,E)),Kt=Do(Kt,$t);else if(!c_&&Kt.type!==Ii){const te=Object.keys(L),Le=[],je=[];for(let en=0,xn=te.length;en<xn;en++){const Oe=te[en];ff(Oe)?x0(Oe)||Le.push(Oe[2].toLowerCase()+Oe.slice(3)):je.push(Oe)}je.length&&ce(`Extraneous non-props attributes (${je.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),Le.length&&ce(`Extraneous non-emits event listeners (${Le.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return h.dirs&&(t8(Kt)||ce("Runtime directive used on component with non-element root node. The directives will not function as intended."),Kt.dirs=Kt.dirs?Kt.dirs.concat(h.dirs):h.dirs),h.transition&&(t8(Kt)||ce("Component inside <Transition> renders non-element root node that cannot be animated."),Kt.transition=h.transition),de?de(Kt):Ct=Kt,A0(Rt),Ct}const cQ=r=>{const a=r.children,h=r.dynamicChildren,p=vE(a);if(!p)return[r,void 0];const y=a.indexOf(p),b=h?h.indexOf(p):-1,E=S=>{a[y]=S,h&&(b>-1?h[b]=S:S.patchFlag>0&&(r.dynamicChildren=[...h,S]))};return[ca(p),E]};function vE(r){let a;for(let h=0;h<r.length;h++){const p=r[h];if(yl(p)){if(p.type!==Ii||p.children==="v-if"){if(a)return;a=p}}else return}return a}const uQ=r=>{let a;for(const h in r)(h==="class"||h==="style"||ff(h))&&((a||(a={}))[h]=r[h]);return a},hQ=(r,a)=>{const h={};for(const p in r)(!x0(p)||!(p.slice(9)in a))&&(h[p]=r[p]);return h},t8=r=>r.shapeFlag&7||r.type===Ii;function dQ(r,a,h){const{props:p,children:y,component:b}=r,{props:E,children:S,patchFlag:L}=a,D=b.emitsOptions;if((y||S)&&dl||a.dirs||a.transition)return!0;if(h&&L>=0){if(L&1024)return!0;if(L&16)return p?e8(p,E,D):!!E;if(L&8){const C=a.dynamicProps;for(let V=0;V<C.length;V++){const j=C[V];if(E[j]!==p[j]&&!rv(D,j))return!0}}}else return(y||S)&&(!S||!S.$stable)?!0:p===E?!1:p?E?e8(p,E,D):!0:!!E;return!1}function e8(r,a,h){const p=Object.keys(a);if(p.length!==Object.keys(r).length)return!0;for(let y=0;y<p.length;y++){const b=p[y];if(a[b]!==r[b]&&!rv(h,b))return!0}return!1}function fQ({vnode:r,parent:a},h){for(;a&&a.subTree===r;)(r=a.vnode).el=h,a=a.parent}const pQ=r=>r.__isSuspense;function gQ(r,a){a&&a.pendingBranch?on(r)?a.effects.push(...r):a.effects.push(r):hE(r)}function hs(r,a){if(!ni)ce("provide() can only be used inside setup().");else{let h=ni.provides;const p=ni.parent&&ni.parent.provides;p===h&&(h=ni.provides=Object.create(p)),h[r]=a}}function sn(r,a,h=!1){const p=ni||Hi;if(p){const y=p.parent==null?p.vnode.appContext&&p.vnode.appContext.provides:p.parent.provides;if(y&&r in y)return y[r];if(arguments.length>1)return h&&Cn(a)?a.call(p.proxy):a;ce(`injection "${String(r)}" not found.`)}else ce("inject() can only be used inside setup() or functional components.")}function Oo(r,a){return iv(r,null,a)}const n8={};function Er(r,a,h){return Cn(a)||ce("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),iv(r,a,h)}function iv(r,a,{immediate:h,deep:p,flush:y,onTrack:b,onTrigger:E}=rr){a||(h!==void 0&&ce('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),p!==void 0&&ce('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const S=Rt=>{ce("Invalid watch source: ",Rt,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},L=ni;let D,C=!1,V=!1;if(Qn(r)?(D=()=>r.value,C=rE(r)):Ec(r)?(D=()=>r,p=!0):on(r)?(V=!0,C=r.some(Ec),D=()=>r.map(Rt=>{if(Qn(Rt))return Rt.value;if(Ec(Rt))return bc(Rt);if(Cn(Rt))return Io(Rt,L,2);S(Rt)})):Cn(r)?a?D=()=>Io(r,L,2):D=()=>{if(!(L&&L.isUnmounted))return j&&j(),Ns(r,L,3,[rt])}:(D=ts,S(r)),a&&p){const Rt=D;D=()=>bc(Rt())}let j,rt=Rt=>{j=$t.onStop=()=>{Io(Rt,L,4)}};if(sf)return rt=ts,a?h&&Ns(a,L,3,[D(),V?[]:void 0,rt]):D(),ts;let it=V?[]:n8;const Tt=()=>{if($t.active)if(a){const Rt=$t.run();(p||C||(V?Rt.some((Kt,de)=>tf(Kt,it[de])):tf(Rt,it)))&&(j&&j(),Ns(a,L,3,[Rt,it===n8?void 0:it,rt]),it=Rt)}else $t.run()};Tt.allowRecurse=!!a;let Ct;y==="sync"?Ct=Tt:y==="post"?Ct=()=>gi(Tt,L&&L.suspense):Ct=()=>{!L||L.isMounted?ZZ(Tt):Tt()};const $t=new W_(D,Ct);return $t.onTrack=b,$t.onTrigger=E,a?h?Tt():it=$t.run():y==="post"?gi($t.run.bind($t),L&&L.suspense):$t.run(),()=>{$t.stop(),L&&L.scope&&V_(L.scope.effects,$t)}}function mQ(r,a,h){const p=this.proxy,y=Ar(r)?r.includes(".")?bE(p,r):()=>p[r]:r.bind(p,p);let b;Cn(a)?b=a:(b=a.handler,h=a);const E=ni;sh(this);const S=iv(y,b.bind(p),h);return E?sh(E):Lc(),S}function bE(r,a){const h=a.split(".");return()=>{let p=r;for(let y=0;y<h.length&&p;y++)p=p[h[y]];return p}}function bc(r,a){if(!Tr(r)||r.__v_skip||(a=a||new Set,a.has(r)))return r;if(a.add(r),Qn(r))bc(r.value,a);else if(on(r))for(let h=0;h<r.length;h++)bc(r[h],a);else if(FT(r)||xc(r))r.forEach(h=>{bc(h,a)});else if(YT(r))for(const h in r)bc(r[h],a);return r}function kE(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mf(()=>{r.isMounted=!0}),ov(()=>{r.isUnmounting=!0}),r}const Ss=[Function,Array],yQ={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ss,onEnter:Ss,onAfterEnter:Ss,onEnterCancelled:Ss,onBeforeLeave:Ss,onLeave:Ss,onAfterLeave:Ss,onLeaveCancelled:Ss,onBeforeAppear:Ss,onAppear:Ss,onAfterAppear:Ss,onAppearCancelled:Ss},setup(r,{slots:a}){const h=fa(),p=kE();let y;return()=>{const b=a.default&&sv(a.default(),!0);if(!b||!b.length)return;b.length>1&&ce("<transition> can only be used on a single element or component. Use <transition-group> for lists.");const E=Dn(r),{mode:S}=E;S&&S!=="in-out"&&S!=="out-in"&&S!=="default"&&ce(`invalid <transition> mode: ${S}`);const L=b[0];if(p.isLeaving)return $2(L);const D=r8(L);if(!D)return $2(L);const C=rf(D,E,p,h);rh(D,C);const V=h.subTree,j=V&&r8(V);let rt=!1;const{getTransitionKey:it}=D.type;if(it){const Tt=it();y===void 0?y=Tt:Tt!==y&&(y=Tt,rt=!0)}if(j&&j.type!==Ii&&(!yc(D,j)||rt)){const Tt=rf(j,E,p,h);if(rh(j,Tt),S==="out-in")return p.isLeaving=!0,Tt.afterLeave=()=>{p.isLeaving=!1,h.update()},$2(L);S==="in-out"&&D.type!==Ii&&(Tt.delayLeave=(Ct,$t,Rt)=>{const Kt=wE(p,j);Kt[String(j.key)]=j,Ct._leaveCb=()=>{$t(),Ct._leaveCb=void 0,delete C.delayedLeave},C.delayedLeave=Rt})}return L}}},_Q=yQ;function wE(r,a){const{leavingVNodes:h}=r;let p=h.get(a.type);return p||(p=Object.create(null),h.set(a.type,p)),p}function rf(r,a,h,p){const{appear:y,mode:b,persisted:E=!1,onBeforeEnter:S,onEnter:L,onAfterEnter:D,onEnterCancelled:C,onBeforeLeave:V,onLeave:j,onAfterLeave:rt,onLeaveCancelled:it,onBeforeAppear:Tt,onAppear:Ct,onAfterAppear:$t,onAppearCancelled:Rt}=a,Kt=String(r.key),de=wE(h,r),ke=(te,Le)=>{te&&Ns(te,p,9,Le)},ve={mode:b,persisted:E,beforeEnter(te){let Le=S;if(!h.isMounted)if(y)Le=Tt||S;else return;te._leaveCb&&te._leaveCb(!0);const je=de[Kt];je&&yc(r,je)&&je.el._leaveCb&&je.el._leaveCb(),ke(Le,[te])},enter(te){let Le=L,je=D,en=C;if(!h.isMounted)if(y)Le=Ct||L,je=$t||D,en=Rt||C;else return;let xn=!1;const Oe=te._enterCb=Un=>{xn||(xn=!0,Un?ke(en,[te]):ke(je,[te]),ve.delayedLeave&&ve.delayedLeave(),te._enterCb=void 0)};Le?(Le(te,Oe),Le.length<=1&&Oe()):Oe()},leave(te,Le){const je=String(r.key);if(te._enterCb&&te._enterCb(!0),h.isUnmounting)return Le();ke(V,[te]);let en=!1;const xn=te._leaveCb=Oe=>{en||(en=!0,Le(),Oe?ke(it,[te]):ke(rt,[te]),te._leaveCb=void 0,de[je]===r&&delete de[je])};de[je]=r,j?(j(te,xn),j.length<=1&&xn()):xn()},clone(te){return rf(te,a,h,p)}};return ve}function $2(r){if(gf(r))return r=Do(r),r.children=null,r}function r8(r){return gf(r)?r.children?r.children[0]:void 0:r}function rh(r,a){r.shapeFlag&6&&r.component?rh(r.component.subTree,a):r.shapeFlag&128?(r.ssContent.transition=a.clone(r.ssContent),r.ssFallback.transition=a.clone(r.ssFallback)):r.transition=a}function sv(r,a=!1){let h=[],p=0;for(let y=0;y<r.length;y++){const b=r[y];b.type===sr?(b.patchFlag&128&&p++,h=h.concat(sv(b.children,a))):(a||b.type!==Ii)&&h.push(b)}if(p>1)for(let y=0;y<h.length;y++)h[y].patchFlag=-2;return h}function hr(r){return Cn(r)?{setup:r,name:r.name}:r}const I0=r=>!!r.type.__asyncLoader,gf=r=>r.type.__isKeepAlive,vQ={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(r,{slots:a}){const h=fa(),p=h.ctx;if(!p.renderer)return a.default;const y=new Map,b=new Set;let E=null;h.__v_cache=y;const S=h.suspense,{renderer:{p:L,m:D,um:C,o:{createElement:V}}}=p,j=V("div");p.activate=(Rt,Kt,de,ke,ve)=>{const te=Rt.component;D(Rt,Kt,de,0,S),L(te.vnode,Rt,Kt,de,te,S,ke,Rt.slotScopeIds,ve),gi(()=>{te.isDeactivated=!1,te.a&&cl(te.a);const Le=Rt.props&&Rt.props.onVnodeMounted;Le&&As(Le,te.parent,Rt)},S),l_(te)},p.deactivate=Rt=>{const Kt=Rt.component;D(Rt,j,null,1,S),gi(()=>{Kt.da&&cl(Kt.da);const de=Rt.props&&Rt.props.onVnodeUnmounted;de&&As(de,Kt.parent,Rt),Kt.isDeactivated=!0},S),l_(Kt)};function rt(Rt){U2(Rt),C(Rt,h,S,!0)}function it(Rt){y.forEach((Kt,de)=>{const ke=af(Kt.type);ke&&(!Rt||!Rt(ke))&&Tt(de)})}function Tt(Rt){const Kt=y.get(Rt);!E||Kt.type!==E.type?rt(Kt):E&&U2(E),y.delete(Rt),b.delete(Rt)}Er(()=>[r.include,r.exclude],([Rt,Kt])=>{Rt&&it(de=>zd(Rt,de)),Kt&&it(de=>!zd(Kt,de))},{flush:"post",deep:!0});let Ct=null;const $t=()=>{Ct!=null&&y.set(Ct,z2(h.subTree))};return mf($t),av($t),ov(()=>{y.forEach(Rt=>{const{subTree:Kt,suspense:de}=h,ke=z2(Kt);if(Rt.type===ke.type){U2(ke);const ve=ke.component.da;ve&&gi(ve,de);return}rt(Rt)})}),()=>{if(Ct=null,!a.default)return null;const Rt=a.default(),Kt=Rt[0];if(Rt.length>1)return ce("KeepAlive should contain exactly one component child."),E=null,Rt;if(!yl(Kt)||!(Kt.shapeFlag&4)&&!(Kt.shapeFlag&128))return E=null,Kt;let de=z2(Kt);const ke=de.type,ve=af(I0(de)?de.type.__asyncResolved||{}:ke),{include:te,exclude:Le,max:je}=r;if(te&&(!ve||!zd(te,ve))||Le&&ve&&zd(Le,ve))return E=de,Kt;const en=de.key==null?ke:de.key,xn=y.get(en);return de.el&&(de=Do(de),Kt.shapeFlag&128&&(Kt.ssContent=de)),Ct=en,xn?(de.el=xn.el,de.component=xn.component,de.transition&&rh(de,de.transition),de.shapeFlag|=512,b.delete(en),b.add(en)):(b.add(en),je&&b.size>parseInt(je,10)&&Tt(b.values().next().value)),de.shapeFlag|=256,E=de,Kt}}},xE=vQ;function zd(r,a){return on(r)?r.some(h=>zd(h,a)):Ar(r)?r.split(",").includes(a):r.test?r.test(a):!1}function bQ(r,a){TE(r,"a",a)}function kQ(r,a){TE(r,"da",a)}function TE(r,a,h=ni){const p=r.__wdc||(r.__wdc=()=>{let y=h;for(;y;){if(y.isDeactivated)return;y=y.parent}return r()});if(Z0(a,p,h),h){let y=h.parent;for(;y&&y.parent;)gf(y.parent.vnode)&&wQ(p,a,h,y),y=y.parent}}function wQ(r,a,h,p){const y=Z0(a,r,p,!0);Q0(()=>{V_(p[a],y)},h)}function U2(r){let a=r.shapeFlag;a&256&&(a-=256),a&512&&(a-=512),r.shapeFlag=a}function z2(r){return r.shapeFlag&128?r.ssContent:r}function Z0(r,a,h=ni,p=!1){if(h){const y=h[r]||(h[r]=[]),b=a.__weh||(a.__weh=(...E)=>{if(h.isUnmounted)return;Vc(),sh(h);const S=Ns(a,h,r,E);return Lc(),Yc(),S});return p?y.unshift(b):y.push(b),b}else{const y=uc(Z_[r].replace(/ hook$/,""));ce(`${y} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Ro=r=>(a,h=ni)=>(!sf||r==="sp")&&Z0(r,a,h),xQ=Ro("bm"),mf=Ro("m"),TQ=Ro("bu"),av=Ro("u"),ov=Ro("bum"),Q0=Ro("um"),EQ=Ro("sp"),CQ=Ro("rtg"),SQ=Ro("rtc");function AQ(r,a=ni){Z0("ec",r,a)}function LQ(){const r=Object.create(null);return(a,h)=>{r[h]?ce(`${a} property "${h}" is already defined in ${r[h]}.`):r[h]=a}}let u_=!0;function IQ(r){const a=CE(r),h=r.proxy,p=r.ctx;u_=!1,a.beforeCreate&&i8(a.beforeCreate,r,"bc");const{data:y,computed:b,methods:E,watch:S,provide:L,inject:D,created:C,beforeMount:V,mounted:j,beforeUpdate:rt,updated:it,activated:Tt,deactivated:Ct,beforeDestroy:$t,beforeUnmount:Rt,destroyed:Kt,unmounted:de,render:ke,renderTracked:ve,renderTriggered:te,errorCaptured:Le,serverPrefetch:je,expose:en,inheritAttrs:xn,components:Oe,directives:Un,filters:pr}=a,Kn=LQ();{const[Ne]=r.propsOptions;if(Ne)for(const Ke in Ne)Kn("Props",Ke)}if(D&&MQ(D,p,Kn,r.appContext.config.unwrapInjectedRef),E)for(const Ne in E){const Ke=E[Ne];Cn(Ke)?(Object.defineProperty(p,Ne,{value:Ke.bind(h),configurable:!0,enumerable:!0,writable:!0}),Kn("Methods",Ne)):ce(`Method "${Ne}" has type "${typeof Ke}" in the component definition. Did you reference the function correctly?`)}if(y){Cn(y)||ce("The data option must be a function. Plain object usage is no longer supported.");const Ne=y.call(h,h);if($_(Ne)&&ce("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Tr(Ne))ce("data() should return an object.");else{r.data=yi(Ne);for(const Ke in Ne)Kn("Data",Ke),Ke[0]!=="$"&&Ke[0]!=="_"&&Object.defineProperty(p,Ke,{configurable:!0,enumerable:!0,get:()=>Ne[Ke],set:ts})}}if(u_=!0,b)for(const Ne in b){const Ke=b[Ne],Fn=Cn(Ke)?Ke.bind(h,h):Cn(Ke.get)?Ke.get.bind(h,h):ts;Fn===ts&&ce(`Computed property "${Ne}" has no getter.`);const qn=!Cn(Ke)&&Cn(Ke.set)?Ke.set.bind(h):()=>{ce(`Write operation failed: computed property "${Ne}" is readonly.`)},bi=ee({get:Fn,set:qn});Object.defineProperty(p,Ne,{enumerable:!0,configurable:!0,get:()=>bi.value,set:ii=>bi.value=ii}),Kn("Computed",Ne)}if(S)for(const Ne in S)EE(S[Ne],p,h,Ne);if(L){const Ne=Cn(L)?L.call(h):L;Reflect.ownKeys(Ne).forEach(Ke=>{hs(Ke,Ne[Ke])})}C&&i8(C,r,"c");function er(Ne,Ke){on(Ke)?Ke.forEach(Fn=>Ne(Fn.bind(h))):Ke&&Ne(Ke.bind(h))}if(er(xQ,V),er(mf,j),er(TQ,rt),er(av,it),er(bQ,Tt),er(kQ,Ct),er(AQ,Le),er(SQ,ve),er(CQ,te),er(ov,Rt),er(Q0,de),er(EQ,je),on(en))if(en.length){const Ne=r.exposed||(r.exposed={});en.forEach(Ke=>{Object.defineProperty(Ne,Ke,{get:()=>h[Ke],set:Fn=>h[Ke]=Fn})})}else r.exposed||(r.exposed={});ke&&r.render===ts&&(r.render=ke),xn!=null&&(r.inheritAttrs=xn),Oe&&(r.components=Oe),Un&&(r.directives=Un)}function MQ(r,a,h=ts,p=!1){on(r)&&(r=h_(r));for(const y in r){const b=r[y];let E;Tr(b)?"default"in b?E=sn(b.from||y,b.default,!0):E=sn(b.from||y):E=sn(b),Qn(E)?p?Object.defineProperty(a,y,{enumerable:!0,configurable:!0,get:()=>E.value,set:S=>E.value=S}):(ce(`injected property "${y}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),a[y]=E):a[y]=E,h("Inject",y)}}function i8(r,a,h){Ns(on(r)?r.map(p=>p.bind(a.proxy)):r.bind(a.proxy),a,h)}function EE(r,a,h,p){const y=p.includes(".")?bE(h,p):()=>h[p];if(Ar(r)){const b=a[r];Cn(b)?Er(y,b):ce(`Invalid watch handler specified by key "${r}"`,b)}else if(Cn(r))Er(y,r.bind(h));else if(Tr(r))if(on(r))r.forEach(b=>EE(b,a,h,p));else{const b=Cn(r.handler)?r.handler.bind(h):a[r.handler];Cn(b)?Er(y,b,r):ce(`Invalid watch handler specified by key "${r.handler}"`,b)}else ce(`Invalid watch option: "${p}"`,r)}function CE(r){const a=r.type,{mixins:h,extends:p}=a,{mixins:y,optionsCache:b,config:{optionMergeStrategies:E}}=r.appContext,S=b.get(a);let L;return S?L=S:!y.length&&!h&&!p?L=a:(L={},y.length&&y.forEach(D=>M0(L,D,E,!0)),M0(L,a,E)),b.set(a,L),L}function M0(r,a,h,p=!1){const{mixins:y,extends:b}=a;b&&M0(r,b,h,!0),y&&y.forEach(E=>M0(r,E,h,!0));for(const E in a)if(p&&E==="expose")ce('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const S=NQ[E]||h&&h[E];r[E]=S?S(r[E],a[E]):a[E]}return r}const NQ={data:s8,props:fc,emits:fc,methods:fc,computed:fc,beforeCreate:Yi,created:Yi,beforeMount:Yi,mounted:Yi,beforeUpdate:Yi,updated:Yi,beforeDestroy:Yi,beforeUnmount:Yi,destroyed:Yi,unmounted:Yi,activated:Yi,deactivated:Yi,errorCaptured:Yi,serverPrefetch:Yi,components:fc,directives:fc,watch:DQ,provide:s8,inject:OQ};function s8(r,a){return a?r?function(){return Nr(Cn(r)?r.call(this,this):r,Cn(a)?a.call(this,this):a)}:a:r}function OQ(r,a){return fc(h_(r),h_(a))}function h_(r){if(on(r)){const a={};for(let h=0;h<r.length;h++)a[r[h]]=r[h];return a}return r}function Yi(r,a){return r?[...new Set([].concat(r,a))]:a}function fc(r,a){return r?Nr(Nr(Object.create(null),r),a):a}function DQ(r,a){if(!r)return a;if(!a)return r;const h=Nr(Object.create(null),r);for(const p in a)h[p]=Yi(r[p],a[p]);return h}function RQ(r,a,h,p=!1){const y={},b={};T0(b,tg,1),r.propsDefaults=Object.create(null),SE(r,a,y,b);for(const E in r.propsOptions[0])E in y||(y[E]=void 0);LE(a||{},y,r),h?r.props=p?y:DZ(y):r.type.props?r.props=y:r.props=b,r.attrs=b}function BQ(r,a,h,p){const{props:y,attrs:b,vnode:{patchFlag:E}}=r,S=Dn(y),[L]=r.propsOptions;let D=!1;if(!(r.type.__hmrId||r.parent&&r.parent.type.__hmrId)&&(p||E>0)&&!(E&16)){if(E&8){const C=r.vnode.dynamicProps;for(let V=0;V<C.length;V++){let j=C[V];const rt=a[j];if(L)if(Wn(b,j))rt!==b[j]&&(b[j]=rt,D=!0);else{const it=Ra(j);y[it]=d_(L,S,it,rt,r,!1)}else rt!==b[j]&&(b[j]=rt,D=!0)}}}else{SE(r,a,y,b)&&(D=!0);let C;for(const V in S)(!a||!Wn(a,V)&&((C=Mo(V))===V||!Wn(a,C)))&&(L?h&&(h[V]!==void 0||h[C]!==void 0)&&(y[V]=d_(L,S,V,void 0,r,!0)):delete y[V]);if(b!==S)for(const V in b)(!a||!Wn(a,V))&&(delete b[V],D=!0)}D&&No(r,"set","$attrs"),LE(a||{},y,r)}function SE(r,a,h,p){const[y,b]=r.propsOptions;let E=!1,S;if(a)for(let L in a){if(p0(L))continue;const D=a[L];let C;y&&Wn(y,C=Ra(L))?!b||!b.includes(C)?h[C]=D:(S||(S={}))[C]=D:rv(r.emitsOptions,L)||(!(L in p)||D!==p[L])&&(p[L]=D,E=!0)}if(b){const L=Dn(h),D=S||rr;for(let C=0;C<b.length;C++){const V=b[C];h[V]=d_(y,L,V,D[V],r,!Wn(D,V))}}return E}function d_(r,a,h,p,y,b){const E=r[h];if(E!=null){const S=Wn(E,"default");if(S&&p===void 0){const L=E.default;if(E.type!==Function&&Cn(L)){const{propsDefaults:D}=y;h in D?p=D[h]:(sh(y),p=D[h]=L.call(null,a),Lc())}else p=L}E[0]&&(b&&!S?p=!1:E[1]&&(p===""||p===Mo(h))&&(p=!0))}return p}function AE(r,a,h=!1){const p=a.propsCache,y=p.get(r);if(y)return y;const b=r.props,E={},S=[];let L=!1;if(!Cn(r)){const C=V=>{L=!0;const[j,rt]=AE(V,a,!0);Nr(E,j),rt&&S.push(...rt)};!h&&a.mixins.length&&a.mixins.forEach(C),r.extends&&C(r.extends),r.mixins&&r.mixins.forEach(C)}if(!b&&!L)return p.set(r,th),th;if(on(b))for(let C=0;C<b.length;C++){Ar(b[C])||ce("props must be strings when using array syntax.",b[C]);const V=Ra(b[C]);a8(V)&&(E[V]=rr)}else if(b){Tr(b)||ce("invalid props options",b);for(const C in b){const V=Ra(C);if(a8(V)){const j=b[C],rt=E[V]=on(j)||Cn(j)?{type:j}:j;if(rt){const it=l8(Boolean,rt.type),Tt=l8(String,rt.type);rt[0]=it>-1,rt[1]=Tt<0||it<Tt,(it>-1||Wn(rt,"default"))&&S.push(V)}}}}const D=[E,S];return p.set(r,D),D}function a8(r){return r[0]!=="$"?!0:(ce(`Invalid prop name: "${r}" is a reserved property.`),!1)}function f_(r){const a=r&&r.toString().match(/^\s*function (\w+)/);return a?a[1]:r===null?"null":""}function o8(r,a){return f_(r)===f_(a)}function l8(r,a){return on(a)?a.findIndex(h=>o8(h,r)):Cn(a)&&o8(a,r)?0:-1}function LE(r,a,h){const p=Dn(a),y=h.propsOptions[0];for(const b in y){let E=y[b];E!=null&&PQ(b,p[b],E,!Wn(r,b)&&!Wn(r,Mo(b)))}}function PQ(r,a,h,p){const{type:y,required:b,validator:E}=h;if(b&&p){ce('Missing required prop: "'+r+'"');return}if(!(a==null&&!h.required)){if(y!=null&&y!==!0){let S=!1;const L=on(y)?y:[y],D=[];for(let C=0;C<L.length&&!S;C++){const{valid:V,expectedType:j}=VQ(a,L[C]);D.push(j||""),S=V}if(!S){ce(YQ(r,a,D));return}}E&&!E(a)&&ce('Invalid prop: custom validator check failed for prop "'+r+'".')}}const FQ=vl("String,Number,Boolean,Function,Symbol,BigInt");function VQ(r,a){let h;const p=f_(a);if(FQ(p)){const y=typeof r;h=y===p.toLowerCase(),!h&&y==="object"&&(h=r instanceof a)}else p==="Object"?h=Tr(r):p==="Array"?h=on(r):p==="null"?h=r===null:h=r instanceof a;return{valid:h,expectedType:p}}function YQ(r,a,h){let p=`Invalid prop: type check failed for prop "${r}". Expected ${h.map(Dc).join(" | ")}`;const y=h[0],b=U_(a),E=c8(a,y),S=c8(a,b);return h.length===1&&u8(y)&&!$Q(y,b)&&(p+=` with value ${E}`),p+=`, got ${b} `,u8(b)&&(p+=`with value ${S}.`),p}function c8(r,a){return a==="String"?`"${r}"`:a==="Number"?`${Number(r)}`:`${r}`}function u8(r){return["string","number","boolean"].some(h=>r.toLowerCase()===h)}function $Q(...r){return r.some(a=>a.toLowerCase()==="boolean")}const IE=r=>r[0]==="_"||r==="$stable",lv=r=>on(r)?r.map(ca):[ca(r)],UQ=(r,a,h)=>{const p=Mn((...y)=>(ni&&ce(`Slot "${r}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),lv(a(...y))),h);return p._c=!1,p},ME=(r,a,h)=>{const p=r._ctx;for(const y in r){if(IE(y))continue;const b=r[y];if(Cn(b))a[y]=UQ(y,b,p);else if(b!=null){ce(`Non-function value encountered for slot "${y}". Prefer function slots for better performance.`);const E=lv(b);a[y]=()=>E}}},NE=(r,a)=>{gf(r.vnode)||ce("Non-function value encountered for default slot. Prefer function slots for better performance.");const h=lv(a);r.slots.default=()=>h},zQ=(r,a)=>{if(r.vnode.shapeFlag&32){const h=a._;h?(r.slots=Dn(a),T0(a,"_",h)):ME(a,r.slots={})}else r.slots={},a&&NE(r,a);T0(r.slots,tg,1)},HQ=(r,a,h)=>{const{vnode:p,slots:y}=r;let b=!0,E=rr;if(p.shapeFlag&32){const S=a._;S?dl?Nr(y,a):h&&S===1?b=!1:(Nr(y,a),!h&&S===1&&delete y._):(b=!a.$stable,ME(a,y)),E=a}else a&&(NE(r,a),E={default:1});if(b)for(const S in y)!IE(S)&&!(S in E)&&delete y[S]};function OE(r){nZ(r)&&ce("Do not use built-in directive ids as custom directive id: "+r)}function Sc(r,a){const h=Hi;if(h===null)return ce("withDirectives can only be used inside render functions."),r;const p=h.proxy,y=r.dirs||(r.dirs=[]);for(let b=0;b<a.length;b++){let[E,S,L,D=rr]=a[b];Cn(E)&&(E={mounted:E,updated:E}),E.deep&&bc(S),y.push({dir:E,instance:p,value:S,oldValue:void 0,arg:L,modifiers:D})}return r}function oc(r,a,h,p){const y=r.dirs,b=a&&a.dirs;for(let E=0;E<y.length;E++){const S=y[E];b&&(S.oldValue=b[E].value);let L=S.dir[p];L&&(Vc(),Ns(L,h,8,[r.el,S,r,a]),Yc())}}function DE(){return{app:null,config:{isNativeTag:PT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let WQ=0;function jQ(r,a){return function(p,y=null){y!=null&&!Tr(y)&&(ce("root props passed to app.mount() must be an object."),y=null);const b=DE(),E=new Set;let S=!1;const L=b.app={_uid:WQ++,_component:p,_props:y,_container:null,_context:b,_instance:null,version:g8,get config(){return b.config},set config(D){ce("app.config cannot be replaced. Modify individual options instead.")},use(D,...C){return E.has(D)?ce("Plugin has already been applied to target app."):D&&Cn(D.install)?(E.add(D),D.install(L,...C)):Cn(D)?(E.add(D),D(L,...C)):ce('A plugin must either be a function or an object with an "install" function.'),L},mixin(D){return b.mixins.includes(D)?ce("Mixin has already been applied to target app"+(D.name?`: ${D.name}`:"")):b.mixins.push(D),L},component(D,C){return v_(D,b.config),C?(b.components[D]&&ce(`Component "${D}" has already been registered in target app.`),b.components[D]=C,L):b.components[D]},directive(D,C){return OE(D),C?(b.directives[D]&&ce(`Directive "${D}" has already been registered in target app.`),b.directives[D]=C,L):b.directives[D]},mount(D,C,V){if(S)ce("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{const j=Be(p,y);return j.appContext=b,b.reload=()=>{r(Do(j),D,V)},C&&a?a(j,D):r(j,D,V),S=!0,L._container=D,D.__vue_app__=L,L._instance=j.component,nQ(L,g8),uv(j.component)||j.component.proxy}},unmount(){S?(r(null,L._container),L._instance=null,rQ(L),delete L._container.__vue_app__):ce("Cannot unmount an app that is not mounted.")},provide(D,C){return D in b.provides&&ce(`App already provides property with key "${String(D)}". It will be overwritten with the new value.`),b.provides[D]=C,L}};return L}}function p_(r,a,h,p,y=!1){if(on(r)){r.forEach((j,rt)=>p_(j,a&&(on(a)?a[rt]:a),h,p,y));return}if(I0(p)&&!y)return;const b=p.shapeFlag&4?uv(p.component)||p.component.proxy:p.el,E=y?null:b,{i:S,r:L}=r;if(!S){ce("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const D=a&&a.r,C=S.refs===rr?S.refs={}:S.refs,V=S.setupState;if(D!=null&&D!==L&&(Ar(D)?(C[D]=null,Wn(V,D)&&(V[D]=null)):Qn(D)&&(D.value=null)),Cn(L))Io(L,S,12,[E,C]);else{const j=Ar(L),rt=Qn(L);if(j||rt){const it=()=>{if(r.f){const Tt=j?C[L]:L.value;y?on(Tt)&&V_(Tt,b):on(Tt)?Tt.includes(b)||Tt.push(b):j?C[L]=[b]:(L.value=[b],r.k&&(C[r.k]=L.value))}else j?(C[L]=E,Wn(V,L)&&(V[L]=E)):Qn(L)?(L.value=E,r.k&&(C[r.k]=E)):ce("Invalid template ref type:",L,`(${typeof L})`)};E?(it.id=-1,gi(it,h)):it()}else ce("Invalid template ref type:",L,`(${typeof L})`)}}let mc,ul;function wo(r,a){r.appContext.config.performance&&RE()&&ul.mark(`vue-${a}-${r.uid}`),sQ(r,a,mc?ul.now():Date.now())}function xo(r,a){if(r.appContext.config.performance&&RE()){const h=`vue-${a}-${r.uid}`,p=h+":end";ul.mark(p),ul.measure(`<${eg(r,r.type)}> ${a}`,h,p),ul.clearMarks(h),ul.clearMarks(p)}aQ(r,a,mc?ul.now():Date.now())}function RE(){return mc!==void 0||(typeof window<"u"&&window.performance?(mc=!0,ul=window.performance):mc=!1),mc}function qQ(){const r=[];if(r.length){const a=r.length>1;console.warn(`Feature flag${a?"s":""} ${r.join(", ")} ${a?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const gi=gQ;function GQ(r){return XQ(r)}function XQ(r,a){qQ();const h=$T();h.__VUE__=!0,gE(h.__VUE_DEVTOOLS_GLOBAL_HOOK__,h);const{insert:p,remove:y,patchProp:b,createElement:E,createText:S,createComment:L,setText:D,setElementText:C,parentNode:V,nextSibling:j,setScopeId:rt=ts,cloneNode:it,insertStaticContent:Tt}=r,Ct=(et,ft,Ft,se=null,ne=null,he=null,Te=!1,ue=null,me=dl?!1:!!ft.dynamicChildren)=>{if(et===ft)return;et&&!yc(et,ft)&&(se=Sn(et),ki(et,ne,he,!0),et=null),ft.patchFlag===-2&&(me=!1,ft.dynamicChildren=null);const{type:ae,ref:$e,shapeFlag:Ue}=ft;switch(ae){case J0:$t(et,ft,Ft,se);break;case Ii:Rt(et,ft,Ft,se);break;case y0:et==null?Kt(ft,Ft,se,Te):de(et,ft,Ft,Te);break;case sr:pr(et,ft,Ft,se,ne,he,Te,ue,me);break;default:Ue&1?te(et,ft,Ft,se,ne,he,Te,ue,me):Ue&6?Kn(et,ft,Ft,se,ne,he,Te,ue,me):Ue&64||Ue&128?ae.process(et,ft,Ft,se,ne,he,Te,ue,me,ln):ce("Invalid VNode type:",ae,`(${typeof ae})`)}$e!=null&&ne&&p_($e,et&&et.ref,he,ft||et,!ft)},$t=(et,ft,Ft,se)=>{if(et==null)p(ft.el=S(ft.children),Ft,se);else{const ne=ft.el=et.el;ft.children!==et.children&&D(ne,ft.children)}},Rt=(et,ft,Ft,se)=>{et==null?p(ft.el=L(ft.children||""),Ft,se):ft.el=et.el},Kt=(et,ft,Ft,se)=>{[et.el,et.anchor]=Tt(et.children,ft,Ft,se,et.el,et.anchor)},de=(et,ft,Ft,se)=>{if(ft.children!==et.children){const ne=j(et.anchor);ve(et),[ft.el,ft.anchor]=Tt(ft.children,Ft,ne,se)}else ft.el=et.el,ft.anchor=et.anchor},ke=({el:et,anchor:ft},Ft,se)=>{let ne;for(;et&&et!==ft;)ne=j(et),p(et,Ft,se),et=ne;p(ft,Ft,se)},ve=({el:et,anchor:ft})=>{let Ft;for(;et&&et!==ft;)Ft=j(et),y(et),et=Ft;y(ft)},te=(et,ft,Ft,se,ne,he,Te,ue,me)=>{Te=Te||ft.type==="svg",et==null?Le(ft,Ft,se,ne,he,Te,ue,me):xn(et,ft,ne,he,Te,ue,me)},Le=(et,ft,Ft,se,ne,he,Te,ue)=>{let me,ae;const{type:$e,props:Ue,shapeFlag:Ze,transition:yn,patchFlag:zn,dirs:dr}=et;{if(me=et.el=E(et.type,he,Ue&&Ue.is,Ue),Ze&8?C(me,et.children):Ze&16&&en(et.children,me,null,se,ne,he&&$e!=="foreignObject",Te,ue),dr&&oc(et,null,se,"created"),Ue){for(const gr in Ue)gr!=="value"&&!p0(gr)&&b(me,gr,null,Ue[gr],he,et.children,se,ne,De);"value"in Ue&&b(me,"value",null,Ue.value),(ae=Ue.onVnodeBeforeMount)&&As(ae,se,et)}je(me,et,et.scopeId,Te,se)}Object.defineProperty(me,"__vnode",{value:et,enumerable:!1}),Object.defineProperty(me,"__vueParentComponent",{value:se,enumerable:!1}),dr&&oc(et,null,se,"beforeMount");const Jn=(!ne||ne&&!ne.pendingBranch)&&yn&&!yn.persisted;Jn&&yn.beforeEnter(me),p(me,ft,Ft),((ae=Ue&&Ue.onVnodeMounted)||Jn||dr)&&gi(()=>{ae&&As(ae,se,et),Jn&&yn.enter(me),dr&&oc(et,null,se,"mounted")},ne)},je=(et,ft,Ft,se,ne)=>{if(Ft&&rt(et,Ft),se)for(let he=0;he<se.length;he++)rt(et,se[he]);if(ne){let he=ne.subTree;if(he.patchFlag>0&&he.patchFlag&2048&&(he=vE(he.children)||he),ft===he){const Te=ne.vnode;je(et,Te,Te.scopeId,Te.slotScopeIds,ne.parent)}}},en=(et,ft,Ft,se,ne,he,Te,ue,me=0)=>{for(let ae=me;ae<et.length;ae++){const $e=et[ae]=ue?ol(et[ae]):ca(et[ae]);Ct(null,$e,ft,Ft,se,ne,he,Te,ue)}},xn=(et,ft,Ft,se,ne,he,Te)=>{const ue=ft.el=et.el;let{patchFlag:me,dynamicChildren:ae,dirs:$e}=ft;me|=et.patchFlag&16;const Ue=et.props||rr,Ze=ft.props||rr;let yn;Ft&&lc(Ft,!1),(yn=Ze.onVnodeBeforeUpdate)&&As(yn,Ft,ft,et),$e&&oc(ft,et,Ft,"beforeUpdate"),Ft&&lc(Ft,!0),dl&&(me=0,Te=!1,ae=null);const zn=ne&&ft.type!=="foreignObject";if(ae?(Oe(et.dynamicChildren,ae,ue,Ft,se,zn,he),Ft&&Ft.type.__hmrId&&Gd(et,ft)):Te||qn(et,ft,ue,null,Ft,se,zn,he,!1),me>0){if(me&16)Un(ue,ft,Ue,Ze,Ft,se,ne);else if(me&2&&Ue.class!==Ze.class&&b(ue,"class",null,Ze.class,ne),me&4&&b(ue,"style",Ue.style,Ze.style,ne),me&8){const dr=ft.dynamicProps;for(let Jn=0;Jn<dr.length;Jn++){const gr=dr[Jn],es=Ue[gr],Va=Ze[gr];(Va!==es||gr==="value")&&b(ue,gr,es,Va,ne,et.children,Ft,se,De)}}me&1&&et.children!==ft.children&&C(ue,ft.children)}else!Te&&ae==null&&Un(ue,ft,Ue,Ze,Ft,se,ne);((yn=Ze.onVnodeUpdated)||$e)&&gi(()=>{yn&&As(yn,Ft,ft,et),$e&&oc(ft,et,Ft,"updated")},se)},Oe=(et,ft,Ft,se,ne,he,Te)=>{for(let ue=0;ue<ft.length;ue++){const me=et[ue],ae=ft[ue],$e=me.el&&(me.type===sr||!yc(me,ae)||me.shapeFlag&70)?V(me.el):Ft;Ct(me,ae,$e,null,se,ne,he,Te,!0)}},Un=(et,ft,Ft,se,ne,he,Te)=>{if(Ft!==se){for(const ue in se){if(p0(ue))continue;const me=se[ue],ae=Ft[ue];me!==ae&&ue!=="value"&&b(et,ue,ae,me,Te,ft.children,ne,he,De)}if(Ft!==rr)for(const ue in Ft)!p0(ue)&&!(ue in se)&&b(et,ue,Ft[ue],null,Te,ft.children,ne,he,De);"value"in se&&b(et,"value",Ft.value,se.value)}},pr=(et,ft,Ft,se,ne,he,Te,ue,me)=>{const ae=ft.el=et?et.el:S(""),$e=ft.anchor=et?et.anchor:S("");let{patchFlag:Ue,dynamicChildren:Ze,slotScopeIds:yn}=ft;dl&&(Ue=0,me=!1,Ze=null),yn&&(ue=ue?ue.concat(yn):yn),et==null?(p(ae,Ft,se),p($e,Ft,se),en(ft.children,Ft,$e,ne,he,Te,ue,me)):Ue>0&&Ue&64&&Ze&&et.dynamicChildren?(Oe(et.dynamicChildren,Ze,Ft,ne,he,Te,ue),ne&&ne.type.__hmrId?Gd(et,ft):(ft.key!=null||ne&&ft===ne.subTree)&&Gd(et,ft,!0)):qn(et,ft,Ft,$e,ne,he,Te,ue,me)},Kn=(et,ft,Ft,se,ne,he,Te,ue,me)=>{ft.slotScopeIds=ue,et==null?ft.shapeFlag&512?ne.ctx.activate(ft,Ft,se,Te,me):er(ft,Ft,se,ne,he,Te,me):Ne(et,ft,me)},er=(et,ft,Ft,se,ne,he,Te)=>{const ue=et.component=hJ(et,se,ne);if(ue.type.__hmrId&&QZ(ue),g0(et),wo(ue,"mount"),gf(et)&&(ue.ctx.renderer=ln),wo(ue,"init"),fJ(ue),xo(ue,"init"),ue.asyncDep){if(ne&&ne.registerDep(ue,Ke),!et.el){const me=ue.subTree=Be(Ii);Rt(null,me,ft,Ft)}return}Ke(ue,et,ft,Ft,ne,he,Te),m0(),xo(ue,"mount")},Ne=(et,ft,Ft)=>{const se=ft.component=et.component;if(dQ(et,ft,Ft))if(se.asyncDep&&!se.asyncResolved){g0(ft),Fn(se,ft,Ft),m0();return}else se.next=ft,KZ(se.update),se.update();else ft.component=et.component,ft.el=et.el,se.vnode=ft},Ke=(et,ft,Ft,se,ne,he,Te)=>{const ue=()=>{if(et.isMounted){let{next:$e,bu:Ue,u:Ze,parent:yn,vnode:zn}=et,dr=$e,Jn;g0($e||et.vnode),lc(et,!1),$e?($e.el=zn.el,Fn(et,$e,Te)):$e=zn,Ue&&cl(Ue),(Jn=$e.props&&$e.props.onVnodeBeforeUpdate)&&As(Jn,yn,$e,zn),lc(et,!0),wo(et,"render");const gr=Y2(et);xo(et,"render");const es=et.subTree;et.subTree=gr,wo(et,"patch"),Ct(es,gr,V(es.el),Sn(es),et,ne,he),xo(et,"patch"),$e.el=gr.el,dr===null&&fQ(et,gr.el),Ze&&gi(Ze,ne),(Jn=$e.props&&$e.props.onVnodeUpdated)&&gi(()=>As(Jn,yn,$e,zn),ne),mE(et),m0()}else{let $e;const{el:Ue,props:Ze}=ft,{bm:yn,m:zn,parent:dr}=et,Jn=I0(ft);if(lc(et,!1),yn&&cl(yn),!Jn&&($e=Ze&&Ze.onVnodeBeforeMount)&&As($e,dr,ft),lc(et,!0),Ue&&ar){const gr=()=>{wo(et,"render"),et.subTree=Y2(et),xo(et,"render"),wo(et,"hydrate"),ar(Ue,et.subTree,et,ne,null),xo(et,"hydrate")};Jn?ft.type.__asyncLoader().then(()=>!et.isUnmounted&&gr()):gr()}else{wo(et,"render");const gr=et.subTree=Y2(et);xo(et,"render"),wo(et,"patch"),Ct(null,gr,Ft,se,et,ne,he),xo(et,"patch"),ft.el=gr.el}if(zn&&gi(zn,ne),!Jn&&($e=Ze&&Ze.onVnodeMounted)){const gr=ft;gi(()=>As($e,dr,gr),ne)}ft.shapeFlag&256&&et.a&&gi(et.a,ne),et.isMounted=!0,l_(et),ft=Ft=se=null}},me=et.effect=new W_(ue,()=>J_(et.update),et.scope),ae=et.update=me.run.bind(me);ae.id=et.uid,lc(et,!0),me.onTrack=et.rtc?$e=>cl(et.rtc,$e):void 0,me.onTrigger=et.rtg?$e=>cl(et.rtg,$e):void 0,ae.ownerInstance=et,ae()},Fn=(et,ft,Ft)=>{ft.component=et;const se=et.vnode.props;et.vnode=ft,et.next=null,BQ(et,ft.props,se,Ft),HQ(et,ft.children,Ft),Vc(),tv(void 0,et.update),Yc()},qn=(et,ft,Ft,se,ne,he,Te,ue,me=!1)=>{const ae=et&&et.children,$e=et?et.shapeFlag:0,Ue=ft.children,{patchFlag:Ze,shapeFlag:yn}=ft;if(Ze>0){if(Ze&128){ii(ae,Ue,Ft,se,ne,he,Te,ue,me);return}else if(Ze&256){bi(ae,Ue,Ft,se,ne,he,Te,ue,me);return}}yn&8?($e&16&&De(ae,ne,he),Ue!==ae&&C(Ft,Ue)):$e&16?yn&16?ii(ae,Ue,Ft,se,ne,he,Te,ue,me):De(ae,ne,he,!0):($e&8&&C(Ft,""),yn&16&&en(Ue,Ft,se,ne,he,Te,ue,me))},bi=(et,ft,Ft,se,ne,he,Te,ue,me)=>{et=et||th,ft=ft||th;const ae=et.length,$e=ft.length,Ue=Math.min(ae,$e);let Ze;for(Ze=0;Ze<Ue;Ze++){const yn=ft[Ze]=me?ol(ft[Ze]):ca(ft[Ze]);Ct(et[Ze],yn,Ft,null,ne,he,Te,ue,me)}ae>$e?De(et,ne,he,!0,!1,Ue):en(ft,Ft,se,ne,he,Te,ue,me,Ue)},ii=(et,ft,Ft,se,ne,he,Te,ue,me)=>{let ae=0;const $e=ft.length;let Ue=et.length-1,Ze=$e-1;for(;ae<=Ue&&ae<=Ze;){const yn=et[ae],zn=ft[ae]=me?ol(ft[ae]):ca(ft[ae]);if(yc(yn,zn))Ct(yn,zn,Ft,null,ne,he,Te,ue,me);else break;ae++}for(;ae<=Ue&&ae<=Ze;){const yn=et[Ue],zn=ft[Ze]=me?ol(ft[Ze]):ca(ft[Ze]);if(yc(yn,zn))Ct(yn,zn,Ft,null,ne,he,Te,ue,me);else break;Ue--,Ze--}if(ae>Ue){if(ae<=Ze){const yn=Ze+1,zn=yn<$e?ft[yn].el:se;for(;ae<=Ze;)Ct(null,ft[ae]=me?ol(ft[ae]):ca(ft[ae]),Ft,zn,ne,he,Te,ue,me),ae++}}else if(ae>Ze)for(;ae<=Ue;)ki(et[ae],ne,he,!0),ae++;else{const yn=ae,zn=ae,dr=new Map;for(ae=zn;ae<=Ze;ae++){const si=ft[ae]=me?ol(ft[ae]):ca(ft[ae]);si.key!=null&&(dr.has(si.key)&&ce("Duplicate keys found during update:",JSON.stringify(si.key),"Make sure keys are unique."),dr.set(si.key,ae))}let Jn,gr=0;const es=Ze-zn+1;let Va=!1,bf=0;const Ya=new Array(es);for(ae=0;ae<es;ae++)Ya[ae]=0;for(ae=yn;ae<=Ue;ae++){const si=et[ae];if(gr>=es){ki(si,ne,he,!0);continue}let _s;if(si.key!=null)_s=dr.get(si.key);else for(Jn=zn;Jn<=Ze;Jn++)if(Ya[Jn-zn]===0&&yc(si,ft[Jn])){_s=Jn;break}_s===void 0?ki(si,ne,he,!0):(Ya[_s-zn]=ae+1,_s>=bf?bf=_s:Va=!0,Ct(si,ft[_s],Ft,null,ne,he,Te,ue,me),gr++)}const kf=Va?KQ(Ya):th;for(Jn=kf.length-1,ae=es-1;ae>=0;ae--){const si=zn+ae,_s=ft[si],hh=si+1<$e?ft[si+1].el:se;Ya[ae]===0?Ct(null,_s,Ft,hh,ne,he,Te,ue,me):Va&&(Jn<0||ae!==kf[Jn]?ys(_s,Ft,hh,2):Jn--)}}},ys=(et,ft,Ft,se,ne=null)=>{const{el:he,type:Te,transition:ue,children:me,shapeFlag:ae}=et;if(ae&6){ys(et.component.subTree,ft,Ft,se);return}if(ae&128){et.suspense.move(ft,Ft,se);return}if(ae&64){Te.move(et,ft,Ft,ln);return}if(Te===sr){p(he,ft,Ft);for(let Ue=0;Ue<me.length;Ue++)ys(me[Ue],ft,Ft,se);p(et.anchor,ft,Ft);return}if(Te===y0){ke(et,ft,Ft);return}if(se!==2&&ae&1&&ue)if(se===0)ue.beforeEnter(he),p(he,ft,Ft),gi(()=>ue.enter(he),ne);else{const{leave:Ue,delayLeave:Ze,afterLeave:yn}=ue,zn=()=>p(he,ft,Ft),dr=()=>{Ue(he,()=>{zn(),yn&&yn()})};Ze?Ze(he,zn,dr):dr()}else p(he,ft,Ft)},ki=(et,ft,Ft,se=!1,ne=!1)=>{const{type:he,props:Te,ref:ue,children:me,dynamicChildren:ae,shapeFlag:$e,patchFlag:Ue,dirs:Ze}=et;if(ue!=null&&p_(ue,null,Ft,et,!0),$e&256){ft.ctx.deactivate(et);return}const yn=$e&1&&Ze,zn=!I0(et);let dr;if(zn&&(dr=Te&&Te.onVnodeBeforeUnmount)&&As(dr,ft,et),$e&6)Ie(et.component,Ft,se);else{if($e&128){et.suspense.unmount(Ft,se);return}yn&&oc(et,null,ft,"beforeUnmount"),$e&64?et.type.remove(et,ft,Ft,ne,ln,se):ae&&(he!==sr||Ue>0&&Ue&64)?De(ae,ft,Ft,!1,!0):(he===sr&&Ue&384||!ne&&$e&16)&&De(me,ft,Ft),se&&Ut(et)}(zn&&(dr=Te&&Te.onVnodeUnmounted)||yn)&&gi(()=>{dr&&As(dr,ft,et),yn&&oc(et,null,ft,"unmounted")},Ft)},Ut=et=>{const{type:ft,el:Ft,anchor:se,transition:ne}=et;if(ft===sr){Pe(Ft,se);return}if(ft===y0){ve(et);return}const he=()=>{y(Ft),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(et.shapeFlag&1&&ne&&!ne.persisted){const{leave:Te,delayLeave:ue}=ne,me=()=>Te(Ft,he);ue?ue(et.el,he,me):me()}else he()},Pe=(et,ft)=>{let Ft;for(;et!==ft;)Ft=j(et),y(et),et=Ft;y(ft)},Ie=(et,ft,Ft)=>{et.type.__hmrId&&JZ(et);const{bum:se,scope:ne,update:he,subTree:Te,um:ue}=et;se&&cl(se),ne.stop(),he&&(he.active=!1,ki(Te,et,ft,Ft)),ue&&gi(ue,ft),gi(()=>{et.isUnmounted=!0},ft),ft&&ft.pendingBranch&&!ft.isUnmounted&&et.asyncDep&&!et.asyncResolved&&et.suspenseId===ft.pendingId&&(ft.deps--,ft.deps===0&&ft.resolve()),iQ(et)},De=(et,ft,Ft,se=!1,ne=!1,he=0)=>{for(let Te=he;Te<et.length;Te++)ki(et[Te],ft,Ft,se,ne)},Sn=et=>et.shapeFlag&6?Sn(et.component.subTree):et.shapeFlag&128?et.suspense.next():j(et.anchor||et.el),jn=(et,ft,Ft)=>{et==null?ft._vnode&&ki(ft._vnode,null,null,!0):Ct(ft._vnode||null,et,ft,null,null,null,Ft),dE(),ft._vnode=et},ln={p:Ct,um:ki,m:ys,r:Ut,mt:er,mc:en,pc:qn,pbc:Oe,n:Sn,o:r};let an,ar;return a&&([an,ar]=a(ln)),{render:jn,hydrate:an,createApp:jQ(jn,an)}}function lc({effect:r,update:a},h){r.allowRecurse=a.allowRecurse=h}function Gd(r,a,h=!1){const p=r.children,y=a.children;if(on(p)&&on(y))for(let b=0;b<p.length;b++){const E=p[b];let S=y[b];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=y[b]=ol(y[b]),S.el=E.el),h||Gd(E,S)),S.type===Ii&&!S.el&&(S.el=E.el)}}function KQ(r){const a=r.slice(),h=[0];let p,y,b,E,S;const L=r.length;for(p=0;p<L;p++){const D=r[p];if(D!==0){if(y=h[h.length-1],r[y]<D){a[p]=y,h.push(p);continue}for(b=0,E=h.length-1;b<E;)S=b+E>>1,r[h[S]]<D?b=S+1:E=S;D<r[h[b]]&&(b>0&&(a[p]=h[b-1]),h[b]=p)}}for(b=h.length,E=h[b-1];b-- >0;)h[b]=E,E=a[E];return h}const ZQ=r=>r.__isTeleport,eh=r=>r&&(r.disabled||r.disabled===""),h8=r=>typeof SVGElement<"u"&&r instanceof SVGElement,g_=(r,a)=>{const h=r&&r.to;if(Ar(h))if(a){const p=a(h);return p||ce(`Failed to locate Teleport target with selector "${h}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),p}else return ce("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!h&&!eh(r)&&ce(`Invalid Teleport target: ${h}`),h},QQ={__isTeleport:!0,process(r,a,h,p,y,b,E,S,L,D){const{mc:C,pc:V,pbc:j,o:{insert:rt,querySelector:it,createText:Tt,createComment:Ct}}=D,$t=eh(a.props);let{shapeFlag:Rt,children:Kt,dynamicChildren:de}=a;if(dl&&(L=!1,de=null),r==null){const ke=a.el=Ct("teleport start"),ve=a.anchor=Ct("teleport end");rt(ke,h,p),rt(ve,h,p);const te=a.target=g_(a.props,it),Le=a.targetAnchor=Tt("");te?(rt(Le,te),E=E||h8(te)):$t||ce("Invalid Teleport target on mount:",te,`(${typeof te})`);const je=(en,xn)=>{Rt&16&&C(Kt,en,xn,y,b,E,S,L)};$t?je(h,ve):te&&je(te,Le)}else{a.el=r.el;const ke=a.anchor=r.anchor,ve=a.target=r.target,te=a.targetAnchor=r.targetAnchor,Le=eh(r.props),je=Le?h:ve,en=Le?ke:te;if(E=E||h8(ve),de?(j(r.dynamicChildren,de,je,y,b,E,S),Gd(r,a,!0)):L||V(r,a,je,en,y,b,E,S,!1),$t)Le||u0(a,h,ke,D,1);else if((a.props&&a.props.to)!==(r.props&&r.props.to)){const xn=a.target=g_(a.props,it);xn?u0(a,xn,null,D,0):ce("Invalid Teleport target on update:",ve,`(${typeof ve})`)}else Le&&u0(a,ve,te,D,1)}},remove(r,a,h,p,{um:y,o:{remove:b}},E){const{shapeFlag:S,children:L,anchor:D,targetAnchor:C,target:V,props:j}=r;if(V&&b(C),(E||!eh(j))&&(b(D),S&16))for(let rt=0;rt<L.length;rt++){const it=L[rt];y(it,a,h,!0,!!it.dynamicChildren)}},move:u0,hydrate:JQ};function u0(r,a,h,{o:{insert:p},m:y},b=2){b===0&&p(r.targetAnchor,a,h);const{el:E,anchor:S,shapeFlag:L,children:D,props:C}=r,V=b===2;if(V&&p(E,a,h),(!V||eh(C))&&L&16)for(let j=0;j<D.length;j++)y(D[j],a,h,2);V&&p(S,a,h)}function JQ(r,a,h,p,y,b,{o:{nextSibling:E,parentNode:S,querySelector:L}},D){const C=a.target=g_(a.props,L);if(C){const V=C._lpa||C.firstChild;a.shapeFlag&16&&(eh(a.props)?(a.anchor=D(E(r),a,S(r),h,p,y,b),a.targetAnchor=V):(a.anchor=E(r),a.targetAnchor=D(V,a,C,h,p,y,b)),C._lpa=a.targetAnchor&&E(a.targetAnchor))}return a.anchor&&E(a.anchor)}const hft=QQ,m_="components",tJ="directives";function eJ(r,a){return BE(m_,r,!0,a)||r}const nJ=Symbol();function y_(r){return BE(tJ,r)}function BE(r,a,h=!0,p=!1){const y=Hi||ni;if(y){const b=y.type;if(r===m_){const S=af(b);if(S&&(S===a||S===Ra(a)||S===Dc(Ra(a))))return b}const E=d8(y[r]||b[r],a)||d8(y.appContext[r],a);if(!E&&p)return b;if(h&&!E){const S=r===m_?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";ce(`Failed to resolve ${r.slice(0,-1)}: ${a}${S}`)}return E}else ce(`resolve${Dc(r.slice(0,-1))} can only be used in render() or setup().`)}function d8(r,a){return r&&(r[a]||r[Ra(a)]||r[Dc(Ra(a))])}const sr=Symbol("Fragment"),J0=Symbol("Text"),Ii=Symbol("Comment"),y0=Symbol("Static"),Xd=[];let Ac=null;function Xt(r=!1){Xd.push(Ac=r?null:[])}function rJ(){Xd.pop(),Ac=Xd[Xd.length-1]||null}let N0=1;function f8(r){N0+=r}function PE(r){return r.dynamicChildren=N0>0?Ac||th:null,rJ(),N0>0&&Ac&&Ac.push(r),r}function Fe(r,a,h,p,y,b){return PE(d(r,a,h,p,y,b,!0))}function vn(r,a,h,p,y){return PE(Be(r,a,h,p,y,!0))}function yl(r){return r?r.__v_isVNode===!0:!1}function yc(r,a){return a.shapeFlag&6&&Xu.has(a.type)?!1:r.type===a.type&&r.key===a.key}const iJ=(...r)=>sJ(...r),tg="__vInternal",FE=({key:r})=>r??null,_0=({ref:r,ref_key:a,ref_for:h})=>r!=null?Ar(r)||Qn(r)||Cn(r)?{i:Hi,r,k:a,f:!!h}:r:null;function d(r,a=null,h=null,p=0,y=null,b=r===sr?0:1,E=!1,S=!1){const L={__v_isVNode:!0,__v_skip:!0,type:r,props:a,key:a&&FE(a),ref:a&&_0(a),scopeId:K0,slotScopeIds:null,children:h,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:b,patchFlag:p,dynamicProps:y,dynamicChildren:null,appContext:null};return S?(cv(L,h),b&128&&r.normalize(L)):h&&(L.shapeFlag|=Ar(h)?8:16),L.key!==L.key&&ce("VNode created with invalid key (NaN). VNode type:",L.type),N0>0&&!E&&Ac&&(L.patchFlag>0||b&6)&&L.patchFlag!==32&&Ac.push(L),L}const Be=iJ;function sJ(r,a=null,h=null,p=0,y=null,b=!1){if((!r||r===nJ)&&(r||ce(`Invalid vnode type when creating vnode: ${r}.`),r=Ii),yl(r)){const S=Do(r,a,!0);return h&&cv(S,h),S}if(WE(r)&&(r=r.__vccOpts),a){a=vi(a);let{class:S,style:L}=a;S&&!Ar(S)&&(a.class=Mr(S)),Tr(L)&&(C0(L)&&!on(L)&&(L=Nr({},L)),a.style=mi(L))}const E=Ar(r)?1:pQ(r)?128:ZQ(r)?64:Tr(r)?4:Cn(r)?2:0;return E&4&&C0(r)&&(r=Dn(r),ce("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,r)),d(r,a,h,p,y,E,b,!0)}function vi(r){return r?C0(r)||tg in r?Nr({},r):r:null}function Do(r,a,h=!1){const{props:p,ref:y,patchFlag:b,children:E}=r,S=a?gs(p||{},a):p;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:S,key:S&&FE(S),ref:a&&a.ref?h&&y?on(y)?y.concat(_0(a)):[y,_0(a)]:_0(a):y,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:b===-1&&on(E)?E.map(VE):E,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:a&&r.type!==sr?b===-1?16:b|16:b,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Do(r.ssContent),ssFallback:r.ssFallback&&Do(r.ssFallback),el:r.el,anchor:r.anchor}}function VE(r){const a=Do(r);return on(r.children)&&(a.children=r.children.map(VE)),a}function v(r=" ",a=0){return Be(J0,null,r,a)}function Yn(r="",a=!1){return a?(Xt(),vn(Ii,null,r)):Be(Ii,null,r)}function ca(r){return r==null||typeof r=="boolean"?Be(Ii):on(r)?Be(sr,null,r.slice()):typeof r=="object"?ol(r):Be(J0,null,String(r))}function ol(r){return r.el===null||r.memo?r:Do(r)}function cv(r,a){let h=0;const{shapeFlag:p}=r;if(a==null)a=null;else if(on(a))h=16;else if(typeof a=="object")if(p&65){const y=a.default;y&&(y._c&&(y._d=!1),cv(r,y()),y._c&&(y._d=!0));return}else{h=32;const y=a._;!y&&!(tg in a)?a._ctx=Hi:y===3&&Hi&&(Hi.slots._===1?a._=1:(a._=2,r.patchFlag|=1024))}else Cn(a)?(a={default:a,_ctx:Hi},h=32):(a=String(a),p&64?(h=16,a=[v(a)]):h=8);r.children=a,r.shapeFlag|=h}function gs(...r){const a={};for(let h=0;h<r.length;h++){const p=r[h];for(const y in p)if(y==="class")a.class!==p.class&&(a.class=Mr([a.class,p.class]));else if(y==="style")a.style=mi([a.style,p.style]);else if(ff(y)){const b=a[y],E=p[y];E&&b!==E&&!(on(b)&&b.includes(E))&&(a[y]=b?[].concat(b,E):E)}else y!==""&&(a[y]=p[y])}return a}function As(r,a,h,p=null){Ns(r,a,7,[h,p])}function yf(r,a,h,p){let y;const b=h&&h[p];if(on(r)||Ar(r)){y=new Array(r.length);for(let E=0,S=r.length;E<S;E++)y[E]=a(r[E],E,void 0,b&&b[E])}else if(typeof r=="number"){if(!Number.isInteger(r))return ce(`The v-for range expect an integer value but got ${r}.`),[];y=new Array(r);for(let E=0;E<r;E++)y[E]=a(E+1,E,void 0,b&&b[E])}else if(Tr(r))if(r[Symbol.iterator])y=Array.from(r,(E,S)=>a(E,S,void 0,b&&b[S]));else{const E=Object.keys(r);y=new Array(E.length);for(let S=0,L=E.length;S<L;S++){const D=E[S];y[S]=a(r[D],D,S,b&&b[S])}}else y=[];return h&&(h[p]=y),y}function Os(r,a,h={},p,y){if(Hi.isCE)return Be("slot",a==="default"?null:{name:a},p&&p());let b=r[a];b&&b.length>1&&(ce("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),b=()=>[]),b&&b._c&&(b._d=!1),Xt();const E=b&&YE(b(h)),S=vn(sr,{key:h.key||`_${a}`},E||(p?p():[]),E&&r._===1?64:-2);return!y&&S.scopeId&&(S.slotScopeIds=[S.scopeId+"-s"]),b&&b._c&&(b._d=!0),S}function YE(r){return r.some(a=>yl(a)?!(a.type===Ii||a.type===sr&&!YE(a.children)):!0)?r:null}const __=r=>r?UE(r)?uv(r)||r.proxy:__(r.parent):null,ih=Nr(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>Qu(r.props),$attrs:r=>Qu(r.attrs),$slots:r=>Qu(r.slots),$refs:r=>Qu(r.refs),$parent:r=>__(r.parent),$root:r=>__(r.root),$emit:r=>r.emit,$options:r=>CE(r),$forceUpdate:r=>()=>J_(r.update),$nextTick:r=>ha.bind(r.proxy),$watch:r=>mQ.bind(r)}),$E={get({_:r},a){const{ctx:h,setupState:p,data:y,props:b,accessCache:E,type:S,appContext:L}=r;if(a==="__isVue")return!0;if(p!==rr&&p.__isScriptSetup&&Wn(p,a))return p[a];let D;if(a[0]!=="$"){const rt=E[a];if(rt!==void 0)switch(rt){case 1:return p[a];case 2:return y[a];case 4:return h[a];case 3:return b[a]}else{if(p!==rr&&Wn(p,a))return E[a]=1,p[a];if(y!==rr&&Wn(y,a))return E[a]=2,y[a];if((D=r.propsOptions[0])&&Wn(D,a))return E[a]=3,b[a];if(h!==rr&&Wn(h,a))return E[a]=4,h[a];u_&&(E[a]=0)}}const C=ih[a];let V,j;if(C)return a==="$attrs"&&(ps(r,"get",a),L0()),C(r);if((V=S.__cssModules)&&(V=V[a]))return V;if(h!==rr&&Wn(h,a))return E[a]=4,h[a];if(j=L.config.globalProperties,Wn(j,a))return j[a];Hi&&(!Ar(a)||a.indexOf("__v")!==0)&&(y!==rr&&(a[0]==="$"||a[0]==="_")&&Wn(y,a)?ce(`Property ${JSON.stringify(a)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):r===Hi&&ce(`Property ${JSON.stringify(a)} was accessed during render but is not defined on instance.`))},set({_:r},a,h){const{data:p,setupState:y,ctx:b}=r;return y!==rr&&Wn(y,a)?(y[a]=h,!0):p!==rr&&Wn(p,a)?(p[a]=h,!0):Wn(r.props,a)?(ce(`Attempting to mutate prop "${a}". Props are readonly.`,r),!1):a[0]==="$"&&a.slice(1)in r?(ce(`Attempting to mutate public property "${a}". Properties starting with $ are reserved and readonly.`,r),!1):(a in r.appContext.config.globalProperties?Object.defineProperty(b,a,{enumerable:!0,configurable:!0,value:h}):b[a]=h,!0)},has({_:{data:r,setupState:a,accessCache:h,ctx:p,appContext:y,propsOptions:b}},E){let S;return!!h[E]||r!==rr&&Wn(r,E)||a!==rr&&Wn(a,E)||(S=b[0])&&Wn(S,E)||Wn(p,E)||Wn(ih,E)||Wn(y.config.globalProperties,E)},defineProperty(r,a,h){return h.get!=null?this.set(r,a,h.get(),null):h.value!=null&&this.set(r,a,h.value,null),Reflect.defineProperty(r,a,h)}};$E.ownKeys=r=>(ce("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(r));function aJ(r){const a={};return Object.defineProperty(a,"_",{configurable:!0,enumerable:!1,get:()=>r}),Object.keys(ih).forEach(h=>{Object.defineProperty(a,h,{configurable:!0,enumerable:!1,get:()=>ih[h](r),set:ts})}),a}function oJ(r){const{ctx:a,propsOptions:[h]}=r;h&&Object.keys(h).forEach(p=>{Object.defineProperty(a,p,{enumerable:!0,configurable:!0,get:()=>r.props[p],set:ts})})}function lJ(r){const{ctx:a,setupState:h}=r;Object.keys(Dn(h)).forEach(p=>{if(!h.__isScriptSetup){if(p[0]==="$"||p[0]==="_"){ce(`setup() return property ${JSON.stringify(p)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(a,p,{enumerable:!0,configurable:!0,get:()=>h[p],set:ts})}})}const cJ=DE();let uJ=0;function hJ(r,a,h){const p=r.type,y=(a?a.appContext:r.appContext)||cJ,b={uid:uJ++,vnode:r,type:p,parent:a,appContext:y,root:null,next:null,subTree:null,effect:null,update:null,scope:new zT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create(y.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:AE(p,y),emitsOptions:_E(p,y),emit:null,emitted:null,propsDefaults:rr,inheritAttrs:p.inheritAttrs,ctx:rr,data:rr,props:rr,attrs:rr,slots:rr,refs:rr,setupState:rr,setupContext:null,suspense:h,suspenseId:h?h.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return b.ctx=aJ(b),b.root=a?a.root:b,b.emit=lQ.bind(null,b),r.ce&&r.ce(b),b}let ni=null;const fa=()=>ni||Hi,sh=r=>{ni=r,r.scope.on()},Lc=()=>{ni&&ni.scope.off(),ni=null},dJ=vl("slot,component");function v_(r,a){const h=a.isNativeTag||PT;(dJ(r)||h(r))&&ce("Do not use built-in or reserved HTML elements as component id: "+r)}function UE(r){return r.vnode.shapeFlag&4}let sf=!1;function fJ(r,a=!1){sf=a;const{props:h,children:p}=r.vnode,y=UE(r);RQ(r,h,y,a),zQ(r,p);const b=y?pJ(r,a):void 0;return sf=!1,b}function pJ(r,a){const h=r.type;{if(h.name&&v_(h.name,r.appContext.config),h.components){const y=Object.keys(h.components);for(let b=0;b<y.length;b++)v_(y[b],r.appContext.config)}if(h.directives){const y=Object.keys(h.directives);for(let b=0;b<y.length;b++)OE(y[b])}h.compilerOptions&&gJ()&&ce('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}r.accessCache=Object.create(null),r.proxy=q_(new Proxy(r.ctx,$E)),oJ(r);const{setup:p}=h;if(p){const y=r.setupContext=p.length>1?HE(r):null;sh(r),Vc();const b=Io(p,r,0,[Qu(r.props),y]);if(Yc(),Lc(),$_(b)){if(b.then(Lc,Lc),a)return b.then(E=>{p8(r,E,a)}).catch(E=>{X0(E,r,0)});r.asyncDep=b}else p8(r,b,a)}else zE(r,a)}function p8(r,a,h){Cn(a)?r.type.__ssrInlineRender?r.ssrRender=a:r.render=a:Tr(a)?(yl(a)&&ce("setup() should not return VNodes directly - return a render function instead."),r.devtoolsRawSetupState=a,r.setupState=sE(a),lJ(r)):a!==void 0&&ce(`setup() should return an object. Received: ${a===null?"null":typeof a}`),zE(r,h)}let b_;const gJ=()=>!b_;function zE(r,a,h){const p=r.type;if(!r.render){if(!a&&b_&&!p.render){const y=p.template;if(y){wo(r,"compile");const{isCustomElement:b,compilerOptions:E}=r.appContext.config,{delimiters:S,compilerOptions:L}=p,D=Nr(Nr({isCustomElement:b,delimiters:S},E),L);p.render=b_(y,D),xo(r,"compile")}}r.render=p.render||ts}sh(r),Vc(),IQ(r),Yc(),Lc(),!p.render&&r.render===ts&&!a&&(p.template?ce('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):ce("Component is missing template or render function."))}function mJ(r){return new Proxy(r.attrs,{get(a,h){return L0(),ps(r,"get","$attrs"),a[h]},set(){return ce("setupContext.attrs is readonly."),!1},deleteProperty(){return ce("setupContext.attrs is readonly."),!1}})}function HE(r){const a=p=>{r.exposed&&ce("expose() should be called only once per setup()."),r.exposed=p||{}};let h;return Object.freeze({get attrs(){return h||(h=mJ(r))},get slots(){return Qu(r.slots)},get emit(){return(p,...y)=>r.emit(p,...y)},expose:a})}function uv(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(sE(q_(r.exposed)),{get(a,h){if(h in a)return a[h];if(h in ih)return ih[h](r)}}))}const yJ=/(?:^|[-_])(\w)/g,_J=r=>r.replace(yJ,a=>a.toUpperCase()).replace(/[-_]/g,"");function af(r){return Cn(r)&&r.displayName||r.name}function eg(r,a,h=!1){let p=af(a);if(!p&&a.__file){const y=a.__file.match(/([^/\\]+)\.\w+$/);y&&(p=y[1])}if(!p&&r&&r.parent){const y=b=>{for(const E in b)if(b[E]===a)return E};p=y(r.components||r.parent.type.components)||y(r.appContext.components)}return p?_J(p):h?"App":"Anonymous"}function WE(r){return Cn(r)&&"__vccOpts"in r}const ee=(r,a)=>UZ(r,a,sf);function dft(){return vJ().slots}function vJ(){const r=fa();return r||ce("useContext() called without active instance."),r.setupContext||(r.setupContext=HE(r))}function ah(r,a,h){const p=arguments.length;return p===2?Tr(a)&&!on(a)?yl(a)?Be(r,null,[a]):Be(r,a):Be(r,null,a):(p>3?h=Array.prototype.slice.call(arguments,2):p===3&&yl(h)&&(h=[h]),Be(r,a,h))}function H2(r){return!!(r&&r.__v_isShallow)}function bJ(){if(typeof window>"u")return;const r={style:"color:#3ba776"},a={style:"color:#0b1bc9"},h={style:"color:#b62e24"},p={style:"color:#9d288c"},y={header(V){return Tr(V)?V.__isVue?["div",r,"VueInstance"]:Qn(V)?["div",{},["span",r,C(V)],"<",S(V.value),">"]:Ec(V)?["div",{},["span",r,H2(V)?"ShallowReactive":"Reactive"],"<",S(V),`>${Rc(V)?" (readonly)":""}`]:Rc(V)?["div",{},["span",r,H2(V)?"ShallowReadonly":"Readonly"],"<",S(V),">"]:null:null},hasBody(V){return V&&V.__isVue},body(V){if(V&&V.__isVue)return["div",{},...b(V.$)]}};function b(V){const j=[];V.type.props&&V.props&&j.push(E("props",Dn(V.props))),V.setupState!==rr&&j.push(E("setup",V.setupState)),V.data!==rr&&j.push(E("data",Dn(V.data)));const rt=L(V,"computed");rt&&j.push(E("computed",rt));const it=L(V,"inject");return it&&j.push(E("injected",it)),j.push(["div",{},["span",{style:p.style+";opacity:0.66"},"$ (internal): "],["object",{object:V}]]),j}function E(V,j){return j=Nr({},j),Object.keys(j).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},V],["div",{style:"padding-left:1.25em"},...Object.keys(j).map(rt=>["div",{},["span",p,rt+": "],S(j[rt],!1)])]]:["span",{}]}function S(V,j=!0){return typeof V=="number"?["span",a,V]:typeof V=="string"?["span",h,JSON.stringify(V)]:typeof V=="boolean"?["span",p,V]:Tr(V)?["object",{object:j?Dn(V):V}]:["span",h,String(V)]}function L(V,j){const rt=V.type;if(Cn(rt))return;const it={};for(const Tt in V.ctx)D(rt,Tt,j)&&(it[Tt]=V.ctx[Tt]);return it}function D(V,j,rt){const it=V[rt];if(on(it)&&it.includes(j)||Tr(it)&&j in it||V.extends&&D(V.extends,j,rt)||V.mixins&&V.mixins.some(Tt=>D(Tt,j,rt)))return!0}function C(V){return H2(V)?"ShallowRef":V.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(y):window.devtoolsFormatters=[y]}const g8="3.2.31",kJ="http://www.w3.org/2000/svg",_c=typeof document<"u"?document:null,m8=_c&&_c.createElement("template"),wJ={insert:(r,a,h)=>{a.insertBefore(r,h||null)},remove:r=>{const a=r.parentNode;a&&a.removeChild(r)},createElement:(r,a,h,p)=>{const y=a?_c.createElementNS(kJ,r):_c.createElement(r,h?{is:h}:void 0);return r==="select"&&p&&p.multiple!=null&&y.setAttribute("multiple",p.multiple),y},createText:r=>_c.createTextNode(r),createComment:r=>_c.createComment(r),setText:(r,a)=>{r.nodeValue=a},setElementText:(r,a)=>{r.textContent=a},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>_c.querySelector(r),setScopeId(r,a){r.setAttribute(a,"")},cloneNode(r){const a=r.cloneNode(!0);return"_value"in r&&(a._value=r._value),a},insertStaticContent(r,a,h,p,y,b){const E=h?h.previousSibling:a.lastChild;if(y&&(y===b||y.nextSibling))for(;a.insertBefore(y.cloneNode(!0),h),!(y===b||!(y=y.nextSibling)););else{m8.innerHTML=p?`<svg>${r}</svg>`:r;const S=m8.content;if(p){const L=S.firstChild;for(;L.firstChild;)S.appendChild(L.firstChild);S.removeChild(L)}a.insertBefore(S,h)}return[E?E.nextSibling:a.firstChild,h?h.previousSibling:a.lastChild]}};function xJ(r,a,h){const p=r._vtc;p&&(a=(a?[a,...p]:[...p]).join(" ")),a==null?r.removeAttribute("class"):h?r.setAttribute("class",a):r.className=a}function TJ(r,a,h){const p=r.style,y=Ar(h);if(h&&!y){for(const b in h)k_(p,b,h[b]);if(a&&!Ar(a))for(const b in a)h[b]==null&&k_(p,b,"")}else{const b=p.display;y?a!==h&&(p.cssText=h):a&&r.removeAttribute("style"),"_vod"in r&&(p.display=b)}}const y8=/\s*!important$/;function k_(r,a,h){if(on(h))h.forEach(p=>k_(r,a,p));else if(a.startsWith("--"))r.setProperty(a,h);else{const p=EJ(r,a);y8.test(h)?r.setProperty(Mo(p),h.replace(y8,""),"important"):r[p]=h}}const _8=["Webkit","Moz","ms"],W2={};function EJ(r,a){const h=W2[a];if(h)return h;let p=Ra(a);if(p!=="filter"&&p in r)return W2[a]=p;p=Dc(p);for(let y=0;y<_8.length;y++){const b=_8[y]+p;if(b in r)return W2[a]=b}return a}const v8="http://www.w3.org/1999/xlink";function CJ(r,a,h,p,y){if(p&&a.startsWith("xlink:"))h==null?r.removeAttributeNS(v8,a.slice(6,a.length)):r.setAttributeNS(v8,a,h);else{const b=jK(a);h==null||b&&!RT(h)?r.removeAttribute(a):r.setAttribute(a,b?"":h)}}function SJ(r,a,h,p,y,b,E){if(a==="innerHTML"||a==="textContent"){p&&E(p,y,b),r[a]=h??"";return}if(a==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=h;const S=h??"";(r.value!==S||r.tagName==="OPTION")&&(r.value=S),h==null&&r.removeAttribute(a);return}if(h===""||h==null){const S=typeof r[a];if(S==="boolean"){r[a]=RT(h);return}else if(h==null&&S==="string"){r[a]="",r.removeAttribute(a);return}else if(S==="number"){try{r[a]=0}catch{}r.removeAttribute(a);return}}try{r[a]=h}catch(S){ce(`Failed setting prop "${a}" on <${r.tagName.toLowerCase()}>: value ${h} is invalid.`,S)}}let O0=Date.now,jE=!1;if(typeof window<"u"){O0()>document.createEvent("Event").timeStamp&&(O0=()=>performance.now());const r=navigator.userAgent.match(/firefox\/(\d+)/i);jE=!!(r&&Number(r[1])<=53)}let w_=0;const AJ=Promise.resolve(),LJ=()=>{w_=0},IJ=()=>w_||(AJ.then(LJ),w_=O0());function Ku(r,a,h,p){r.addEventListener(a,h,p)}function MJ(r,a,h,p){r.removeEventListener(a,h,p)}function NJ(r,a,h,p,y=null){const b=r._vei||(r._vei={}),E=b[a];if(p&&E)E.value=p;else{const[S,L]=OJ(a);if(p){const D=b[a]=DJ(p,y);Ku(r,S,D,L)}else E&&(MJ(r,S,E,L),b[a]=void 0)}}const b8=/(?:Once|Passive|Capture)$/;function OJ(r){let a;if(b8.test(r)){a={};let h;for(;h=r.match(b8);)r=r.slice(0,r.length-h[0].length),a[h[0].toLowerCase()]=!0}return[Mo(r.slice(2)),a]}function DJ(r,a){const h=p=>{const y=p.timeStamp||O0();(jE||y>=h.attached-1)&&Ns(RJ(p,h.value),a,5,[p])};return h.value=r,h.attached=IJ(),h}function RJ(r,a){if(on(a)){const h=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{h.call(r),r._stopped=!0},a.map(p=>y=>!y._stopped&&p&&p(y))}else return a}const k8=/^on[a-z]/,BJ=(r,a,h,p,y=!1,b,E,S,L)=>{a==="class"?xJ(r,p,y):a==="style"?TJ(r,h,p):ff(a)?x0(a)||NJ(r,a,h,p,E):(a[0]==="."?(a=a.slice(1),!0):a[0]==="^"?(a=a.slice(1),!1):PJ(r,a,p,y))?SJ(r,a,p,b,E,S,L):(a==="true-value"?r._trueValue=p:a==="false-value"&&(r._falseValue=p),CJ(r,a,p,y))};function PJ(r,a,h,p){return p?!!(a==="innerHTML"||a==="textContent"||a in r&&k8.test(a)&&Cn(h)):a==="spellcheck"||a==="draggable"||a==="form"||a==="list"&&r.tagName==="INPUT"||a==="type"&&r.tagName==="TEXTAREA"||k8.test(a)&&Ar(h)?!1:a in r}const sl="transition",Od="animation",qE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},FJ=Nr({},_Q.props,qE),cc=(r,a=[])=>{on(r)?r.forEach(h=>h(...a)):r&&r(...a)},w8=r=>r?on(r)?r.some(a=>a.length>1):r.length>1:!1;function VJ(r){const a={};for(const Oe in r)Oe in qE||(a[Oe]=r[Oe]);if(r.css===!1)return a;const{name:h="v",type:p,duration:y,enterFromClass:b=`${h}-enter-from`,enterActiveClass:E=`${h}-enter-active`,enterToClass:S=`${h}-enter-to`,appearFromClass:L=b,appearActiveClass:D=E,appearToClass:C=S,leaveFromClass:V=`${h}-leave-from`,leaveActiveClass:j=`${h}-leave-active`,leaveToClass:rt=`${h}-leave-to`}=r,it=YJ(y),Tt=it&&it[0],Ct=it&&it[1],{onBeforeEnter:$t,onEnter:Rt,onEnterCancelled:Kt,onLeave:de,onLeaveCancelled:ke,onBeforeAppear:ve=$t,onAppear:te=Rt,onAppearCancelled:Le=Kt}=a,je=(Oe,Un,pr)=>{pc(Oe,Un?C:S),pc(Oe,Un?D:E),pr&&pr()},en=(Oe,Un)=>{pc(Oe,rt),pc(Oe,j),Un&&Un()},xn=Oe=>(Un,pr)=>{const Kn=Oe?te:Rt,er=()=>je(Un,Oe,pr);cc(Kn,[Un,er]),x8(()=>{pc(Un,Oe?L:b),To(Un,Oe?C:S),w8(Kn)||T8(Un,p,Tt,er)})};return Nr(a,{onBeforeEnter(Oe){cc($t,[Oe]),To(Oe,b),To(Oe,E)},onBeforeAppear(Oe){cc(ve,[Oe]),To(Oe,L),To(Oe,D)},onEnter:xn(!1),onAppear:xn(!0),onLeave(Oe,Un){const pr=()=>en(Oe,Un);To(Oe,V),XE(),To(Oe,j),x8(()=>{pc(Oe,V),To(Oe,rt),w8(de)||T8(Oe,p,Ct,pr)}),cc(de,[Oe,pr])},onEnterCancelled(Oe){je(Oe,!1),cc(Kt,[Oe])},onAppearCancelled(Oe){je(Oe,!0),cc(Le,[Oe])},onLeaveCancelled(Oe){en(Oe),cc(ke,[Oe])}})}function YJ(r){if(r==null)return null;if(Tr(r))return[j2(r.enter),j2(r.leave)];{const a=j2(r);return[a,a]}}function j2(r){const a=E0(r);return $J(a),a}function $J(r){typeof r!="number"?ce(`<transition> explicit duration is not a valid number - got ${JSON.stringify(r)}.`):isNaN(r)&&ce("<transition> explicit duration is NaN - the duration expression might be incorrect.")}function To(r,a){a.split(/\s+/).forEach(h=>h&&r.classList.add(h)),(r._vtc||(r._vtc=new Set)).add(a)}function pc(r,a){a.split(/\s+/).forEach(p=>p&&r.classList.remove(p));const{_vtc:h}=r;h&&(h.delete(a),h.size||(r._vtc=void 0))}function x8(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let UJ=0;function T8(r,a,h,p){const y=r._endId=++UJ,b=()=>{y===r._endId&&p()};if(h)return setTimeout(b,h);const{type:E,timeout:S,propCount:L}=GE(r,a);if(!E)return p();const D=E+"end";let C=0;const V=()=>{r.removeEventListener(D,j),b()},j=rt=>{rt.target===r&&++C>=L&&V()};setTimeout(()=>{C<L&&V()},S+1),r.addEventListener(D,j)}function GE(r,a){const h=window.getComputedStyle(r),p=it=>(h[it]||"").split(", "),y=p(sl+"Delay"),b=p(sl+"Duration"),E=E8(y,b),S=p(Od+"Delay"),L=p(Od+"Duration"),D=E8(S,L);let C=null,V=0,j=0;a===sl?E>0&&(C=sl,V=E,j=b.length):a===Od?D>0&&(C=Od,V=D,j=L.length):(V=Math.max(E,D),C=V>0?E>D?sl:Od:null,j=C?C===sl?b.length:L.length:0);const rt=C===sl&&/\b(transform|all)(,|$)/.test(h[sl+"Property"]);return{type:C,timeout:V,propCount:j,hasTransform:rt}}function E8(r,a){for(;r.length<a.length;)r=r.concat(r);return Math.max(...a.map((h,p)=>C8(h)+C8(r[p])))}function C8(r){return Number(r.slice(0,-1).replace(",","."))*1e3}function XE(){return document.body.offsetHeight}const KE=new WeakMap,ZE=new WeakMap,zJ={name:"TransitionGroup",props:Nr({},FJ,{tag:String,moveClass:String}),setup(r,{slots:a}){const h=fa(),p=kE();let y,b;return av(()=>{if(!y.length)return;const E=r.moveClass||`${r.name||"v"}-move`;if(!GJ(y[0].el,h.vnode.el,E))return;y.forEach(WJ),y.forEach(jJ);const S=y.filter(qJ);XE(),S.forEach(L=>{const D=L.el,C=D.style;To(D,E),C.transform=C.webkitTransform=C.transitionDuration="";const V=D._moveCb=j=>{j&&j.target!==D||(!j||/transform$/.test(j.propertyName))&&(D.removeEventListener("transitionend",V),D._moveCb=null,pc(D,E))};D.addEventListener("transitionend",V)})}),()=>{const E=Dn(r),S=VJ(E);let L=E.tag||sr;y=b,b=a.default?sv(a.default()):[];for(let D=0;D<b.length;D++){const C=b[D];C.key!=null?rh(C,rf(C,S,p,h)):ce("<TransitionGroup> children must be keyed.")}if(y)for(let D=0;D<y.length;D++){const C=y[D];rh(C,rf(C,S,p,h)),KE.set(C,C.el.getBoundingClientRect())}return Be(L,null,b)}}},HJ=zJ;function WJ(r){const a=r.el;a._moveCb&&a._moveCb(),a._enterCb&&a._enterCb()}function jJ(r){ZE.set(r,r.el.getBoundingClientRect())}function qJ(r){const a=KE.get(r),h=ZE.get(r),p=a.left-h.left,y=a.top-h.top;if(p||y){const b=r.el.style;return b.transform=b.webkitTransform=`translate(${p}px,${y}px)`,b.transitionDuration="0s",r}}function GJ(r,a,h){const p=r.cloneNode();r._vtc&&r._vtc.forEach(E=>{E.split(/\s+/).forEach(S=>S&&p.classList.remove(S))}),h.split(/\s+/).forEach(E=>E&&p.classList.add(E)),p.style.display="none";const y=a.nodeType===1?a:a.parentNode;y.appendChild(p);const{hasTransform:b}=GE(p);return y.removeChild(p),b}const S8=r=>{const a=r.props["onUpdate:modelValue"];return on(a)?h=>cl(a,h):a};function XJ(r){r.target.composing=!0}function A8(r){const a=r.target;a.composing&&(a.composing=!1,KJ(a,"input"))}function KJ(r,a){const h=document.createEvent("HTMLEvents");h.initEvent(a,!0,!0),r.dispatchEvent(h)}const ZJ={created(r,{modifiers:{lazy:a,trim:h,number:p}},y){r._assign=S8(y);const b=p||y.props&&y.props.type==="number";Ku(r,a?"change":"input",E=>{if(E.target.composing)return;let S=r.value;h?S=S.trim():b&&(S=E0(S)),r._assign(S)}),h&&Ku(r,"change",()=>{r.value=r.value.trim()}),a||(Ku(r,"compositionstart",XJ),Ku(r,"compositionend",A8),Ku(r,"change",A8))},mounted(r,{value:a}){r.value=a??""},beforeUpdate(r,{value:a,modifiers:{lazy:h,trim:p,number:y}},b){if(r._assign=S8(b),r.composing||document.activeElement===r&&(h||p&&r.value.trim()===a||(y||r.type==="number")&&E0(r.value)===a))return;const E=a??"";r.value!==E&&(r.value=E)}},QJ={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},L8=(r,a)=>h=>{if(!("key"in h))return;const p=Mo(h.key);if(a.some(y=>y===p||QJ[y]===p))return r(h)},QE={beforeMount(r,{value:a},{transition:h}){r._vod=r.style.display==="none"?"":r.style.display,h&&a?h.beforeEnter(r):Dd(r,a)},mounted(r,{value:a},{transition:h}){h&&a&&h.enter(r)},updated(r,{value:a,oldValue:h},{transition:p}){!a!=!h&&(p?a?(p.beforeEnter(r),Dd(r,!0),p.enter(r)):p.leave(r,()=>{Dd(r,!1)}):Dd(r,a))},beforeUnmount(r,{value:a}){Dd(r,a)}};function Dd(r,a){r.style.display=a?r._vod:"none"}const JJ=Nr({patchProp:BJ},wJ);let I8;function ttt(){return I8||(I8=GQ(JJ))}const fft=(...r)=>{const a=ttt().createApp(...r);ett(a),ntt(a);const{mount:h}=a;return a.mount=p=>{const y=rtt(p);if(!y)return;const b=a._component;!Cn(b)&&!b.render&&!b.template&&(b.template=y.innerHTML),y.innerHTML="";const E=h(y,!1,y instanceof SVGElement);return y instanceof Element&&(y.removeAttribute("v-cloak"),y.setAttribute("data-v-app","")),E},a};function ett(r){Object.defineProperty(r.config,"isNativeTag",{value:a=>QK(a)||JK(a),writable:!1})}function ntt(r){{const a=r.config.isCustomElement;Object.defineProperty(r.config,"isCustomElement",{get(){return a},set(){ce("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const h=r.config.compilerOptions,p='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(r.config,"compilerOptions",{get(){return ce(p),h},set(){ce(p)}})}}function rtt(r){if(Ar(r)){const a=document.querySelector(r);return a||ce(`Failed to mount app: mount target selector "${r}" returned null.`),a}return window.ShadowRoot&&r instanceof window.ShadowRoot&&r.mode==="closed"&&ce('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),r}function itt(){bJ()}itt();const JE=Symbol("v-click-clicks"),tC=Symbol("v-click-clicks-elements"),stt=Symbol("v-click-clicks-order-map"),eC=Symbol("v-click-clicks-disabled"),nC=Symbol("slidev-slide-scale"),Rn=Symbol("slidev-slidev-context"),att=Symbol("slidev-route"),ott=Symbol("slidev-slide-context"),ltt="slidev-vclick-target",pft="slidev-vclick-hidden",gft="slidev-vclick-fade",mft="slidev-vclick-hidden-explicitly",yft="slidev-vclick-current",_ft="slidev-vclick-prior";function ctt(r){return r=r??[],Array.isArray(r)?r:[r]}function utt(r,a){if(!r)return!1;const h=r.indexOf(a);return h>=0?(r.splice(h,1),!0):!1}function htt(...r){let a,h,p;r.length===1?(a=0,p=1,[h]=r):[a,h,p=1]=r;const y=[];let b=a;for(;b<h;)y.push(b),b+=p||1;return y}function dtt(r){return r!=null}function ftt(r,a){return Object.fromEntries(Object.entries(r).map(([h,p])=>a(h,p)).filter(dtt))}function M8(r){return Object.keys(r).forEach(a=>r[a]===void 0?delete r[a]:{}),r}const Hd={theme:"default",title:"Refactoring with stratified design",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",download:!1,export:{},info:!1,highlighter:"prism",lineNumbers:!1,colorSchema:"auto",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Avenir Next"','"Nunito Sans"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"Fira Code"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Avenir Next","Nunito Sans","Fira Code"],provider:"google",local:["Avenir Next"],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,record:"dev",css:"windicss",presenter:!0,htmlAttrs:{},layout:"cover",author:"Juho Harme"},cr=Hd,fl=cr.aspectRatio??16/9,pl=cr.canvasWidth??980,hv=Math.ceil(pl/fl),dv=ee(()=>ftt(cr.themeConfig||{},(r,a)=>[`--slidev-theme-${r}`,a]));function Ds(r,a,h){Object.defineProperty(r,a,{value:h,writable:!0,enumerable:!1})}const $c=yi({page:0,clicks:0});let ptt=[],gtt=[];Ds($c,"$syncUp",!0);Ds($c,"$syncDown",!0);Ds($c,"$paused",!1);Ds($c,"$onSet",r=>ptt.push(r));Ds($c,"$onPatch",r=>gtt.push(r));Ds($c,"$patch",async()=>!1);function rC(r,a,h=!1){const p=[];let y=!1,b=!1,E,S;const L=yi(a);function D(rt){p.push(rt)}function C(rt,it){clearTimeout(E),y=!0,L[rt]=it,E=setTimeout(()=>y=!1,0)}function V(rt){y||(clearTimeout(S),b=!0,Object.entries(rt).forEach(([it,Tt])=>{L[it]=Tt}),S=setTimeout(()=>b=!1,0))}function j(rt){let it;h?h&&window.addEventListener("storage",Ct=>{Ct&&Ct.key===rt&&Ct.newValue&&V(JSON.parse(Ct.newValue))}):(it=new BroadcastChannel(rt),it.addEventListener("message",Ct=>V(Ct.data)));function Tt(){!h&&it&&!b?it.postMessage(Dn(L)):h&&!b&&window.localStorage.setItem(rt,JSON.stringify(L)),y||p.forEach(Ct=>Ct(L))}if(Er(L,Tt,{deep:!0}),h){const Ct=window.localStorage.getItem(rt);Ct&&V(JSON.parse(Ct))}}return{init:j,onPatch:D,patch:C,state:L}}const{init:vft,onPatch:bft,patch:kft,state:q2}=rC($c,{page:1,clicks:0}),Uc=yi({});let mtt=[],ytt=[];Ds(Uc,"$syncUp",!0);Ds(Uc,"$syncDown",!0);Ds(Uc,"$paused",!1);Ds(Uc,"$onSet",r=>mtt.push(r));Ds(Uc,"$onPatch",r=>ytt.push(r));Ds(Uc,"$patch",async()=>!1);const{init:wft,onPatch:_tt,patch:iC,state:D0}=rC(Uc,{},!1),vtt="modulepreload",btt=function(r){return"/refactoring-with-stratified-design/"+r},N8={},Pc=function(a,h,p){if(!h||h.length===0)return a();const y=document.getElementsByTagName("link");return Promise.all(h.map(b=>{if(b=btt(b),b in N8)return;N8[b]=!0;const E=b.endsWith(".css"),S=E?'[rel="stylesheet"]':"";if(!!p)for(let C=y.length-1;C>=0;C--){const V=y[C];if(V.href===b&&(!E||V.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${b}"]${S}`))return;const D=document.createElement("link");if(D.rel=E?"stylesheet":vtt,E||(D.as="script",D.crossOrigin=""),D.href=b,document.head.appendChild(D),E)return new Promise((C,V)=>{D.addEventListener("load",C),D.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${b}`)))})})).then(()=>a())};var O8;const da=typeof window<"u",ktt=r=>typeof r<"u",wtt=Object.prototype.toString,of=r=>typeof r=="function",xft=r=>typeof r=="number",sC=r=>typeof r=="string",Tft=r=>wtt.call(r)==="[object Object]",x_=()=>+Date.now(),Kd=()=>{};da&&((O8=window==null?void 0:window.navigator)!=null&&O8.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function zi(r){return typeof r=="function"?r():Mt(r)}function xtt(r,a){function h(...p){return new Promise((y,b)=>{Promise.resolve(r(()=>a.apply(this,p),{fn:a,thisArg:this,args:p})).then(y).catch(b)})}return h}const aC=r=>r();function Ttt(r=aC){const a=Xe(!0);function h(){a.value=!1}function p(){a.value=!0}const y=(...b)=>{a.value&&r(...b)};return{isActive:Na(a),pause:h,resume:p,eventFilter:y}}function Ett(r){return r}function Ctt(r,a){var h;if(typeof r=="number")return r+a;const p=((h=r.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:h[0])||"",y=r.slice(p.length),b=parseFloat(p)+a;return Number.isNaN(b)?r:b+y}function Stt(r,a){let h,p,y;const b=Xe(!0),E=()=>{b.value=!0,y()};Er(r,E,{flush:"sync"});const S=of(a)?a:a.get,L=of(a)?void 0:a.set,D=aE((C,V)=>(p=C,y=V,{get(){return b.value&&(h=S(),b.value=!1),p(),h},set(j){L==null||L(j)}}));return Object.isExtensible(D)&&(D.trigger=E),D}function Pa(r){return aZ()?(oZ(r),!0):!1}function Att(r){if(!Qn(r))return yi(r);const a=new Proxy({},{get(h,p,y){return Mt(Reflect.get(r.value,p,y))},set(h,p,y){return Qn(r.value[p])&&!Qn(y)?r.value[p].value=y:r.value[p]=y,!0},deleteProperty(h,p){return Reflect.deleteProperty(r.value,p)},has(h,p){return Reflect.has(r.value,p)},ownKeys(){return Object.keys(r.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return yi(a)}function oC(r){return typeof r=="function"?ee(r):Xe(r)}var Ltt=Object.defineProperty,Itt=Object.defineProperties,Mtt=Object.getOwnPropertyDescriptors,D8=Object.getOwnPropertySymbols,Ntt=Object.prototype.hasOwnProperty,Ott=Object.prototype.propertyIsEnumerable,R8=(r,a,h)=>a in r?Ltt(r,a,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[a]=h,Dtt=(r,a)=>{for(var h in a||(a={}))Ntt.call(a,h)&&R8(r,h,a[h]);if(D8)for(var h of D8(a))Ott.call(a,h)&&R8(r,h,a[h]);return r},Rtt=(r,a)=>Itt(r,Mtt(a));function Btt(r){if(!Qn(r))return FZ(r);const a=Array.isArray(r.value)?new Array(r.value.length):{};for(const h in r.value)a[h]=aE(()=>({get(){return r.value[h]},set(p){if(Array.isArray(r.value)){const y=[...r.value];y[h]=p,r.value=y}else{const y=Rtt(Dtt({},r.value),{[h]:p});Object.setPrototypeOf(y,r.value),r.value=y}}}));return a}function fv(r,a=!0){fa()?mf(r):a?r():ha(r)}function Eft(r){fa()&&Q0(r)}function Ptt(r,a=1e3,h={}){const{immediate:p=!0,immediateCallback:y=!1}=h;let b=null;const E=Xe(!1);function S(){b&&(clearInterval(b),b=null)}function L(){E.value=!1,S()}function D(){const C=zi(a);C<=0||(E.value=!0,y&&r(),S(),b=setInterval(r,C))}if(p&&da&&D(),Qn(a)||of(a)){const C=Er(a,()=>{E.value&&da&&D()});Pa(C)}return Pa(L),{isActive:E,pause:L,resume:D}}function Ftt(r,a,h={}){const{immediate:p=!0}=h,y=Xe(!1);let b=null;function E(){b&&(clearTimeout(b),b=null)}function S(){y.value=!1,E()}function L(...D){E(),y.value=!0,b=setTimeout(()=>{y.value=!1,b=null,r(...D)},zi(a))}return p&&(y.value=!0,da&&L()),Pa(S),{isPending:Na(y),start:L,stop:S}}function lC(r=!1,a={}){const{truthyValue:h=!0,falsyValue:p=!1}=a,y=Qn(r),b=Xe(r);function E(S){if(arguments.length)return b.value=S,b.value;{const L=zi(h);return b.value=b.value===L?zi(p):L,b.value}}return y?E:[b,E]}var B8=Object.getOwnPropertySymbols,Vtt=Object.prototype.hasOwnProperty,Ytt=Object.prototype.propertyIsEnumerable,$tt=(r,a)=>{var h={};for(var p in r)Vtt.call(r,p)&&a.indexOf(p)<0&&(h[p]=r[p]);if(r!=null&&B8)for(var p of B8(r))a.indexOf(p)<0&&Ytt.call(r,p)&&(h[p]=r[p]);return h};function Utt(r,a,h={}){const p=h,{eventFilter:y=aC}=p,b=$tt(p,["eventFilter"]);return Er(r,xtt(y,a),b)}var ztt=Object.defineProperty,Htt=Object.defineProperties,Wtt=Object.getOwnPropertyDescriptors,R0=Object.getOwnPropertySymbols,cC=Object.prototype.hasOwnProperty,uC=Object.prototype.propertyIsEnumerable,P8=(r,a,h)=>a in r?ztt(r,a,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[a]=h,jtt=(r,a)=>{for(var h in a||(a={}))cC.call(a,h)&&P8(r,h,a[h]);if(R0)for(var h of R0(a))uC.call(a,h)&&P8(r,h,a[h]);return r},qtt=(r,a)=>Htt(r,Wtt(a)),Gtt=(r,a)=>{var h={};for(var p in r)cC.call(r,p)&&a.indexOf(p)<0&&(h[p]=r[p]);if(r!=null&&R0)for(var p of R0(r))a.indexOf(p)<0&&uC.call(r,p)&&(h[p]=r[p]);return h};function Xtt(r,a,h={}){const p=h,{eventFilter:y}=p,b=Gtt(p,["eventFilter"]),{eventFilter:E,pause:S,resume:L,isActive:D}=Ttt(y);return{stop:Utt(r,a,qtt(jtt({},b),{eventFilter:E})),pause:S,resume:L,isActive:D}}function Ms(r){var a;const h=zi(r);return(a=h==null?void 0:h.$el)!=null?a:h}const _i=da?window:void 0,hC=da?window.document:void 0,Ktt=da?window.navigator:void 0;function ur(...r){let a,h,p,y;if(sC(r[0])||Array.isArray(r[0])?([h,p,y]=r,a=_i):[a,h,p,y]=r,!a)return Kd;Array.isArray(h)||(h=[h]),Array.isArray(p)||(p=[p]);const b=[],E=()=>{b.forEach(C=>C()),b.length=0},S=(C,V,j)=>(C.addEventListener(V,j,y),()=>C.removeEventListener(V,j,y)),L=Er(()=>Ms(a),C=>{E(),C&&b.push(...h.flatMap(V=>p.map(j=>S(C,V,j))))},{immediate:!0,flush:"post"}),D=()=>{L(),E()};return Pa(D),D}function Ztt(r,a,h={}){const{window:p=_i,ignore:y=[],capture:b=!0,detectIframe:E=!1}=h;if(!p)return;let S=!0,L;const D=rt=>y.some(it=>{if(typeof it=="string")return Array.from(p.document.querySelectorAll(it)).some(Tt=>Tt===rt.target||rt.composedPath().includes(Tt));{const Tt=Ms(it);return Tt&&(rt.target===Tt||rt.composedPath().includes(Tt))}}),C=rt=>{p.clearTimeout(L);const it=Ms(r);if(!(!it||it===rt.target||rt.composedPath().includes(it))){if(rt.detail===0&&(S=!D(rt)),!S){S=!0;return}a(rt)}},V=[ur(p,"click",C,{passive:!0,capture:b}),ur(p,"pointerdown",rt=>{const it=Ms(r);it&&(S=!rt.composedPath().includes(it)&&!D(rt))},{passive:!0}),ur(p,"pointerup",rt=>{if(rt.button===0){const it=rt.composedPath();rt.composedPath=()=>it,L=p.setTimeout(()=>C(rt),50)}},{passive:!0}),E&&ur(p,"blur",rt=>{var it;const Tt=Ms(r);((it=p.document.activeElement)==null?void 0:it.tagName)==="IFRAME"&&!(Tt!=null&&Tt.contains(p.document.activeElement))&&a(rt)})].filter(Boolean);return()=>V.forEach(rt=>rt())}const Qtt=r=>typeof r=="function"?r:typeof r=="string"?a=>a.key===r:Array.isArray(r)?a=>r.includes(a.key):()=>!0;function Jtt(...r){let a,h,p={};r.length===3?(a=r[0],h=r[1],p=r[2]):r.length===2?typeof r[1]=="object"?(a=!0,h=r[0],p=r[1]):(a=r[0],h=r[1]):(a=!0,h=r[0]);const{target:y=_i,eventName:b="keydown",passive:E=!1}=p,S=Qtt(a);return ur(y,b,D=>{S(D)&&h(D)},E)}function tet(r={}){var a;const{window:h=_i}=r,p=(a=r.document)!=null?a:h==null?void 0:h.document,y=Stt(()=>null,()=>p==null?void 0:p.activeElement);return h&&(ur(h,"blur",b=>{b.relatedTarget===null&&y.trigger()},!0),ur(h,"focus",y.trigger,!0)),y}function _f(r,a=!1){const h=Xe(),p=()=>h.value=Boolean(r());return p(),fv(p,a),h}function Zu(r,a={}){const{window:h=_i}=a,p=_f(()=>h&&"matchMedia"in h&&typeof h.matchMedia=="function");let y;const b=Xe(!1),E=()=>{y&&("removeEventListener"in y?y.removeEventListener("change",S):y.removeListener(S))},S=()=>{p.value&&(E(),y=h.matchMedia(oC(r).value),b.value=y.matches,"addEventListener"in y?y.addEventListener("change",S):y.addListener(S))};return Oo(S),Pa(()=>E()),b}const eet={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};var net=Object.defineProperty,F8=Object.getOwnPropertySymbols,ret=Object.prototype.hasOwnProperty,iet=Object.prototype.propertyIsEnumerable,V8=(r,a,h)=>a in r?net(r,a,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[a]=h,set=(r,a)=>{for(var h in a||(a={}))ret.call(a,h)&&V8(r,h,a[h]);if(F8)for(var h of F8(a))iet.call(a,h)&&V8(r,h,a[h]);return r};function aet(r,a={}){function h(S,L){let D=r[S];return L!=null&&(D=Ctt(D,L)),typeof D=="number"&&(D=`${D}px`),D}const{window:p=_i}=a;function y(S){return p?p.matchMedia(S).matches:!1}const b=S=>Zu(`(min-width: ${h(S)})`,a),E=Object.keys(r).reduce((S,L)=>(Object.defineProperty(S,L,{get:()=>b(L),enumerable:!0,configurable:!0}),S),{});return set({greater(S){return Zu(`(min-width: ${h(S,.1)})`,a)},greaterOrEqual:b,smaller(S){return Zu(`(max-width: ${h(S,-.1)})`,a)},smallerOrEqual(S){return Zu(`(max-width: ${h(S)})`,a)},between(S,L){return Zu(`(min-width: ${h(S)}) and (max-width: ${h(L,-.1)})`,a)},isGreater(S){return y(`(min-width: ${h(S,.1)})`)},isGreaterOrEqual(S){return y(`(min-width: ${h(S)})`)},isSmaller(S){return y(`(max-width: ${h(S,-.1)})`)},isSmallerOrEqual(S){return y(`(max-width: ${h(S)})`)},isInBetween(S,L){return y(`(min-width: ${h(S)}) and (max-width: ${h(L,-.1)})`)}},E)}function oet(r={}){const{navigator:a=Ktt,read:h=!1,source:p,copiedDuring:y=1500,legacy:b=!1}=r,E=["copy","cut"],S=_f(()=>a&&"clipboard"in a),L=ee(()=>S.value||b),D=Xe(""),C=Xe(!1),V=Ftt(()=>C.value=!1,y);function j(){S.value?a.clipboard.readText().then(Ct=>{D.value=Ct}):D.value=Tt()}if(L.value&&h)for(const Ct of E)ur(Ct,j);async function rt(Ct=zi(p)){L.value&&Ct!=null&&(S.value?await a.clipboard.writeText(Ct):it(Ct),D.value=Ct,C.value=!0,V.start())}function it(Ct){const $t=document.createElement("textarea");$t.value=Ct??"",$t.style.position="absolute",$t.style.opacity="0",document.body.appendChild($t),$t.select(),document.execCommand("copy"),$t.remove()}function Tt(){var Ct,$t,Rt;return(Rt=($t=(Ct=document==null?void 0:document.getSelection)==null?void 0:Ct.call(document))==null?void 0:$t.toString())!=null?Rt:""}return{isSupported:L,text:D,copied:C,copy:rt}}function cet(r){return JSON.parse(JSON.stringify(r))}const T_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},E_="__vueuse_ssr_handlers__";T_[E_]=T_[E_]||{};const uet=T_[E_];function het(r,a){return uet[r]||a}function det(r){return r==null?"any":r instanceof Set?"set":r instanceof Map?"map":r instanceof Date?"date":typeof r=="boolean"?"boolean":typeof r=="string"?"string":typeof r=="object"?"object":Number.isNaN(r)?"any":"number"}var fet=Object.defineProperty,Y8=Object.getOwnPropertySymbols,pet=Object.prototype.hasOwnProperty,get=Object.prototype.propertyIsEnumerable,$8=(r,a,h)=>a in r?fet(r,a,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[a]=h,U8=(r,a)=>{for(var h in a||(a={}))pet.call(a,h)&&$8(r,h,a[h]);if(Y8)for(var h of Y8(a))get.call(a,h)&&$8(r,h,a[h]);return r};const met={boolean:{read:r=>r==="true",write:r=>String(r)},object:{read:r=>JSON.parse(r),write:r=>JSON.stringify(r)},number:{read:r=>Number.parseFloat(r),write:r=>String(r)},any:{read:r=>r,write:r=>String(r)},string:{read:r=>r,write:r=>String(r)},map:{read:r=>new Map(JSON.parse(r)),write:r=>JSON.stringify(Array.from(r.entries()))},set:{read:r=>new Set(JSON.parse(r)),write:r=>JSON.stringify(Array.from(r))},date:{read:r=>new Date(r),write:r=>r.toISOString()}};function pa(r,a,h,p={}){var y;const{flush:b="pre",deep:E=!0,listenToStorageChanges:S=!0,writeDefaults:L=!0,mergeDefaults:D=!1,shallow:C,window:V=_i,eventFilter:j,onError:rt=te=>{console.error(te)}}=p,it=(C?Ba:Xe)(a);if(!h)try{h=het("getDefaultStorage",()=>{var te;return(te=_i)==null?void 0:te.localStorage})()}catch(te){rt(te)}if(!h)return it;const Tt=zi(a),Ct=det(Tt),$t=(y=p.serializer)!=null?y:met[Ct],{pause:Rt,resume:Kt}=Xtt(it,()=>de(it.value),{flush:b,deep:E,eventFilter:j});return V&&S&&ur(V,"storage",ve),ve(),it;function de(te){try{if(te==null)h.removeItem(r);else{const Le=$t.write(te),je=h.getItem(r);je!==Le&&(h.setItem(r,Le),V&&(V==null||V.dispatchEvent(new StorageEvent("storage",{key:r,oldValue:je,newValue:Le,storageArea:h}))))}}catch(Le){rt(Le)}}function ke(te){const Le=te?te.newValue:h.getItem(r);if(Le==null)return L&&Tt!==null&&h.setItem(r,$t.write(Tt)),Tt;if(!te&&D){const je=$t.read(Le);return of(D)?D(je,Tt):Ct==="object"&&!Array.isArray(je)?U8(U8({},Tt),je):je}else return typeof Le!="string"?Le:$t.read(Le)}function ve(te){if(!(te&&te.storageArea!==h)){if(te&&te.key==null){it.value=Tt;return}if(!(te&&te.key!==r)){Rt();try{it.value=ke(te)}catch(Le){rt(Le)}finally{te?ha(Kt):Kt()}}}}}function yet(r){return Zu("(prefers-color-scheme: dark)",r)}var _et=Object.defineProperty,vet=Object.defineProperties,bet=Object.getOwnPropertyDescriptors,z8=Object.getOwnPropertySymbols,ket=Object.prototype.hasOwnProperty,wet=Object.prototype.propertyIsEnumerable,H8=(r,a,h)=>a in r?_et(r,a,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[a]=h,xet=(r,a)=>{for(var h in a||(a={}))ket.call(a,h)&&H8(r,h,a[h]);if(z8)for(var h of z8(a))wet.call(a,h)&&H8(r,h,a[h]);return r},Tet=(r,a)=>vet(r,bet(a));function Cft(r,a={}){var h,p,y;const b=(h=a.draggingElement)!=null?h:_i,E=(p=a.handle)!=null?p:r,S=Xe((y=zi(a.initialValue))!=null?y:{x:0,y:0}),L=Xe(),D=it=>a.pointerTypes?a.pointerTypes.includes(it.pointerType):!0,C=it=>{zi(a.preventDefault)&&it.preventDefault(),zi(a.stopPropagation)&&it.stopPropagation()},V=it=>{var Tt;if(!D(it)||zi(a.exact)&&it.target!==zi(r))return;const Ct=zi(r).getBoundingClientRect(),$t={x:it.clientX-Ct.left,y:it.clientY-Ct.top};((Tt=a.onStart)==null?void 0:Tt.call(a,$t,it))!==!1&&(L.value=$t,C(it))},j=it=>{var Tt;D(it)&&L.value&&(S.value={x:it.clientX-L.value.x,y:it.clientY-L.value.y},(Tt=a.onMove)==null||Tt.call(a,S.value,it),C(it))},rt=it=>{var Tt;D(it)&&L.value&&(L.value=void 0,(Tt=a.onEnd)==null||Tt.call(a,S.value,it),C(it))};return da&&(ur(E,"pointerdown",V,!0),ur(b,"pointermove",j,!0),ur(b,"pointerup",rt,!0)),Tet(xet({},Btt(S)),{position:S,isDragging:ee(()=>!!L.value),style:ee(()=>`left:${S.value.x}px;top:${S.value.y}px;`)})}var W8=Object.getOwnPropertySymbols,Eet=Object.prototype.hasOwnProperty,Cet=Object.prototype.propertyIsEnumerable,Aet=(r,a)=>{var h={};for(var p in r)Eet.call(r,p)&&a.indexOf(p)<0&&(h[p]=r[p]);if(r!=null&&W8)for(var p of W8(r))a.indexOf(p)<0&&Cet.call(r,p)&&(h[p]=r[p]);return h};function Let(r,a,h={}){const p=h,{window:y=_i}=p,b=Aet(p,["window"]);let E;const S=_f(()=>y&&"ResizeObserver"in y),L=()=>{E&&(E.disconnect(),E=void 0)},D=Er(()=>Ms(r),V=>{L(),S.value&&y&&V&&(E=new ResizeObserver(a),E.observe(V,b))},{immediate:!0,flush:"post"}),C=()=>{L(),D()};return Pa(C),{isSupported:S,stop:C}}function Iet(r,a={}){const{immediate:h=!0,window:p=_i}=a,y=Xe(!1);let b=0,E=null;function S(C){if(!y.value||!p)return;const V=C-b;r({delta:V,timestamp:C}),b=C,E=p.requestAnimationFrame(S)}function L(){!y.value&&p&&(y.value=!0,E=p.requestAnimationFrame(S))}function D(){y.value=!1,E!=null&&p&&(p.cancelAnimationFrame(E),E=null)}return h&&L(),Pa(D),{isActive:Na(y),pause:D,resume:L}}function Met(r,a={width:0,height:0},h={}){const{window:p=_i,box:y="content-box"}=h,b=ee(()=>{var L,D;return(D=(L=Ms(r))==null?void 0:L.namespaceURI)==null?void 0:D.includes("svg")}),E=Xe(a.width),S=Xe(a.height);return Let(r,([L])=>{const D=y==="border-box"?L.borderBoxSize:y==="content-box"?L.contentBoxSize:L.devicePixelContentBoxSize;if(p&&b.value){const C=Ms(r);if(C){const V=p.getComputedStyle(C);E.value=parseFloat(V.width),S.value=parseFloat(V.height)}}else if(D){const C=Array.isArray(D)?D:[D];E.value=C.reduce((V,{inlineSize:j})=>V+j,0),S.value=C.reduce((V,{blockSize:j})=>V+j,0)}else E.value=L.contentRect.width,S.value=L.contentRect.height},h),Er(()=>Ms(r),L=>{E.value=L?a.width:0,S.value=L?a.height:0}),{width:E,height:S}}const j8=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function Net(r,a={}){const{document:h=hC,autoExit:p=!1}=a,y=r||(h==null?void 0:h.querySelector("html")),b=Xe(!1);let E=j8[0];const S=_f(()=>{if(h){for(const Tt of j8)if(Tt[1]in h)return E=Tt,!0}else return!1;return!1}),[L,D,C,,V]=E;async function j(){S.value&&(h!=null&&h[C]&&await h[D](),b.value=!1)}async function rt(){if(!S.value)return;await j();const Tt=Ms(y);Tt&&(await Tt[L](),b.value=!0)}async function it(){b.value?await j():await rt()}return h&&ur(h,V,()=>{b.value=!!(h!=null&&h[C])},!1),p&&Pa(j),{isSupported:S,isFullscreen:b,enter:rt,exit:j,toggle:it}}function Sft(r,a,h={}){const{root:p,rootMargin:y="0px",threshold:b=.1,window:E=_i}=h,S=_f(()=>E&&"IntersectionObserver"in E);let L=Kd;const D=S.value?Er(()=>({el:Ms(r),root:Ms(p)}),({el:V,root:j})=>{if(L(),!V)return;const rt=new IntersectionObserver(a,{root:j,rootMargin:y,threshold:b});rt.observe(V),L=()=>{rt.disconnect(),L=Kd}},{immediate:!0,flush:"post"}):Kd,C=()=>{L(),D()};return Pa(C),{isSupported:S,stop:C}}const Oet={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function Det(r={}){const{reactive:a=!1,target:h=_i,aliasMap:p=Oet,passive:y=!0,onEventFired:b=Kd}=r,E=yi(new Set),S={toJSON(){return{}},current:E},L=a?yi(S):S,D=new Set,C=new Set;function V(Tt,Ct){Tt in L&&(a?L[Tt]=Ct:L[Tt].value=Ct)}function j(){E.clear();for(const Tt of C)V(Tt,!1)}function rt(Tt,Ct){var $t,Rt;const Kt=($t=Tt.key)==null?void 0:$t.toLowerCase(),ke=[(Rt=Tt.code)==null?void 0:Rt.toLowerCase(),Kt].filter(Boolean);Kt&&(Ct?E.add(Kt):E.delete(Kt));for(const ve of ke)C.add(ve),V(ve,Ct);Kt==="meta"&&!Ct?(D.forEach(ve=>{E.delete(ve),V(ve,!1)}),D.clear()):typeof Tt.getModifierState=="function"&&Tt.getModifierState("Meta")&&Ct&&[...E,...ke].forEach(ve=>D.add(ve))}ur(h,"keydown",Tt=>(rt(Tt,!0),b(Tt)),{passive:y}),ur(h,"keyup",Tt=>(rt(Tt,!1),b(Tt)),{passive:y}),ur("blur",j,{passive:!0}),ur("focus",j,{passive:!0});const it=new Proxy(L,{get(Tt,Ct,$t){if(typeof Ct!="string")return Reflect.get(Tt,Ct,$t);if(Ct=Ct.toLowerCase(),Ct in p&&(Ct=p[Ct]),!(Ct in L))if(/[+_-]/.test(Ct)){const Kt=Ct.split(/[+_-]/g).map(de=>de.trim());L[Ct]=ee(()=>Kt.every(de=>Mt(it[de])))}else L[Ct]=Xe(!1);const Rt=Reflect.get(Tt,Ct,$t);return a?Mt(Rt):Rt}});return it}function Aft(r={}){const{type:a="page",touch:h=!0,resetOnTouchEnds:p=!1,initialValue:y={x:0,y:0},window:b=_i,eventFilter:E}=r,S=Xe(y.x),L=Xe(y.y),D=Xe(null),C=Tt=>{a==="page"?(S.value=Tt.pageX,L.value=Tt.pageY):a==="client"?(S.value=Tt.clientX,L.value=Tt.clientY):a==="movement"&&(S.value=Tt.movementX,L.value=Tt.movementY),D.value="mouse"},V=()=>{S.value=y.x,L.value=y.y},j=Tt=>{if(Tt.touches.length>0){const Ct=Tt.touches[0];a==="page"?(S.value=Ct.pageX,L.value=Ct.pageY):a==="client"&&(S.value=Ct.clientX,L.value=Ct.clientY),D.value="touch"}},rt=Tt=>E===void 0?C(Tt):E(()=>C(Tt),{}),it=Tt=>E===void 0?j(Tt):E(()=>j(Tt),{});return b&&(ur(b,"mousemove",rt,{passive:!0}),ur(b,"dragover",rt,{passive:!0}),h&&a!=="movement"&&(ur(b,"touchstart",it,{passive:!0}),ur(b,"touchmove",it,{passive:!0}),p&&ur(b,"touchend",V,{passive:!0}))),{x:S,y:L,sourceType:D}}var Lo;(function(r){r.UP="UP",r.RIGHT="RIGHT",r.DOWN="DOWN",r.LEFT="LEFT",r.NONE="NONE"})(Lo||(Lo={}));function Ret(r,a={}){const h=oC(r),{threshold:p=50,onSwipe:y,onSwipeEnd:b,onSwipeStart:E}=a,S=yi({x:0,y:0}),L=(ve,te)=>{S.x=ve,S.y=te},D=yi({x:0,y:0}),C=(ve,te)=>{D.x=ve,D.y=te},V=ee(()=>S.x-D.x),j=ee(()=>S.y-D.y),{max:rt,abs:it}=Math,Tt=ee(()=>rt(it(V.value),it(j.value))>=p),Ct=Xe(!1),$t=Xe(!1),Rt=ee(()=>Tt.value?it(V.value)>it(j.value)?V.value>0?Lo.LEFT:Lo.RIGHT:j.value>0?Lo.UP:Lo.DOWN:Lo.NONE),Kt=ve=>{var te,Le,je;const en=ve.buttons===0,xn=ve.buttons===1;return(je=(Le=(te=a.pointerTypes)==null?void 0:te.includes(ve.pointerType))!=null?Le:en||xn)!=null?je:!0},de=[ur(r,"pointerdown",ve=>{var te,Le;if(!Kt(ve))return;$t.value=!0,(Le=(te=h.value)==null?void 0:te.style)==null||Le.setProperty("touch-action","none");const je=ve.target;je==null||je.setPointerCapture(ve.pointerId);const{clientX:en,clientY:xn}=ve;L(en,xn),C(en,xn),E==null||E(ve)}),ur(r,"pointermove",ve=>{if(!Kt(ve)||!$t.value)return;const{clientX:te,clientY:Le}=ve;C(te,Le),!Ct.value&&Tt.value&&(Ct.value=!0),Ct.value&&(y==null||y(ve))}),ur(r,"pointerup",ve=>{var te,Le;Kt(ve)&&(Ct.value&&(b==null||b(ve,Rt.value)),$t.value=!1,Ct.value=!1,(Le=(te=h.value)==null?void 0:te.style)==null||Le.setProperty("touch-action","initial"))})],ke=()=>de.forEach(ve=>ve());return{isSwiping:Na(Ct),direction:Na(Rt),posStart:Na(S),posEnd:Na(D),distanceX:V,distanceY:j,stop:ke}}let Bet=0;function Lft(r,a={}){const h=Xe(!1),{document:p=hC,immediate:y=!0,manual:b=!1,id:E=`vueuse_styletag_${++Bet}`}=a,S=Xe(r);let L=()=>{};const D=()=>{if(!p)return;const V=p.getElementById(E)||p.createElement("style");V.isConnected||(V.type="text/css",V.id=E,a.media&&(V.media=a.media),p.head.appendChild(V)),!h.value&&(L=Er(S,j=>{V.textContent=j},{immediate:!0}),h.value=!0)},C=()=>{!p||!h.value||(L(),p.head.removeChild(p.getElementById(E)),h.value=!1)};return y&&!b&&fv(D),b||Pa(C),{id:E,css:S,unload:C,load:D,isLoaded:Na(h)}}var Pet=Object.defineProperty,q8=Object.getOwnPropertySymbols,Fet=Object.prototype.hasOwnProperty,Vet=Object.prototype.propertyIsEnumerable,G8=(r,a,h)=>a in r?Pet(r,a,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[a]=h,Yet=(r,a)=>{for(var h in a||(a={}))Fet.call(a,h)&&G8(r,h,a[h]);if(q8)for(var h of q8(a))Vet.call(a,h)&&G8(r,h,a[h]);return r};function Ift(r={}){const{controls:a=!1,offset:h=0,immediate:p=!0,interval:y="requestAnimationFrame",callback:b}=r,E=Xe(x_()+h),S=()=>E.value=x_()+h,L=b?()=>{S(),b(E.value)}:S,D=y==="requestAnimationFrame"?Iet(L,{immediate:p}):Ptt(L,y,{immediate:p});return a?Yet({timestamp:E},D):E}var $et=Object.defineProperty,X8=Object.getOwnPropertySymbols,Uet=Object.prototype.hasOwnProperty,zet=Object.prototype.propertyIsEnumerable,K8=(r,a,h)=>a in r?$et(r,a,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[a]=h,Het=(r,a)=>{for(var h in a||(a={}))Uet.call(a,h)&&K8(r,h,a[h]);if(X8)for(var h of X8(a))zet.call(a,h)&&K8(r,h,a[h]);return r};const Wet={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Het({linear:Ett},Wet);function Oa(r,a,h,p={}){var y,b,E;const{clone:S=!1,passive:L=!1,eventName:D,deep:C=!1,defaultValue:V}=p,j=fa(),rt=h||(j==null?void 0:j.emit)||((y=j==null?void 0:j.$emit)==null?void 0:y.bind(j))||((E=(b=j==null?void 0:j.proxy)==null?void 0:b.$emit)==null?void 0:E.bind(j==null?void 0:j.proxy));let it=D;a||(a="modelValue"),it=D||it||`update:${a.toString()}`;const Tt=$t=>S?of(S)?S($t):cet($t):$t,Ct=()=>ktt(r[a])?Tt(r[a]):V;if(L){const $t=Ct(),Rt=Xe($t);return Er(()=>r[a],Kt=>Rt.value=Tt(Kt)),Er(Rt,Kt=>{(Kt!==r[a]||C)&&rt(it,Kt)},{deep:C}),Rt}else return ee({get(){return Ct()},set($t){rt(it,$t)}})}function Mft({window:r=_i}={}){if(!r)return Xe(!1);const a=Xe(r.document.hasFocus());return ur(r,"blur",()=>{a.value=!1}),ur(r,"focus",()=>{a.value=!0}),a}function jet(r={}){const{window:a=_i,initialWidth:h=1/0,initialHeight:p=1/0,listenOrientation:y=!0,includeScrollbar:b=!0}=r,E=Xe(h),S=Xe(p),L=()=>{a&&(b?(E.value=a.innerWidth,S.value=a.innerHeight):(E.value=a.document.documentElement.clientWidth,S.value=a.document.documentElement.clientHeight))};return L(),fv(L),ur("resize",L,{passive:!0}),y&&ur("orientationchange",L,{passive:!0}),{width:E,height:S}}function qet(){return dC().__VUE_DEVTOOLS_GLOBAL_HOOK__}function dC(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Get=typeof Proxy=="function",Xet="devtools-plugin:setup",Ket="plugin:settings:set";let Hu,C_;function Zet(){var r;return Hu!==void 0||(typeof window<"u"&&window.performance?(Hu=!0,C_=window.performance):typeof global<"u"&&(!((r=global.perf_hooks)===null||r===void 0)&&r.performance)?(Hu=!0,C_=global.perf_hooks.performance):Hu=!1),Hu}function Qet(){return Zet()?C_.now():Date.now()}class Jet{constructor(a,h){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=a,this.hook=h;const p={};if(a.settings)for(const E in a.settings){const S=a.settings[E];p[E]=S.defaultValue}const y=`__vue-devtools-plugin-settings__${a.id}`;let b=Object.assign({},p);try{const E=localStorage.getItem(y),S=JSON.parse(E);Object.assign(b,S)}catch{}this.fallbacks={getSettings(){return b},setSettings(E){try{localStorage.setItem(y,JSON.stringify(E))}catch{}b=E},now(){return Qet()}},h&&h.on(Ket,(E,S)=>{E===this.plugin.id&&this.fallbacks.setSettings(S)}),this.proxiedOn=new Proxy({},{get:(E,S)=>this.target?this.target.on[S]:(...L)=>{this.onQueue.push({method:S,args:L})}}),this.proxiedTarget=new Proxy({},{get:(E,S)=>this.target?this.target[S]:S==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(S)?(...L)=>(this.targetQueue.push({method:S,args:L,resolve:()=>{}}),this.fallbacks[S](...L)):(...L)=>new Promise(D=>{this.targetQueue.push({method:S,args:L,resolve:D})})})}async setRealTarget(a){this.target=a;for(const h of this.onQueue)this.target.on[h.method](...h.args);for(const h of this.targetQueue)h.resolve(await this.target[h.method](...h.args))}}function tnt(r,a){const h=r,p=dC(),y=qet(),b=Get&&h.enableEarlyProxy;if(y&&(p.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!b))y.emit(Xet,r,a);else{const E=b?new Jet(h,y):null;(p.__VUE_DEVTOOLS_PLUGINS__=p.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:h,setupFn:a,proxy:E}),E&&a(E.proxiedTarget)}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Co=typeof window<"u";function ent(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const ir=Object.assign;function G2(r,a){const h={};for(const p in a){const y=a[p];h[p]=ms(y)?y.map(r):r(y)}return h}const Zd=()=>{},ms=Array.isArray;function Xn(r){const a=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+r].concat(a))}const nnt=/\/$/,rnt=r=>r.replace(nnt,"");function X2(r,a,h="/"){let p,y={},b="",E="";const S=a.indexOf("#");let L=a.indexOf("?");return S<L&&S>=0&&(L=-1),L>-1&&(p=a.slice(0,L),b=a.slice(L+1,S>-1?S:a.length),y=r(b)),S>-1&&(p=p||a.slice(0,S),E=a.slice(S,a.length)),p=ant(p??a,h),{fullPath:p+(b&&"?")+b+E,path:p,query:y,hash:E}}function int(r,a){const h=a.query?r(a.query):"";return a.path+(h&&"?")+h+(a.hash||"")}function Z8(r,a){return!a||!r.toLowerCase().startsWith(a.toLowerCase())?r:r.slice(a.length)||"/"}function Q8(r,a,h){const p=a.matched.length-1,y=h.matched.length-1;return p>-1&&p===y&&_l(a.matched[p],h.matched[y])&&fC(a.params,h.params)&&r(a.query)===r(h.query)&&a.hash===h.hash}function _l(r,a){return(r.aliasOf||r)===(a.aliasOf||a)}function fC(r,a){if(Object.keys(r).length!==Object.keys(a).length)return!1;for(const h in r)if(!snt(r[h],a[h]))return!1;return!0}function snt(r,a){return ms(r)?J8(r,a):ms(a)?J8(a,r):r===a}function J8(r,a){return ms(a)?r.length===a.length&&r.every((h,p)=>h===a[p]):r.length===1&&r[0]===a}function ant(r,a){if(r.startsWith("/"))return r;if(!a.startsWith("/"))return Xn(`Cannot resolve a relative location without an absolute path. Trying to resolve "${r}" from "${a}". It should look like "/${a}".`),r;if(!r)return a;const h=a.split("/"),p=r.split("/");let y=h.length-1,b,E;for(b=0;b<p.length;b++)if(E=p[b],E!==".")if(E==="..")y>1&&y--;else break;return h.slice(0,y).join("/")+"/"+p.slice(b-(b===p.length?1:0)).join("/")}var lf;(function(r){r.pop="pop",r.push="push"})(lf||(lf={}));var Qd;(function(r){r.back="back",r.forward="forward",r.unknown=""})(Qd||(Qd={}));function ont(r){if(!r)if(Co){const a=document.querySelector("base");r=a&&a.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),rnt(r)}const lnt=/^[^#]+#/;function cnt(r,a){return r.replace(lnt,"#")+a}function unt(r,a){const h=document.documentElement.getBoundingClientRect(),p=r.getBoundingClientRect();return{behavior:a.behavior,left:p.left-h.left-(a.left||0),top:p.top-h.top-(a.top||0)}}const ng=()=>({left:window.pageXOffset,top:window.pageYOffset});function hnt(r){let a;if("el"in r){const h=r.el,p=typeof h=="string"&&h.startsWith("#");if(typeof r.el=="string"&&(!p||!document.getElementById(r.el.slice(1))))try{const b=document.querySelector(r.el);if(p&&b){Xn(`The selector "${r.el}" should be passed as "el: document.querySelector('${r.el}')" because it starts with "#".`);return}}catch{Xn(`The selector "${r.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const y=typeof h=="string"?p?document.getElementById(h.slice(1)):document.querySelector(h):h;if(!y){Xn(`Couldn't find element using selector "${r.el}" returned by scrollBehavior.`);return}a=unt(y,r)}else a=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(a):window.scrollTo(a.left!=null?a.left:window.pageXOffset,a.top!=null?a.top:window.pageYOffset)}function tT(r,a){return(history.state?history.state.position-a:-1)+r}const S_=new Map;function dnt(r,a){S_.set(r,a)}function fnt(r){const a=S_.get(r);return S_.delete(r),a}let pnt=()=>location.protocol+"//"+location.host;function pC(r,a){const{pathname:h,search:p,hash:y}=a,b=r.indexOf("#");if(b>-1){let S=y.includes(r.slice(b))?r.slice(b).length:1,L=y.slice(S);return L[0]!=="/"&&(L="/"+L),Z8(L,"")}return Z8(h,r)+p+y}function gnt(r,a,h,p){let y=[],b=[],E=null;const S=({state:j})=>{const rt=pC(r,location),it=h.value,Tt=a.value;let Ct=0;if(j){if(h.value=rt,a.value=j,E&&E===it){E=null;return}Ct=Tt?j.position-Tt.position:0}else p(rt);y.forEach($t=>{$t(h.value,it,{delta:Ct,type:lf.pop,direction:Ct?Ct>0?Qd.forward:Qd.back:Qd.unknown})})};function L(){E=h.value}function D(j){y.push(j);const rt=()=>{const it=y.indexOf(j);it>-1&&y.splice(it,1)};return b.push(rt),rt}function C(){const{history:j}=window;j.state&&j.replaceState(ir({},j.state,{scroll:ng()}),"")}function V(){for(const j of b)j();b=[],window.removeEventListener("popstate",S),window.removeEventListener("beforeunload",C)}return window.addEventListener("popstate",S),window.addEventListener("beforeunload",C),{pauseListeners:L,listen:D,destroy:V}}function eT(r,a,h,p=!1,y=!1){return{back:r,current:a,forward:h,replaced:p,position:window.history.length,scroll:y?ng():null}}function mnt(r){const{history:a,location:h}=window,p={value:pC(r,h)},y={value:a.state};y.value||b(p.value,{back:null,current:p.value,forward:null,position:a.length-1,replaced:!0,scroll:null},!0);function b(L,D,C){const V=r.indexOf("#"),j=V>-1?(h.host&&document.querySelector("base")?r:r.slice(V))+L:pnt()+r+L;try{a[C?"replaceState":"pushState"](D,"",j),y.value=D}catch(rt){Xn("Error with push/replace State",rt),h[C?"replace":"assign"](j)}}function E(L,D){const C=ir({},a.state,eT(y.value.back,L,y.value.forward,!0),D,{position:y.value.position});b(L,C,!0),p.value=L}function S(L,D){const C=ir({},y.value,a.state,{forward:L,scroll:ng()});a.state||Xn(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),b(C.current,C,!0);const V=ir({},eT(p.value,L,null),{position:C.position+1},D);b(L,V,!1),p.value=L}return{location:p,state:y,push:S,replace:E}}function ynt(r){r=ont(r);const a=mnt(r),h=gnt(r,a.state,a.location,a.replace);function p(b,E=!0){E||h.pauseListeners(),history.go(b)}const y=ir({location:"",base:r,go:p,createHref:cnt.bind(null,r)},a,h);return Object.defineProperty(y,"location",{enumerable:!0,get:()=>a.location.value}),Object.defineProperty(y,"state",{enumerable:!0,get:()=>a.state.value}),y}function _nt(r){return typeof r=="string"||r&&typeof r=="object"}function gC(r){return typeof r=="string"||typeof r=="symbol"}const al={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},mC=Symbol("navigation failure");var nT;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(nT||(nT={}));const vnt={[1]({location:r,currentLocation:a}){return`No match for
 ${JSON.stringify(r)}${a?`
while being at
`+JSON.stringify(a):""}`},[2]({from:r,to:a}){return`Redirected from "${r.fullPath}" to "${knt(a)}" via a navigation guard.`},[4]({from:r,to:a}){return`Navigation aborted from "${r.fullPath}" to "${a.fullPath}" via a navigation guard.`},[8]({from:r,to:a}){return`Navigation cancelled from "${r.fullPath}" to "${a.fullPath}" with a new navigation.`},[16]({from:r,to:a}){return`Avoided redundant navigation to current location: "${r.fullPath}".`}};function oh(r,a){return ir(new Error(vnt[r](a)),{type:r,[mC]:!0},a)}function bo(r,a){return r instanceof Error&&mC in r&&(a==null||!!(r.type&a))}const bnt=["params","query","hash"];function knt(r){if(typeof r=="string")return r;if("path"in r)return r.path;const a={};for(const h of bnt)h in r&&(a[h]=r[h]);return JSON.stringify(a,null,2)}const rT="[^/]+?",wnt={sensitive:!1,strict:!1,start:!0,end:!0},xnt=/[.+*?^${}()[\]/\\]/g;function Tnt(r,a){const h=ir({},wnt,a),p=[];let y=h.start?"^":"";const b=[];for(const D of r){const C=D.length?[]:[90];h.strict&&!D.length&&(y+="/");for(let V=0;V<D.length;V++){const j=D[V];let rt=40+(h.sensitive?.25:0);if(j.type===0)V||(y+="/"),y+=j.value.replace(xnt,"\\$&"),rt+=40;else if(j.type===1){const{value:it,repeatable:Tt,optional:Ct,regexp:$t}=j;b.push({name:it,repeatable:Tt,optional:Ct});const Rt=$t||rT;if(Rt!==rT){rt+=10;try{new RegExp(`(${Rt})`)}catch(de){throw new Error(`Invalid custom RegExp for param "${it}" (${Rt}): `+de.message)}}let Kt=Tt?`((?:${Rt})(?:/(?:${Rt}))*)`:`(${Rt})`;V||(Kt=Ct&&D.length<2?`(?:/${Kt})`:"/"+Kt),Ct&&(Kt+="?"),y+=Kt,rt+=20,Ct&&(rt+=-8),Tt&&(rt+=-20),Rt===".*"&&(rt+=-50)}C.push(rt)}p.push(C)}if(h.strict&&h.end){const D=p.length-1;p[D][p[D].length-1]+=.7000000000000001}h.strict||(y+="/?"),h.end?y+="$":h.strict&&(y+="(?:/|$)");const E=new RegExp(y,h.sensitive?"":"i");function S(D){const C=D.match(E),V={};if(!C)return null;for(let j=1;j<C.length;j++){const rt=C[j]||"",it=b[j-1];V[it.name]=rt&&it.repeatable?rt.split("/"):rt}return V}function L(D){let C="",V=!1;for(const j of r){(!V||!C.endsWith("/"))&&(C+="/"),V=!1;for(const rt of j)if(rt.type===0)C+=rt.value;else if(rt.type===1){const{value:it,repeatable:Tt,optional:Ct}=rt,$t=it in D?D[it]:"";if(ms($t)&&!Tt)throw new Error(`Provided param "${it}" is an array but it is not repeatable (* or + modifiers)`);const Rt=ms($t)?$t.join("/"):$t;if(!Rt)if(Ct)j.length<2&&(C.endsWith("/")?C=C.slice(0,-1):V=!0);else throw new Error(`Missing required param "${it}"`);C+=Rt}}return C||"/"}return{re:E,score:p,keys:b,parse:S,stringify:L}}function Ent(r,a){let h=0;for(;h<r.length&&h<a.length;){const p=a[h]-r[h];if(p)return p;h++}return r.length<a.length?r.length===1&&r[0]===40+40?-1:1:r.length>a.length?a.length===1&&a[0]===40+40?1:-1:0}function Cnt(r,a){let h=0;const p=r.score,y=a.score;for(;h<p.length&&h<y.length;){const b=Ent(p[h],y[h]);if(b)return b;h++}if(Math.abs(y.length-p.length)===1){if(iT(p))return 1;if(iT(y))return-1}return y.length-p.length}function iT(r){const a=r[r.length-1];return r.length>0&&a[a.length-1]<0}const Snt={type:0,value:""},Ant=/[a-zA-Z0-9_]/;function Lnt(r){if(!r)return[[]];if(r==="/")return[[Snt]];if(!r.startsWith("/"))throw new Error(`Route paths should start with a "/": "${r}" should be "/${r}".`);function a(rt){throw new Error(`ERR (${h})/"${D}": ${rt}`)}let h=0,p=h;const y=[];let b;function E(){b&&y.push(b),b=[]}let S=0,L,D="",C="";function V(){D&&(h===0?b.push({type:0,value:D}):h===1||h===2||h===3?(b.length>1&&(L==="*"||L==="+")&&a(`A repeatable param (${D}) must be alone in its segment. eg: '/:ids+.`),b.push({type:1,value:D,regexp:C,repeatable:L==="*"||L==="+",optional:L==="*"||L==="?"})):a("Invalid state to consume buffer"),D="")}function j(){D+=L}for(;S<r.length;){if(L=r[S++],L==="\\"&&h!==2){p=h,h=4;continue}switch(h){case 0:L==="/"?(D&&V(),E()):L===":"?(V(),h=1):j();break;case 4:j(),h=p;break;case 1:L==="("?h=2:Ant.test(L)?j():(V(),h=0,L!=="*"&&L!=="?"&&L!=="+"&&S--);break;case 2:L===")"?C[C.length-1]=="\\"?C=C.slice(0,-1)+L:h=3:C+=L;break;case 3:V(),h=0,L!=="*"&&L!=="?"&&L!=="+"&&S--,C="";break;default:a("Unknown state");break}}return h===2&&a(`Unfinished custom RegExp for param "${D}"`),V(),E(),y}function Int(r,a,h){const p=Tnt(Lnt(r.path),h);{const b=new Set;for(const E of p.keys)b.has(E.name)&&Xn(`Found duplicated params with name "${E.name}" for path "${r.path}". Only the last one will be available on "$route.params".`),b.add(E.name)}const y=ir(p,{record:r,parent:a,children:[],alias:[]});return a&&!y.record.aliasOf==!a.record.aliasOf&&a.children.push(y),y}function Mnt(r,a){const h=[],p=new Map;a=oT({strict:!1,end:!0,sensitive:!1},a);function y(C){return p.get(C)}function b(C,V,j){const rt=!j,it=Nnt(C);Bnt(it,V),it.aliasOf=j&&j.record;const Tt=oT(a,C),Ct=[it];if("alias"in C){const Kt=typeof C.alias=="string"?[C.alias]:C.alias;for(const de of Kt)Ct.push(ir({},it,{components:j?j.record.components:it.components,path:de,aliasOf:j?j.record:it}))}let $t,Rt;for(const Kt of Ct){const{path:de}=Kt;if(V&&de[0]!=="/"){const ke=V.record.path,ve=ke[ke.length-1]==="/"?"":"/";Kt.path=V.record.path+(de&&ve+de)}if(Kt.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if($t=Int(Kt,V,Tt),V&&de[0]==="/"&&Pnt($t,V),j?(j.alias.push($t),Rnt(j,$t)):(Rt=Rt||$t,Rt!==$t&&Rt.alias.push($t),rt&&C.name&&!aT($t)&&E(C.name)),it.children){const ke=it.children;for(let ve=0;ve<ke.length;ve++)b(ke[ve],$t,j&&j.children[ve])}j=j||$t,($t.record.components&&Object.keys($t.record.components).length||$t.record.name||$t.record.redirect)&&L($t)}return Rt?()=>{E(Rt)}:Zd}function E(C){if(gC(C)){const V=p.get(C);V&&(p.delete(C),h.splice(h.indexOf(V),1),V.children.forEach(E),V.alias.forEach(E))}else{const V=h.indexOf(C);V>-1&&(h.splice(V,1),C.record.name&&p.delete(C.record.name),C.children.forEach(E),C.alias.forEach(E))}}function S(){return h}function L(C){let V=0;for(;V<h.length&&Cnt(C,h[V])>=0&&(C.record.path!==h[V].record.path||!yC(C,h[V]));)V++;h.splice(V,0,C),C.record.name&&!aT(C)&&p.set(C.record.name,C)}function D(C,V){let j,rt={},it,Tt;if("name"in C&&C.name){if(j=p.get(C.name),!j)throw oh(1,{location:C});{const Rt=Object.keys(C.params||{}).filter(Kt=>!j.keys.find(de=>de.name===Kt));Rt.length&&Xn(`Discarded invalid param(s) "${Rt.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}Tt=j.record.name,rt=ir(sT(V.params,j.keys.filter(Rt=>!Rt.optional).map(Rt=>Rt.name)),C.params&&sT(C.params,j.keys.map(Rt=>Rt.name))),it=j.stringify(rt)}else if("path"in C)it=C.path,it.startsWith("/")||Xn(`The Matcher cannot resolve relative paths but received "${it}". Unless you directly called \`matcher.resolve("${it}")\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`),j=h.find(Rt=>Rt.re.test(it)),j&&(rt=j.parse(it),Tt=j.record.name);else{if(j=V.name?p.get(V.name):h.find(Rt=>Rt.re.test(V.path)),!j)throw oh(1,{location:C,currentLocation:V});Tt=j.record.name,rt=ir({},V.params,C.params),it=j.stringify(rt)}const Ct=[];let $t=j;for(;$t;)Ct.unshift($t.record),$t=$t.parent;return{name:Tt,path:it,params:rt,matched:Ct,meta:Dnt(Ct)}}return r.forEach(C=>b(C)),{addRoute:b,resolve:D,removeRoute:E,getRoutes:S,getRecordMatcher:y}}function sT(r,a){const h={};for(const p of a)p in r&&(h[p]=r[p]);return h}function Nnt(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:Ont(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function Ont(r){const a={},h=r.props||!1;if("component"in r)a.default=h;else for(const p in r.components)a[p]=typeof h=="boolean"?h:h[p];return a}function aT(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function Dnt(r){return r.reduce((a,h)=>ir(a,h.meta),{})}function oT(r,a){const h={};for(const p in r)h[p]=p in a?a[p]:r[p];return h}function A_(r,a){return r.name===a.name&&r.optional===a.optional&&r.repeatable===a.repeatable}function Rnt(r,a){for(const h of r.keys)if(!h.optional&&!a.keys.find(A_.bind(null,h)))return Xn(`Alias "${a.record.path}" and the original record: "${r.record.path}" must have the exact same param named "${h.name}"`);for(const h of a.keys)if(!h.optional&&!r.keys.find(A_.bind(null,h)))return Xn(`Alias "${a.record.path}" and the original record: "${r.record.path}" must have the exact same param named "${h.name}"`)}function Bnt(r,a){a&&a.record.name&&!r.name&&!r.path&&Xn(`The route named "${String(a.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function Pnt(r,a){for(const h of a.keys)if(!r.keys.find(A_.bind(null,h)))return Xn(`Absolute path "${r.record.path}" must have the exact same param named "${h.name}" as its parent "${a.record.path}".`)}function yC(r,a){return a.children.some(h=>h===r||yC(r,h))}const _C=/#/g,Fnt=/&/g,Vnt=/\//g,Ynt=/=/g,$nt=/\?/g,vC=/\+/g,Unt=/%5B/g,znt=/%5D/g,bC=/%5E/g,Hnt=/%60/g,kC=/%7B/g,Wnt=/%7C/g,wC=/%7D/g,jnt=/%20/g;function pv(r){return encodeURI(""+r).replace(Wnt,"|").replace(Unt,"[").replace(znt,"]")}function qnt(r){return pv(r).replace(kC,"{").replace(wC,"}").replace(bC,"^")}function L_(r){return pv(r).replace(vC,"%2B").replace(jnt,"+").replace(_C,"%23").replace(Fnt,"%26").replace(Hnt,"`").replace(kC,"{").replace(wC,"}").replace(bC,"^")}function Gnt(r){return L_(r).replace(Ynt,"%3D")}function Xnt(r){return pv(r).replace(_C,"%23").replace($nt,"%3F")}function Knt(r){return r==null?"":Xnt(r).replace(Vnt,"%2F")}function cf(r){try{return decodeURIComponent(""+r)}catch{Xn(`Error decoding "${r}". Using original value`)}return""+r}function Znt(r){const a={};if(r===""||r==="?")return a;const p=(r[0]==="?"?r.slice(1):r).split("&");for(let y=0;y<p.length;++y){const b=p[y].replace(vC," "),E=b.indexOf("="),S=cf(E<0?b:b.slice(0,E)),L=E<0?null:cf(b.slice(E+1));if(S in a){let D=a[S];ms(D)||(D=a[S]=[D]),D.push(L)}else a[S]=L}return a}function lT(r){let a="";for(let h in r){const p=r[h];if(h=Gnt(h),p==null){p!==void 0&&(a+=(a.length?"&":"")+h);continue}(ms(p)?p.map(b=>b&&L_(b)):[p&&L_(p)]).forEach(b=>{b!==void 0&&(a+=(a.length?"&":"")+h,b!=null&&(a+="="+b))})}return a}function Qnt(r){const a={};for(const h in r){const p=r[h];p!==void 0&&(a[h]=ms(p)?p.map(y=>y==null?null:""+y):p==null?p:""+p)}return a}const Jnt=Symbol("router view location matched"),cT=Symbol("router view depth"),gv=Symbol("router"),xC=Symbol("route location"),I_=Symbol("router view location");function Rd(){let r=[];function a(p){return r.push(p),()=>{const y=r.indexOf(p);y>-1&&r.splice(y,1)}}function h(){r=[]}return{add:a,list:()=>r,reset:h}}function ll(r,a,h,p,y){const b=p&&(p.enterCallbacks[y]=p.enterCallbacks[y]||[]);return()=>new Promise((E,S)=>{const L=V=>{V===!1?S(oh(4,{from:h,to:a})):V instanceof Error?S(V):_nt(V)?S(oh(2,{from:a,to:V})):(b&&p.enterCallbacks[y]===b&&typeof V=="function"&&b.push(V),E())},D=r.call(p&&p.instances[y],a,h,trt(L,a,h));let C=Promise.resolve(D);if(r.length<3&&(C=C.then(L)),r.length>2){const V=`The "next" callback was never called inside of ${r.name?'"'+r.name+'"':""}:
${r.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof D=="object"&&"then"in D)C=C.then(j=>L._called?j:(Xn(V),Promise.reject(new Error("Invalid navigation guard"))));else if(D!==void 0&&!L._called){Xn(V),S(new Error("Invalid navigation guard"));return}}C.catch(V=>S(V))})}function trt(r,a,h){let p=0;return function(){p++===1&&Xn(`The "next" callback was called more than once in one navigation guard when going from "${h.fullPath}" to "${a.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),r._called=!0,p===1&&r.apply(null,arguments)}}function K2(r,a,h,p){const y=[];for(const b of r){!b.components&&!b.children.length&&Xn(`Record with path "${b.path}" is either missing a "component(s)" or "children" property.`);for(const E in b.components){let S=b.components[E];{if(!S||typeof S!="object"&&typeof S!="function")throw Xn(`Component "${E}" in record with path "${b.path}" is not a valid component. Received "${String(S)}".`),new Error("Invalid route component");if("then"in S){Xn(`Component "${E}" in record with path "${b.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const L=S;S=()=>L}else S.__asyncLoader&&!S.__warnedDefineAsync&&(S.__warnedDefineAsync=!0,Xn(`Component "${E}" in record with path "${b.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(a!=="beforeRouteEnter"&&!b.instances[E]))if(ert(S)){const D=(S.__vccOpts||S)[a];D&&y.push(ll(D,h,p,b,E))}else{let L=S();"catch"in L||(Xn(`Component "${E}" in record with path "${b.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),L=Promise.resolve(L)),y.push(()=>L.then(D=>{if(!D)return Promise.reject(new Error(`Couldn't resolve component "${E}" at "${b.path}"`));const C=ent(D)?D.default:D;b.components[E]=C;const j=(C.__vccOpts||C)[a];return j&&ll(j,h,p,b,E)()}))}}}return y}function ert(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function uT(r){const a=sn(gv),h=sn(xC),p=ee(()=>a.resolve(Mt(r.to))),y=ee(()=>{const{matched:L}=p.value,{length:D}=L,C=L[D-1],V=h.matched;if(!C||!V.length)return-1;const j=V.findIndex(_l.bind(null,C));if(j>-1)return j;const rt=hT(L[D-2]);return D>1&&hT(C)===rt&&V[V.length-1].path!==rt?V.findIndex(_l.bind(null,L[D-2])):j}),b=ee(()=>y.value>-1&&srt(h.params,p.value.params)),E=ee(()=>y.value>-1&&y.value===h.matched.length-1&&fC(h.params,p.value.params));function S(L={}){return irt(L)?a[Mt(r.replace)?"replace":"push"](Mt(r.to)).catch(Zd):Promise.resolve()}if(Co){const L=fa();if(L){const D={route:p.value,isActive:b.value,isExactActive:E.value};L.__vrl_devtools=L.__vrl_devtools||[],L.__vrl_devtools.push(D),Oo(()=>{D.route=p.value,D.isActive=b.value,D.isExactActive=E.value},{flush:"post"})}}return{route:p,href:ee(()=>p.value.href),isActive:b,isExactActive:E,navigate:S}}const nrt=hr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:uT,setup(r,{slots:a}){const h=yi(uT(r)),{options:p}=sn(gv),y=ee(()=>({[dT(r.activeClass,p.linkActiveClass,"router-link-active")]:h.isActive,[dT(r.exactActiveClass,p.linkExactActiveClass,"router-link-exact-active")]:h.isExactActive}));return()=>{const b=a.default&&a.default(h);return r.custom?b:ah("a",{"aria-current":h.isExactActive?r.ariaCurrentValue:null,href:h.href,onClick:h.navigate,class:y.value},b)}}}),rrt=nrt;function irt(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const a=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(a))return}return r.preventDefault&&r.preventDefault(),!0}}function srt(r,a){for(const h in a){const p=a[h],y=r[h];if(typeof p=="string"){if(p!==y)return!1}else if(!ms(y)||y.length!==p.length||p.some((b,E)=>b!==y[E]))return!1}return!0}function hT(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const dT=(r,a,h)=>r??a??h,art=hr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:a,slots:h}){lrt();const p=sn(I_),y=ee(()=>r.route||p.value),b=sn(cT,0),E=ee(()=>{let D=Mt(b);const{matched:C}=y.value;let V;for(;(V=C[D])&&!V.components;)D++;return D}),S=ee(()=>y.value.matched[E.value]);hs(cT,ee(()=>E.value+1)),hs(Jnt,S),hs(I_,y);const L=Xe();return Er(()=>[L.value,S.value,r.name],([D,C,V],[j,rt,it])=>{C&&(C.instances[V]=D,rt&&rt!==C&&D&&D===j&&(C.leaveGuards.size||(C.leaveGuards=rt.leaveGuards),C.updateGuards.size||(C.updateGuards=rt.updateGuards))),D&&C&&(!rt||!_l(C,rt)||!j)&&(C.enterCallbacks[V]||[]).forEach(Tt=>Tt(D))},{flush:"post"}),()=>{const D=y.value,C=r.name,V=S.value,j=V&&V.components[C];if(!j)return fT(h.default,{Component:j,route:D});const rt=V.props[C],it=rt?rt===!0?D.params:typeof rt=="function"?rt(D):rt:null,Ct=ah(j,ir({},it,a,{onVnodeUnmounted:$t=>{$t.component.isUnmounted&&(V.instances[C]=null)},ref:L}));if(Co&&Ct.ref){const $t={depth:E.value,name:V.name,path:V.path,meta:V.meta};(ms(Ct.ref)?Ct.ref.map(Kt=>Kt.i):[Ct.ref.i]).forEach(Kt=>{Kt.__vrv_devtools=$t})}return fT(h.default,{Component:Ct,route:D})||Ct}}});function fT(r,a){if(!r)return null;const h=r(a);return h.length===1?h[0]:h}const ort=art;function lrt(){const r=fa(),a=r.parent&&r.parent.type.name;if(a&&(a==="KeepAlive"||a.includes("Transition"))){const h=a==="KeepAlive"?"keep-alive":"transition";Xn(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${h}>
    <component :is="Component" />
  </${h}>
</router-view>`)}}function Bd(r,a){const h=ir({},r,{matched:r.matched.map(p=>yrt(p,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:r.fullPath,tooltip:a,value:h}}}function h0(r){return{_custom:{display:r}}}let crt=0;function urt(r,a,h){if(a.__hasDevtools)return;a.__hasDevtools=!0;const p=crt++;tnt({id:"org.vuejs.router"+(p?"."+p:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:r},y=>{typeof y.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),y.on.inspectComponent((C,V)=>{C.instanceData&&C.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:Bd(a.currentRoute.value,"Current Route")})}),y.on.visitComponentTree(({treeNode:C,componentInstance:V})=>{if(V.__vrv_devtools){const j=V.__vrv_devtools;C.tags.push({label:(j.name?`${j.name.toString()}: `:"")+j.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:TC})}ms(V.__vrl_devtools)&&(V.__devtoolsApi=y,V.__vrl_devtools.forEach(j=>{let rt=SC,it="";j.isExactActive?(rt=CC,it="This is exactly active"):j.isActive&&(rt=EC,it="This link is active"),C.tags.push({label:j.route.path,textColor:0,tooltip:it,backgroundColor:rt})}))}),Er(a.currentRoute,()=>{L(),y.notifyComponentUpdate(),y.sendInspectorTree(S),y.sendInspectorState(S)});const b="router:navigations:"+p;y.addTimelineLayer({id:b,label:`Router${p?" "+p:""} Navigations`,color:4237508}),a.onError((C,V)=>{y.addTimelineEvent({layerId:b,event:{title:"Error during Navigation",subtitle:V.fullPath,logType:"error",time:y.now(),data:{error:C},groupId:V.meta.__navigationId}})});let E=0;a.beforeEach((C,V)=>{const j={guard:h0("beforeEach"),from:Bd(V,"Current Location during this navigation"),to:Bd(C,"Target location")};Object.defineProperty(C.meta,"__navigationId",{value:E++}),y.addTimelineEvent({layerId:b,event:{time:y.now(),title:"Start of navigation",subtitle:C.fullPath,data:j,groupId:C.meta.__navigationId}})}),a.afterEach((C,V,j)=>{const rt={guard:h0("afterEach")};j?(rt.failure={_custom:{type:Error,readOnly:!0,display:j?j.message:"",tooltip:"Navigation Failure",value:j}},rt.status=h0("❌")):rt.status=h0("✅"),rt.from=Bd(V,"Current Location during this navigation"),rt.to=Bd(C,"Target location"),y.addTimelineEvent({layerId:b,event:{title:"End of navigation",subtitle:C.fullPath,time:y.now(),data:rt,logType:j?"warning":"default",groupId:C.meta.__navigationId}})});const S="router-inspector:"+p;y.addInspector({id:S,label:"Routes"+(p?" "+p:""),icon:"book",treeFilterPlaceholder:"Search routes"});function L(){if(!D)return;const C=D;let V=h.getRoutes().filter(j=>!j.parent);V.forEach(IC),C.filter&&(V=V.filter(j=>M_(j,C.filter.toLowerCase()))),V.forEach(j=>LC(j,a.currentRoute.value)),C.rootNodes=V.map(AC)}let D;y.on.getInspectorTree(C=>{D=C,C.app===r&&C.inspectorId===S&&L()}),y.on.getInspectorState(C=>{if(C.app===r&&C.inspectorId===S){const j=h.getRoutes().find(rt=>rt.record.__vd_id===C.nodeId);j&&(C.state={options:drt(j)})}}),y.sendInspectorTree(S),y.sendInspectorState(S)})}function hrt(r){return r.optional?r.repeatable?"*":"?":r.repeatable?"+":""}function drt(r){const{record:a}=r,h=[{editable:!1,key:"path",value:a.path}];return a.name!=null&&h.push({editable:!1,key:"name",value:a.name}),h.push({editable:!1,key:"regexp",value:r.re}),r.keys.length&&h.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:r.keys.map(p=>`${p.name}${hrt(p)}`).join(" "),tooltip:"Param keys",value:r.keys}}}),a.redirect!=null&&h.push({editable:!1,key:"redirect",value:a.redirect}),r.alias.length&&h.push({editable:!1,key:"aliases",value:r.alias.map(p=>p.record.path)}),Object.keys(r.record.meta).length&&h.push({editable:!1,key:"meta",value:r.record.meta}),h.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:r.score.map(p=>p.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:r.score}}}),h}const TC=15485081,EC=2450411,CC=8702998,frt=2282478,SC=16486972,prt=6710886;function AC(r){const a=[],{record:h}=r;h.name!=null&&a.push({label:String(h.name),textColor:0,backgroundColor:frt}),h.aliasOf&&a.push({label:"alias",textColor:0,backgroundColor:SC}),r.__vd_match&&a.push({label:"matches",textColor:0,backgroundColor:TC}),r.__vd_exactActive&&a.push({label:"exact",textColor:0,backgroundColor:CC}),r.__vd_active&&a.push({label:"active",textColor:0,backgroundColor:EC}),h.redirect&&a.push({label:typeof h.redirect=="string"?`redirect: ${h.redirect}`:"redirects",textColor:16777215,backgroundColor:prt});let p=h.__vd_id;return p==null&&(p=String(grt++),h.__vd_id=p),{id:p,label:h.path,tags:a,children:r.children.map(AC)}}let grt=0;const mrt=/^\/(.*)\/([a-z]*)$/;function LC(r,a){const h=a.matched.length&&_l(a.matched[a.matched.length-1],r.record);r.__vd_exactActive=r.__vd_active=h,h||(r.__vd_active=a.matched.some(p=>_l(p,r.record))),r.children.forEach(p=>LC(p,a))}function IC(r){r.__vd_match=!1,r.children.forEach(IC)}function M_(r,a){const h=String(r.re).match(mrt);if(r.__vd_match=!1,!h||h.length<3)return!1;if(new RegExp(h[1].replace(/\$$/,""),h[2]).test(a))return r.children.forEach(E=>M_(E,a)),r.record.path!=="/"||a==="/"?(r.__vd_match=r.re.test(a),!0):!1;const y=r.record.path.toLowerCase(),b=cf(y);return!a.startsWith("/")&&(b.includes(a)||y.includes(a))||b.startsWith(a)||y.startsWith(a)||r.record.name&&String(r.record.name).includes(a)?!0:r.children.some(E=>M_(E,a))}function yrt(r,a){const h={};for(const p in r)a.includes(p)||(h[p]=r[p]);return h}function _rt(r){const a=Mnt(r.routes,r),h=r.parseQuery||Znt,p=r.stringifyQuery||lT,y=r.history;if(!y)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const b=Rd(),E=Rd(),S=Rd(),L=Ba(al);let D=al;Co&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const C=G2.bind(null,Ut=>""+Ut),V=G2.bind(null,Knt),j=G2.bind(null,cf);function rt(Ut,Pe){let Ie,De;return gC(Ut)?(Ie=a.getRecordMatcher(Ut),De=Pe):De=Ut,a.addRoute(De,Ie)}function it(Ut){const Pe=a.getRecordMatcher(Ut);Pe?a.removeRoute(Pe):Xn(`Cannot remove non-existent route "${String(Ut)}"`)}function Tt(){return a.getRoutes().map(Ut=>Ut.record)}function Ct(Ut){return!!a.getRecordMatcher(Ut)}function $t(Ut,Pe){if(Pe=ir({},Pe||L.value),typeof Ut=="string"){const an=X2(h,Ut,Pe.path),ar=a.resolve({path:an.path},Pe),et=y.createHref(an.fullPath);return et.startsWith("//")?Xn(`Location "${Ut}" resolved to "${et}". A resolved location cannot start with multiple slashes.`):ar.matched.length||Xn(`No match found for location with path "${Ut}"`),ir(an,ar,{params:j(ar.params),hash:cf(an.hash),redirectedFrom:void 0,href:et})}let Ie;if("path"in Ut)"params"in Ut&&!("name"in Ut)&&Object.keys(Ut.params).length&&Xn(`Path "${Ut.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),Ie=ir({},Ut,{path:X2(h,Ut.path,Pe.path).path});else{const an=ir({},Ut.params);for(const ar in an)an[ar]==null&&delete an[ar];Ie=ir({},Ut,{params:V(Ut.params)}),Pe.params=V(Pe.params)}const De=a.resolve(Ie,Pe),Sn=Ut.hash||"";Sn&&!Sn.startsWith("#")&&Xn(`A \`hash\` should always start with the character "#". Replace "${Sn}" with "#${Sn}".`),De.params=C(j(De.params));const jn=int(p,ir({},Ut,{hash:qnt(Sn),path:De.path})),ln=y.createHref(jn);return ln.startsWith("//")?Xn(`Location "${Ut}" resolved to "${ln}". A resolved location cannot start with multiple slashes.`):De.matched.length||Xn(`No match found for location with path "${"path"in Ut?Ut.path:Ut}"`),ir({fullPath:jn,hash:Sn,query:p===lT?Qnt(Ut.query):Ut.query||{}},De,{redirectedFrom:void 0,href:ln})}function Rt(Ut){return typeof Ut=="string"?X2(h,Ut,L.value.path):ir({},Ut)}function Kt(Ut,Pe){if(D!==Ut)return oh(8,{from:Pe,to:Ut})}function de(Ut){return te(Ut)}function ke(Ut){return de(ir(Rt(Ut),{replace:!0}))}function ve(Ut){const Pe=Ut.matched[Ut.matched.length-1];if(Pe&&Pe.redirect){const{redirect:Ie}=Pe;let De=typeof Ie=="function"?Ie(Ut):Ie;if(typeof De=="string"&&(De=De.includes("?")||De.includes("#")?De=Rt(De):{path:De},De.params={}),!("path"in De)&&!("name"in De))throw Xn(`Invalid redirect found:
${JSON.stringify(De,null,2)}
 when navigating to "${Ut.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return ir({query:Ut.query,hash:Ut.hash,params:"path"in De?{}:Ut.params},De)}}function te(Ut,Pe){const Ie=D=$t(Ut),De=L.value,Sn=Ut.state,jn=Ut.force,ln=Ut.replace===!0,an=ve(Ie);if(an)return te(ir(Rt(an),{state:typeof an=="object"?ir({},Sn,an.state):Sn,force:jn,replace:ln}),Pe||Ie);const ar=Ie;ar.redirectedFrom=Pe;let et;return!jn&&Q8(p,De,Ie)&&(et=oh(16,{to:ar,from:De}),qn(De,De,!0,!1)),(et?Promise.resolve(et):je(ar,De)).catch(ft=>bo(ft)?bo(ft,2)?ft:Fn(ft):Ne(ft,ar,De)).then(ft=>{if(ft){if(bo(ft,2))return Q8(p,$t(ft.to),ar)&&Pe&&(Pe._count=Pe._count?Pe._count+1:1)>10?(Xn(`Detected an infinite redirection in a navigation guard when going from "${De.fullPath}" to "${ar.fullPath}". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):te(ir({replace:ln},Rt(ft.to),{state:typeof ft.to=="object"?ir({},Sn,ft.to.state):Sn,force:jn}),Pe||ar)}else ft=xn(ar,De,!0,ln,Sn);return en(ar,De,ft),ft})}function Le(Ut,Pe){const Ie=Kt(Ut,Pe);return Ie?Promise.reject(Ie):Promise.resolve()}function je(Ut,Pe){let Ie;const[De,Sn,jn]=vrt(Ut,Pe);Ie=K2(De.reverse(),"beforeRouteLeave",Ut,Pe);for(const an of De)an.leaveGuards.forEach(ar=>{Ie.push(ll(ar,Ut,Pe))});const ln=Le.bind(null,Ut,Pe);return Ie.push(ln),Wu(Ie).then(()=>{Ie=[];for(const an of b.list())Ie.push(ll(an,Ut,Pe));return Ie.push(ln),Wu(Ie)}).then(()=>{Ie=K2(Sn,"beforeRouteUpdate",Ut,Pe);for(const an of Sn)an.updateGuards.forEach(ar=>{Ie.push(ll(ar,Ut,Pe))});return Ie.push(ln),Wu(Ie)}).then(()=>{Ie=[];for(const an of Ut.matched)if(an.beforeEnter&&!Pe.matched.includes(an))if(ms(an.beforeEnter))for(const ar of an.beforeEnter)Ie.push(ll(ar,Ut,Pe));else Ie.push(ll(an.beforeEnter,Ut,Pe));return Ie.push(ln),Wu(Ie)}).then(()=>(Ut.matched.forEach(an=>an.enterCallbacks={}),Ie=K2(jn,"beforeRouteEnter",Ut,Pe),Ie.push(ln),Wu(Ie))).then(()=>{Ie=[];for(const an of E.list())Ie.push(ll(an,Ut,Pe));return Ie.push(ln),Wu(Ie)}).catch(an=>bo(an,8)?an:Promise.reject(an))}function en(Ut,Pe,Ie){for(const De of S.list())De(Ut,Pe,Ie)}function xn(Ut,Pe,Ie,De,Sn){const jn=Kt(Ut,Pe);if(jn)return jn;const ln=Pe===al,an=Co?history.state:{};Ie&&(De||ln?y.replace(Ut.fullPath,ir({scroll:ln&&an&&an.scroll},Sn)):y.push(Ut.fullPath,Sn)),L.value=Ut,qn(Ut,Pe,Ie,ln),Fn()}let Oe;function Un(){Oe||(Oe=y.listen((Ut,Pe,Ie)=>{if(!ki.listening)return;const De=$t(Ut),Sn=ve(De);if(Sn){te(ir(Sn,{replace:!0}),De).catch(Zd);return}D=De;const jn=L.value;Co&&dnt(tT(jn.fullPath,Ie.delta),ng()),je(De,jn).catch(ln=>bo(ln,12)?ln:bo(ln,2)?(te(ln.to,De).then(an=>{bo(an,20)&&!Ie.delta&&Ie.type===lf.pop&&y.go(-1,!1)}).catch(Zd),Promise.reject()):(Ie.delta&&y.go(-Ie.delta,!1),Ne(ln,De,jn))).then(ln=>{ln=ln||xn(De,jn,!1),ln&&(Ie.delta&&!bo(ln,8)?y.go(-Ie.delta,!1):Ie.type===lf.pop&&bo(ln,20)&&y.go(-1,!1)),en(De,jn,ln)}).catch(Zd)}))}let pr=Rd(),Kn=Rd(),er;function Ne(Ut,Pe,Ie){Fn(Ut);const De=Kn.list();return De.length?De.forEach(Sn=>Sn(Ut,Pe,Ie)):(Xn("uncaught error during route navigation:"),console.error(Ut)),Promise.reject(Ut)}function Ke(){return er&&L.value!==al?Promise.resolve():new Promise((Ut,Pe)=>{pr.add([Ut,Pe])})}function Fn(Ut){return er||(er=!Ut,Un(),pr.list().forEach(([Pe,Ie])=>Ut?Ie(Ut):Pe()),pr.reset()),Ut}function qn(Ut,Pe,Ie,De){const{scrollBehavior:Sn}=r;if(!Co||!Sn)return Promise.resolve();const jn=!Ie&&fnt(tT(Ut.fullPath,0))||(De||!Ie)&&history.state&&history.state.scroll||null;return ha().then(()=>Sn(Ut,Pe,jn)).then(ln=>ln&&hnt(ln)).catch(ln=>Ne(ln,Ut,Pe))}const bi=Ut=>y.go(Ut);let ii;const ys=new Set,ki={currentRoute:L,listening:!0,addRoute:rt,removeRoute:it,hasRoute:Ct,getRoutes:Tt,resolve:$t,options:r,push:de,replace:ke,go:bi,back:()=>bi(-1),forward:()=>bi(1),beforeEach:b.add,beforeResolve:E.add,afterEach:S.add,onError:Kn.add,isReady:Ke,install(Ut){const Pe=this;Ut.component("RouterLink",rrt),Ut.component("RouterView",ort),Ut.config.globalProperties.$router=Pe,Object.defineProperty(Ut.config.globalProperties,"$route",{enumerable:!0,get:()=>Mt(L)}),Co&&!ii&&L.value===al&&(ii=!0,de(y.location).catch(Sn=>{Xn("Unexpected error when starting the router:",Sn)}));const Ie={};for(const Sn in al)Ie[Sn]=ee(()=>L.value[Sn]);Ut.provide(gv,Pe),Ut.provide(xC,yi(Ie)),Ut.provide(I_,L);const De=Ut.unmount;ys.add(Ut),Ut.unmount=function(){ys.delete(Ut),ys.size<1&&(D=al,Oe&&Oe(),Oe=null,L.value=al,ii=!1,er=!1),De()},Co&&urt(Ut,Pe,a)}};return ki}function Wu(r){return r.reduce((a,h)=>a.then(()=>h()),Promise.resolve())}function vrt(r,a){const h=[],p=[],y=[],b=Math.max(a.matched.length,r.matched.length);for(let E=0;E<b;E++){const S=a.matched[E];S&&(r.matched.find(D=>_l(D,S))?p.push(S):h.push(S));const L=r.matched[E];L&&(a.matched.find(D=>_l(D,L))||y.push(L))}return[h,p,y]}const Z2=Xe(!1),Jd=Xe(!1),Ju=Xe(!1),brt=Xe(!0),N_=aet({xs:460,...eet}),Ic=jet(),MC=Det(),krt=ee(()=>Ic.height.value-Ic.width.value/fl>180),NC=Net(da?document.body:null),nh=tet(),wrt=ee(()=>{var r,a;return["INPUT","TEXTAREA"].includes(((r=nh.value)==null?void 0:r.tagName)||"")||((a=nh.value)==null?void 0:a.classList.contains("CodeMirror-code"))}),xrt=ee(()=>{var r;return["BUTTON","A"].includes(((r=nh.value)==null?void 0:r.tagName)||"")});pa("slidev-camera","default");pa("slidev-mic","default");const v0=pa("slidev-scale",0),$i=pa("slidev-show-overview",!1),Q2=pa("slidev-presenter-cursor",!0),pT=pa("slidev-show-editor",!1);pa("slidev-editor-width",da?window.innerWidth*.4:100);const OC=lC($i);function gT(r,a,h,p=y=>y){return r*p(.5-a*(.5-h))}function Trt(r){return[-r[0],-r[1]]}function la(r,a){return[r[0]+a[0],r[1]+a[1]]}function Ls(r,a){return[r[0]-a[0],r[1]-a[1]]}function oa(r,a){return[r[0]*a,r[1]*a]}function Ert(r,a){return[r[0]/a,r[1]/a]}function Pd(r){return[r[1],-r[0]]}function mT(r,a){return r[0]*a[0]+r[1]*a[1]}function Crt(r,a){return r[0]===a[0]&&r[1]===a[1]}function Srt(r){return Math.hypot(r[0],r[1])}function Art(r){return r[0]*r[0]+r[1]*r[1]}function yT(r,a){return Art(Ls(r,a))}function DC(r){return Ert(r,Srt(r))}function Lrt(r,a){return Math.hypot(r[1]-a[1],r[0]-a[0])}function Fd(r,a,h){let p=Math.sin(h),y=Math.cos(h),b=r[0]-a[0],E=r[1]-a[1],S=b*y-E*p,L=b*p+E*y;return[S+a[0],L+a[1]]}function O_(r,a,h){return la(r,oa(Ls(a,r),h))}function _T(r,a,h){return la(r,oa(a,h))}var{min:ju,PI:Irt}=Math,vT=.275,Vd=Irt+1e-4;function Mrt(r,a={}){let{size:h=16,smoothing:p=.5,thinning:y=.5,simulatePressure:b=!0,easing:E=Ne=>Ne,start:S={},end:L={},last:D=!1}=a,{cap:C=!0,easing:V=Ne=>Ne*(2-Ne)}=S,{cap:j=!0,easing:rt=Ne=>--Ne*Ne*Ne+1}=L;if(r.length===0||h<=0)return[];let it=r[r.length-1].runningLength,Tt=S.taper===!1?0:S.taper===!0?Math.max(h,it):S.taper,Ct=L.taper===!1?0:L.taper===!0?Math.max(h,it):L.taper,$t=Math.pow(h*p,2),Rt=[],Kt=[],de=r.slice(0,10).reduce((Ne,Ke)=>{let Fn=Ke.pressure;if(b){let qn=ju(1,Ke.distance/h),bi=ju(1,1-qn);Fn=ju(1,Ne+(bi-Ne)*(qn*vT))}return(Ne+Fn)/2},r[0].pressure),ke=gT(h,y,r[r.length-1].pressure,E),ve,te=r[0].vector,Le=r[0].point,je=Le,en=Le,xn=je,Oe=!1;for(let Ne=0;Ne<r.length;Ne++){let{pressure:Ke}=r[Ne],{point:Fn,vector:qn,distance:bi,runningLength:ii}=r[Ne];if(Ne<r.length-1&&it-ii<3)continue;if(y){if(b){let jn=ju(1,bi/h),ln=ju(1,1-jn);Ke=ju(1,de+(ln-de)*(jn*vT))}ke=gT(h,y,Ke,E)}else ke=h/2;ve===void 0&&(ve=ke);let ys=ii<Tt?V(ii/Tt):1,ki=it-ii<Ct?rt((it-ii)/Ct):1;ke=Math.max(.01,ke*Math.min(ys,ki));let Ut=(Ne<r.length-1?r[Ne+1]:r[Ne]).vector,Pe=Ne<r.length-1?mT(qn,Ut):1,Ie=mT(qn,te)<0&&!Oe,De=Pe!==null&&Pe<0;if(Ie||De){let jn=oa(Pd(te),ke);for(let ln=1/13,an=0;an<=1;an+=ln)en=Fd(Ls(Fn,jn),Fn,Vd*an),Rt.push(en),xn=Fd(la(Fn,jn),Fn,Vd*-an),Kt.push(xn);Le=en,je=xn,De&&(Oe=!0);continue}if(Oe=!1,Ne===r.length-1){let jn=oa(Pd(qn),ke);Rt.push(Ls(Fn,jn)),Kt.push(la(Fn,jn));continue}let Sn=oa(Pd(O_(Ut,qn,Pe)),ke);en=Ls(Fn,Sn),(Ne<=1||yT(Le,en)>$t)&&(Rt.push(en),Le=en),xn=la(Fn,Sn),(Ne<=1||yT(je,xn)>$t)&&(Kt.push(xn),je=xn),de=Ke,te=qn}let Un=r[0].point.slice(0,2),pr=r.length>1?r[r.length-1].point.slice(0,2):la(r[0].point,[1,1]),Kn=[],er=[];if(r.length===1){if(!(Tt||Ct)||D){let Ne=_T(Un,DC(Pd(Ls(Un,pr))),-(ve||ke)),Ke=[];for(let Fn=1/13,qn=Fn;qn<=1;qn+=Fn)Ke.push(Fd(Ne,Un,Vd*2*qn));return Ke}}else{if(!(Tt||Ct&&r.length===1))if(C)for(let Ke=1/13,Fn=Ke;Fn<=1;Fn+=Ke){let qn=Fd(Kt[0],Un,Vd*Fn);Kn.push(qn)}else{let Ke=Ls(Rt[0],Kt[0]),Fn=oa(Ke,.5),qn=oa(Ke,.51);Kn.push(Ls(Un,Fn),Ls(Un,qn),la(Un,qn),la(Un,Fn))}let Ne=Pd(Trt(r[r.length-1].vector));if(Ct||Tt&&r.length===1)er.push(pr);else if(j){let Ke=_T(pr,Ne,ke);for(let Fn=1/29,qn=Fn;qn<1;qn+=Fn)er.push(Fd(Ke,pr,Vd*3*qn))}else er.push(la(pr,oa(Ne,ke)),la(pr,oa(Ne,ke*.99)),Ls(pr,oa(Ne,ke*.99)),Ls(pr,oa(Ne,ke)))}return Rt.concat(er,Kt.reverse(),Kn)}function Nrt(r,a={}){var h;let{streamline:p=.5,size:y=16,last:b=!1}=a;if(r.length===0)return[];let E=.15+(1-p)*.85,S=Array.isArray(r[0])?r:r.map(({x:rt,y:it,pressure:Tt=.5})=>[rt,it,Tt]);if(S.length===2){let rt=S[1];S=S.slice(0,-1);for(let it=1;it<5;it++)S.push(O_(S[0],rt,it/4))}S.length===1&&(S=[...S,[...la(S[0],[1,1]),...S[0].slice(2)]]);let L=[{point:[S[0][0],S[0][1]],pressure:S[0][2]>=0?S[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],D=!1,C=0,V=L[0],j=S.length-1;for(let rt=1;rt<S.length;rt++){let it=b&&rt===j?S[rt].slice(0,2):O_(V.point,S[rt],E);if(Crt(V.point,it))continue;let Tt=Lrt(it,V.point);if(C+=Tt,rt<j&&!D){if(C<y)continue;D=!0}V={point:it,pressure:S[rt][2]>=0?S[rt][2]:.5,vector:DC(Ls(V.point,it)),distance:Tt,runningLength:C},L.push(V)}return L[0].vector=((h=L[1])==null?void 0:h.vector)||[0,0],L}function Ort(r,a={}){return Mrt(Nrt(r,a),a)}var Drt=()=>({events:{},emit(r,...a){let h=this.events[r]||[];for(let p=0,y=h.length;p<y;p++)h[p](...a)},on(r,a){var h;return(h=this.events[r])!=null&&h.push(a)||(this.events[r]=[a]),()=>{var p;this.events[r]=(p=this.events[r])==null?void 0:p.filter(y=>a!==y)}}});function B0(r,a){return r-a}function Rrt(r){return r<0?-1:1}function P0(r){return[Math.abs(r),Rrt(r)]}function RC(){const r=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${r()+r()}-${r()}-${r()}-${r()}-${r()}${r()}${r()}`}var Brt=2,So=Brt,uh=class{constructor(r){this.drauu=r,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(r){}onUnselected(){}onStart(r){}onMove(r){return!1}onEnd(r){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(r){var a;const h=this.drauu.el,p=this.drauu.options.coordinateScale??1;if(this.drauu.options.coordinateTransform===!1){const y=this.drauu.el.getBoundingClientRect();return{x:(r.pageX-y.left)*p,y:(r.pageY-y.top)*p,pressure:r.pressure}}else{const y=this.drauu.svgPoint;y.x=r.clientX,y.y=r.clientY;const b=y.matrixTransform((a=h.getScreenCTM())==null?void 0:a.inverse());return{x:b.x*p,y:b.y*p,pressure:r.pressure}}}createElement(r,a){const h=document.createElementNS("http://www.w3.org/2000/svg",r),p=a?{...this.brush,...a}:this.brush;return h.setAttribute("fill",p.fill??"transparent"),h.setAttribute("stroke",p.color),h.setAttribute("stroke-width",p.size.toString()),h.setAttribute("stroke-linecap","round"),p.dasharray&&h.setAttribute("stroke-dasharray",p.dasharray),h}attr(r,a){this.el.setAttribute(r,typeof a=="string"?a:a.toFixed(So))}_setEvent(r){this.event=r,this.point=this.getMousePosition(r)}_eventDown(r){return this._setEvent(r),this.start=this.point,this.onStart(this.point)}_eventMove(r){return this._setEvent(r),this.onMove(this.point)}_eventUp(r){return this._setEvent(r),this.onEnd(this.point)}},Prt=class extends uh{constructor(){super(...arguments),this.points=[]}onStart(r){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[r],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(r){return this.el||this.onStart(r),this.points[this.points.length-1]!==r&&this.points.push(r),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const r=this.el;return this.el=null,!!r}getSvgData(r){const a=Ort(r,{size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5},...this.brush.stylusOptions});if(!a.length)return"";const h=a.reduce((p,[y,b],E,S)=>{const[L,D]=S[(E+1)%S.length];return p.push(y,b,(y+L)/2,(b+D)/2),p},["M",...a[0],"Q"]);return h.push("Z"),h.map(p=>typeof p=="number"?p.toFixed(2):p).join(" ")}},Frt=class extends uh{onStart(r){return this.el=this.createElement("ellipse"),this.attr("cx",r.x),this.attr("cy",r.y),this.el}onMove(r){if(!this.el||!this.start)return!1;let[a,h]=P0(r.x-this.start.x),[p,y]=P0(r.y-this.start.y);if(this.shiftPressed){const b=Math.min(a,p);a=b,p=b}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",a),this.attr("ry",p);else{const[b,E]=[this.start.x,this.start.x+a*h].sort(B0),[S,L]=[this.start.y,this.start.y+p*y].sort(B0);this.attr("cx",(b+E)/2),this.attr("cy",(S+L)/2),this.attr("rx",(E-b)/2),this.attr("ry",(L-S)/2)}return!0}onEnd(){const r=this.el;return this.el=null,!(!r||!r.getTotalLength())}};function BC(r,a){const h=document.createElementNS("http://www.w3.org/2000/svg","defs"),p=document.createElementNS("http://www.w3.org/2000/svg","marker"),y=document.createElementNS("http://www.w3.org/2000/svg","path");return y.setAttribute("fill",a),p.setAttribute("id",r),p.setAttribute("viewBox","0 -5 10 10"),p.setAttribute("refX","5"),p.setAttribute("refY","0"),p.setAttribute("markerWidth","4"),p.setAttribute("markerHeight","4"),p.setAttribute("orient","auto"),y.setAttribute("d","M0,-5L10,0L0,5"),p.appendChild(y),h.appendChild(p),h}var Vrt=class extends uh{onStart(r){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",r.x),this.attr("y1",r.y),this.attr("x2",r.x),this.attr("y2",r.y),this.brush.arrowEnd){const a=RC(),h=document.createElementNS("http://www.w3.org/2000/svg","g");return h.append(BC(a,this.brush.color)),h.append(this.el),this.attr("marker-end",`url(#${a})`),h}return this.el}onMove(r){if(!this.el)return!1;let{x:a,y:h}=r;if(this.shiftPressed){const p=r.x-this.start.x,y=r.y-this.start.y;if(y!==0){let b=p/y;b=Math.round(b),Math.abs(b)<=1?(a=this.start.x+y*b,h=this.start.y+y):(a=this.start.x+p,h=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-a),this.attr("y1",this.start.y*2-h),this.attr("x2",a),this.attr("y2",h)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",a),this.attr("y2",h)),!0}onEnd(){const r=this.el;return this.el=null,!(!r||r.getTotalLength()<5)}},Yrt=class extends uh{onStart(r){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",r.x),this.attr("y",r.y),this.el}onMove(r){if(!this.el||!this.start)return!1;let[a,h]=P0(r.x-this.start.x),[p,y]=P0(r.y-this.start.y);if(this.shiftPressed){const b=Math.min(a,p);a=b,p=b}if(this.altPressed)this.attr("x",this.start.x-a),this.attr("y",this.start.y-p),this.attr("width",a*2),this.attr("height",p*2);else{const[b,E]=[this.start.x,this.start.x+a*h].sort(B0),[S,L]=[this.start.y,this.start.y+p*y].sort(B0);this.attr("x",b),this.attr("y",S),this.attr("width",E-b),this.attr("height",L-S)}return!0}onEnd(){const r=this.el;return this.el=null,!(!r||!r.getTotalLength())}};function $rt(r,a){const h=r.x-a.x,p=r.y-a.y;return h*h+p*p}function Urt(r,a,h){let p=a.x,y=a.y,b=h.x-p,E=h.y-y;if(b!==0||E!==0){const S=((r.x-p)*b+(r.y-y)*E)/(b*b+E*E);S>1?(p=h.x,y=h.y):S>0&&(p+=b*S,y+=E*S)}return b=r.x-p,E=r.y-y,b*b+E*E}function zrt(r,a){let h=r[0];const p=[h];let y;for(let b=1,E=r.length;b<E;b++)y=r[b],$rt(y,h)>a&&(p.push(y),h=y);return h!==y&&y&&p.push(y),p}function D_(r,a,h,p,y){let b=p,E=0;for(let S=a+1;S<h;S++){const L=Urt(r[S],r[a],r[h]);L>b&&(E=S,b=L)}b>p&&(E-a>1&&D_(r,a,E,p,y),y.push(r[E]),h-E>1&&D_(r,E,h,p,y))}function Hrt(r,a){const h=r.length-1,p=[r[0]];return D_(r,0,h,a,p),p.push(r[h]),p}function bT(r,a,h=!1){if(r.length<=2)return r;const p=a!==void 0?a*a:1;return r=h?r:zrt(r,p),r=Hrt(r,p),r}var Wrt=class extends uh{constructor(){super(...arguments),this.points=[],this.count=0}onStart(r){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[r],this.brush.arrowEnd){this.arrowId=RC();const a=BC(this.arrowId,this.brush.color);this.el.appendChild(a)}return this.el}onMove(r){return this.el||this.onStart(r),this.points[this.points.length-1]!==r&&(this.points.push(r),this.count+=1),this.count>5&&(this.points=bT(this.points,1,!0),this.count=0),this.attr("d",wT(this.points)),!0}onEnd(){const r=this.el;return this.el=null,!(!r||(r.setAttribute("d",wT(bT(this.points,1,!0))),!r.getTotalLength()))}};function jrt(r,a){const h=a.x-r.x,p=a.y-r.y;return{length:Math.sqrt(h**2+p**2),angle:Math.atan2(p,h)}}function kT(r,a,h,p){const y=a||r,b=h||r,E=.2,S=jrt(y,b),L=S.angle+(p?Math.PI:0),D=S.length*E,C=r.x+Math.cos(L)*D,V=r.y+Math.sin(L)*D;return{x:C,y:V}}function qrt(r,a,h){const p=kT(h[a-1],h[a-2],r),y=kT(r,h[a-1],h[a+1],!0);return`C ${p.x.toFixed(So)},${p.y.toFixed(So)} ${y.x.toFixed(So)},${y.y.toFixed(So)} ${r.x.toFixed(So)},${r.y.toFixed(So)}`}function wT(r){return r.reduce((a,h,p,y)=>p===0?`M ${h.x.toFixed(So)},${h.y.toFixed(So)}`:`${a} ${qrt(h,p,y)}`,"")}var Grt=class extends uh{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(r){const a=(h,p)=>{if(h&&h.length)for(let y=0;y<h.length;y++){const b=h[y];if(b.getTotalLength){const E=b.getTotalLength();for(let S=0;S<this.pathSubFactor;S++){const L=b.getPointAtLength(E*S/this.pathSubFactor),D=b.getPointAtLength(E*(S+1)/this.pathSubFactor);this.pathFragments.push({x1:L.x,x2:D.x,y1:L.y,y2:D.y,segment:S,element:p||b})}}else b.children&&a(b.children,b)}};r&&a(r.children)}onUnselected(){this.pathFragments=[]}onStart(r){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=r.x,this.svgPointPrevious.y=r.y}onMove(r){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=r.x,this.svgPointCurrent.y=r.y;const a=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,a}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const r=[];if(this.pathFragments.length)for(let a=0;a<this.pathFragments.length;a++){const h=this.pathFragments[a],p={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(h,p)&&(h.element.remove(),r.push(a))}return r.length&&(this.pathFragments=this.pathFragments.filter((a,h)=>!r.includes(h))),r.length>0}lineLineIntersect(r,a){const h=r.x1,p=r.x2,y=a.x1,b=a.x2,E=r.y1,S=r.y2,L=a.y1,D=a.y2,C=(h-p)*(L-D)-(E-S)*(y-b),V=(h*S-E*p)*(y-b)-(h-p)*(y*D-L*b),j=(h*S-E*p)*(L-D)-(E-S)*(y*D-L*b),rt=(it,Tt,Ct)=>it>=Tt&&it<=Ct?!0:it>=Ct&&it<=Tt;if(C===0)return!1;{const it={x:V/C,y:j/C};return rt(it.x,h,p)&&rt(it.y,E,S)&&rt(it.x,y,b)&&rt(it.y,L,D)}}};function Xrt(r){return{draw:new Wrt(r),stylus:new Prt(r),line:new Vrt(r),rectangle:new Yrt(r),ellipse:new Frt(r),eraseLine:new Grt(r)}}var Krt=class{constructor(r={}){this.options=r,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=Drt(),this._models=Xrt(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),r.el&&this.mount(r.el,r.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(r){this._models[this.mode].onUnselected(),this.options.brush.mode=r,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(r){this.options.brush=r}resolveSelector(r){return typeof r=="string"?document.querySelector(r):r||null}mount(r,a){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(r),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const h=this.resolveSelector(a)||this.el,p=this.eventStart.bind(this),y=this.eventMove.bind(this),b=this.eventEnd.bind(this),E=this.eventKeyboard.bind(this);h.addEventListener("pointerdown",p,{passive:!1}),window.addEventListener("pointermove",y,{passive:!1}),window.addEventListener("pointerup",b,{passive:!1}),window.addEventListener("pointercancel",b,{passive:!1}),window.addEventListener("keydown",E,!1),window.addEventListener("keyup",E,!1),this._disposables.push(()=>{h.removeEventListener("pointerdown",p),window.removeEventListener("pointermove",y),window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),window.removeEventListener("keydown",E,!1),window.removeEventListener("keyup",E,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(r=>r()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(r,a){return this._emitter.on(r,a)}undo(){const r=this.el;return r.lastElementChild?(this._undoStack.push(r.lastElementChild.cloneNode(!0)),r.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var r;return!!((r=this.el)!=null&&r.lastElementChild)}eventMove(r){!this.acceptsInput(r)||!this.drawing||this.model._eventMove(r)&&(r.stopPropagation(),r.preventDefault(),this._emitter.emit("changed"))}eventStart(r){this.acceptsInput(r)&&(r.stopPropagation(),r.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(r),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(r){if(!this.acceptsInput(r)||!this.drawing)return;const a=this.model._eventUp(r);a?(a instanceof Element&&a!==this._currentNode&&(this._currentNode=a),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(r){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(r.pointerType)}eventKeyboard(r){this.shiftPressed===r.shiftKey&&this.altPressed===r.altKey||(this.shiftPressed=r.shiftKey,this.altPressed=r.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const r=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",r)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(r){this.clear(),this.el.innerHTML=r}};function Zrt(r){return new Krt(r)}const R_=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],Da=pa("slidev-drawing-enabled",!1),Nft=pa("slidev-drawing-pinned",!1),Qrt=Xe(!1),Jrt=Xe(!1),tit=Xe(!1),uf=Xe(!1),kc=Att(pa("slidev-drawing-brush",{color:R_[0],size:4,mode:"stylus"})),xT=Xe("stylus"),PC=ee(()=>cr.drawings.syncAll||ua.value);let hf=!1;const Yd=ee({get(){return xT.value},set(r){xT.value=r,r==="arrow"?(kc.mode="line",kc.arrowEnd=!0):(kc.mode=r,kc.arrowEnd=!1)}}),eit=yi({brush:kc,acceptsInputTypes:ee(()=>Da.value&&(!cr.drawings.presenterOnly||ua.value)?void 0:["pen"]),coordinateTransform:!1}),Wi=q_(Zrt(eit));function nit(){Wi.clear(),PC.value&&iC(ri.value,"")}function mv(){var r;Jrt.value=Wi.canRedo(),Qrt.value=Wi.canUndo(),tit.value=!!((r=Wi.el)!=null&&r.children.length)}function rit(r){hf=!0;const a=D0[r||ri.value];a!=null?Wi.load(a):Wi.clear(),mv(),hf=!1}Wi.on("changed",()=>{if(mv(),!hf){const r=Wi.dump(),a=ri.value;(D0[a]||"")!==r&&PC.value&&iC(a,Wi.dump())}});_tt(r=>{hf=!0,r[ri.value]!=null&&Wi.load(r[ri.value]||""),hf=!1,mv()});ha(()=>{Er(ri,()=>{Wi.mounted&&rit()},{immediate:!0})});Wi.on("start",()=>uf.value=!0);Wi.on("end",()=>uf.value=!1);window.addEventListener("keydown",r=>{if(!Da.value)return;const a=!r.ctrlKey&&!r.altKey&&!r.shiftKey&&!r.metaKey;let h=!0;r.code==="KeyZ"&&(r.ctrlKey||r.metaKey)?r.shiftKey?Wi.redo():Wi.undo():r.code==="Escape"?Da.value=!1:r.code==="KeyL"&&a?Yd.value="line":r.code==="KeyA"&&a?Yd.value="arrow":r.code==="KeyS"&&a?Yd.value="stylus":r.code==="KeyR"&&a?Yd.value="rectangle":r.code==="KeyE"&&a?Yd.value="ellipse":r.code==="KeyC"&&a?nit():r.code.startsWith("Digit")&&a&&+r.code[5]<=R_.length?kc.color=R_[+r.code[5]-1]:h=!1,h&&(r.preventDefault(),r.stopPropagation())},!1);function ei(...r){return ee(()=>r.every(a=>zi(a)))}function us(r){return ee(()=>!zi(r))}const TT=yet(),J2=pa("slidev-color-schema","auto"),B_=ee(()=>cr.colorSchema!=="auto"),rg=ee({get(){return B_.value?cr.colorSchema==="dark":J2.value==="auto"?TT.value:J2.value==="dark"},set(r){B_.value||(J2.value=r===TT.value?"auto":r?"dark":"light")}}),FC=lC(rg);da&&Er(rg,r=>{const a=document.querySelector("html");a.classList.toggle("dark",r),a.classList.toggle("light",!r)},{immediate:!0});const b0=Xe(1),k0=ee(()=>Zr.length-1),fs=Xe(0),yv=Xe(0);function iit(){fs.value>b0.value&&(fs.value-=1)}function sit(){fs.value<k0.value&&(fs.value+=1)}function ait(){if(fs.value>b0.value){let r=fs.value-yv.value;r<b0.value&&(r=b0.value),fs.value=r}}function oit(){if(fs.value<k0.value){let r=fs.value+yv.value;r>k0.value&&(r=k0.value),fs.value=r}}function lit(){const{escape:r,space:a,shift:h,left:p,right:y,up:b,down:E,enter:S,d:L,g:D,o:C}=MC;let V=[{name:"next_space",key:ei(a,us(h)),fn:Mc,autoRepeat:!0},{name:"prev_space",key:ei(a,h),fn:Nc,autoRepeat:!0},{name:"next_right",key:ei(y,us(h),us($i)),fn:Mc,autoRepeat:!0},{name:"prev_left",key:ei(p,us(h),us($i)),fn:Nc,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:Mc,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:Nc,autoRepeat:!0},{name:"next_down",key:ei(E,us($i)),fn:$0,autoRepeat:!0},{name:"prev_up",key:ei(b,us($i)),fn:()=>U0(!1),autoRepeat:!0},{name:"next_shift",key:ei(y,h),fn:$0,autoRepeat:!0},{name:"prev_shift",key:ei(p,h),fn:()=>U0(!1),autoRepeat:!0},{name:"toggle_dark",key:ei(L,us(Da)),fn:FC},{name:"toggle_overview",key:ei(C,us(Da)),fn:OC},{name:"hide_overview",key:ei(r,us(Da)),fn:()=>$i.value=!1},{name:"goto",key:ei(D,us(Da)),fn:()=>Ju.value=!Ju.value},{name:"next_overview",key:ei(y,$i),fn:sit},{name:"prev_overview",key:ei(p,$i),fn:iit},{name:"up_overview",key:ei(b,$i),fn:ait},{name:"down_overview",key:ei(E,$i),fn:oit},{name:"goto_from_overview",key:ei(S,$i),fn:()=>{ch(fs.value),$i.value=!1}}];const j=new Set(V.map(it=>it.name));if(V.filter(it=>it.name&&j.has(it.name)).length===0){const it=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(it),console.warn(it)}return V}const VC=ei(us(wrt),us(xrt),brt);function cit(r,a,h=!1){typeof r=="string"&&(r=MC[r]);const p=ei(r,VC);let y=0,b;const E=()=>{if(clearTimeout(b),!p.value){y=0;return}h&&(b=setTimeout(E,Math.max(1e3-y*250,150)),y++),a()};return Er(p,E,{flush:"sync"})}function uit(r,a){return Jtt(r,h=>{VC.value&&(h.repeat||a())})}function hit(){const r=lit();new Map(r.map(h=>[h.key,h])).forEach(h=>{h.fn&&cit(h.key,h.fn,h.autoRepeat)}),uit("f",()=>NC.toggle())}const dit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},fit=d("path",{fill:"currentColor",d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"},null,-1),pit=[fit];function git(r,a){return Xt(),Fe("svg",dit,pit)}const mit={name:"carbon-close",render:git};function _v(r,a=""){var y,b;const h=["slidev-page",a],p=(b=(y=r==null?void 0:r.meta)==null?void 0:y.slide)==null?void 0:b.no;return p!=null&&h.push(`slidev-page-${p}`),h.filter(Boolean).join(" ")}const yit=hr({props:{width:{type:Number},meta:{default:()=>({})},scale:{type:[Number,String]}},setup(r){const a=r;sn(Rn);const h=Xe(),p=Met(h),y=ee(()=>a.width?a.width:p.width.value),b=ee(()=>a.width?a.width/fl:p.height.value);a.width&&Oo(()=>{h.value&&(h.value.style.width=`${y.value}px`,h.value.style.height=`${b.value}px`)});const E=ee(()=>y.value/b.value),S=ee(()=>a.scale&&!lh.value?a.scale:E.value<fl?y.value/pl:b.value*fl/pl),L=ee(()=>({height:`${hv}px`,width:`${pl}px`,transform:`translate(-50%, -50%) scale(${S.value})`})),D=ee(()=>({"select-none":!cr.selectable,"slidev-code-line-numbers":cr.lineNumbers}));return hs(nC,S),(C,V)=>(Xt(),Fe("div",{id:"slide-container",ref_key:"root",ref:h,class:Mr(Mt(D))},[d("div",{id:"slide-content",style:mi(Mt(L))},[Os(C.$slots,"default")],4),Os(C.$slots,"controls")],2))}});const Bn=(r,a)=>{const h=r.__vccOpts||r;for(const[p,y]of a)h[p]=y;return h},YC=Bn(yit,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/SlideContainer.vue"]]),vv=hr({name:"SlideWrapper",props:{clicks:{type:[Number,String],default:0},clicksElements:{type:Array,default:()=>[]},clicksOrderMap:{type:Map,default:()=>new Map},clicksDisabled:{type:Boolean,default:!1},context:{type:String,default:"main"},is:{type:Object,default:void 0},route:{type:Object,default:void 0}},setup(r,{emit:a}){const h=Oa(r,"clicks",a),p=Oa(r,"clicksElements",a),y=Oa(r,"clicksDisabled",a),b=Oa(r,"clicksOrderMap",a);p.value.length=0,hs(att,r.route),hs(ott,r.context),hs(JE,h),hs(eC,y),hs(tC,p),hs(stt,b)},render(){var r,a;return this.$props.is?ah(this.$props.is):(a=(r=this.$slots)==null?void 0:r.default)==null?void 0:a.call(r)}}),_it=["innerHTML"],vit=hr({props:{page:{type:Number,required:!0}},setup(r){return sn(Rn),(a,h)=>Mt(D0)[r.page]?(Xt(),Fe("svg",{key:0,ref:"svg",class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:Mt(D0)[r.page]},null,8,_it)):Yn("v-if",!0)}}),$C=Bn(vit,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/DrawingPreview.vue"]]),bit=Object.freeze(Object.defineProperty({__proto__:null,default:$C},Symbol.toStringTag,{value:"Module"})),kit={class:"slides-overview bg-main !bg-opacity-75 p-16 overflow-y-auto"},wit=["onClick"],xit=hr({props:{modelValue:{type:Boolean,required:!0}},emits:[],setup(r,{emit:a}){const h=r;sn(Rn);const p=Oa(h,"modelValue",a);function y(){p.value=!1}function b(rt){ch(rt),y()}function E(rt){return rt===fs.value}const S=N_.smaller("xs"),L=N_.smaller("sm"),D=4*16*2,C=2*16,V=ee(()=>S.value?Ic.width.value-D:L.value?(Ic.width.value-D-C)/2:300),j=ee(()=>Math.floor((Ic.width.value-D)/(V.value+C)));return Oo(()=>{fs.value=ri.value,yv.value=j.value}),(rt,it)=>{const Tt=mit;return Xt(),Fe(sr,null,[Sc(d("div",kit,[d("div",{class:"grid gap-y-4 gap-x-8 w-full",style:mi(`grid-template-columns: repeat(auto-fit,minmax(${Mt(V)}px,1fr))`)},[(Xt(!0),Fe(sr,null,yf(Mt(Zr).slice(0,-1),(Ct,$t)=>(Xt(),Fe("div",{key:Ct.path,class:"relative"},[d("div",{class:Mr(["inline-block border rounded border-opacity-50 overflow-hidden bg-main hover:border-$slidev-theme-primary",{"border-$slidev-theme-primary":E($t+1),"border-gray-400":!E($t+1)}]),style:mi(Mt(dv)),onClick:Rt=>b(+Ct.path)},[(Xt(),vn(YC,{key:Ct.path,width:Mt(V),"clicks-disabled":!0,class:"pointer-events-none"},{default:Mn(()=>[Be(Mt(vv),{is:Ct==null?void 0:Ct.component,"clicks-disabled":!0,class:Mr(Mt(_v)(Ct)),route:Ct,context:"overview"},null,8,["is","class","route"]),Be($C,{page:+Ct.path},null,8,["page"])]),_:2},1032,["width"]))],14,wit),d("div",{class:"absolute top-0 opacity-50",style:mi(`left: ${Mt(V)+5}px`)},Oc($t+1),5)]))),128))],4)],512),[[QE,Mt(p)]]),Mt(p)?(Xt(),Fe("button",{key:0,class:"fixed text-2xl top-4 right-4 icon-btn text-gray-400",onClick:y},[Be(Tt)])):Yn("v-if",!0)],64)}}});const Tit=Bn(xit,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/SlidesOverview.vue"]]),Eit="/refactoring-with-stratified-design/assets/logo-b72bde5d.png",Cit={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},Sit=hr({props:{modelValue:{default:!1},class:{default:""}},emits:["modelValue"],setup(r,{emit:a}){const h=r;sn(Rn);const p=Oa(h,"modelValue",a);function y(){p.value=!1}return(b,E)=>(Xt(),vn(xE,null,[Mt(p)?(Xt(),Fe("div",Cit,[d("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:E[0]||(E[0]=S=>y())}),d("div",{class:Mr(["m-auto rounded-md bg-main shadow",h.class]),"dark:border":"~ gray-400 opacity-10"},[Os(b.$slots,"default")],2)])):Yn("v-if",!0)],1024))}}),Ait=Bn(Sit,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/Modal.vue"]]),Lit={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},Iit=["innerHTML"],Mit=d("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[d("div",{class:"flex gap-1 children:my-auto"},[d("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),d("img",{class:"w-5 h-5",src:Eit,alt:"Slidev"}),d("div",{style:{color:"#2082A6"}},[d("b",null,"Sli"),v("dev ")])])],-1),Nit=hr({props:{modelValue:{default:!1}},emits:["modelValue"],setup(r,{emit:a}){const h=r;sn(Rn);const p=Oa(h,"modelValue",a),y=ee(()=>typeof cr.info=="string");return(b,E)=>(Xt(),vn(Ait,{modelValue:Mt(p),"onUpdate:modelValue":E[0]||(E[0]=S=>Qn(p)?p.value=S:null),class:"px-6 py-4"},{default:Mn(()=>[d("div",Lit,[Mt(y)?(Xt(),Fe("div",{key:0,class:"mb-4",innerHTML:Mt(cr).info},null,8,Iit)):Yn("v-if",!0),Mit])]),_:1},8,["modelValue"]))}});const Oit=Bn(Nit,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/InfoDialog.vue"]]),Dit=["disabled","onKeydown"],Rit=hr({setup(r){sn(Rn);const a=Xe(),h=Xe(""),p=ee(()=>{if(h.value.startsWith("/"))return!!Zr.find(E=>E.path===h.value.substring(1));{const E=+h.value;return!isNaN(E)&&E>0&&E<=n7.value}});function y(){p.value&&(h.value.startsWith("/")?ch(h.value.substring(1)):ch(+h.value)),b()}function b(){Ju.value=!1}return Er(Ju,async E=>{var S,L;E?(await ha(),h.value="",(S=a.value)==null||S.focus()):(L=a.value)==null||L.blur()}),Er(h,E=>{E.match(/^[^0-9/]/)&&(h.value=h.value.substring(1))}),(E,S)=>(Xt(),Fe("div",{id:"slidev-goto-dialog",class:Mr(["fixed right-5 bg-main transform transition-all",Mt(Ju)?"top-5":"-top-20"]),shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:gray-400 dark:opacity-25"},[Sc(d("input",{ref_key:"input",ref:a,"onUpdate:modelValue":S[0]||(S[0]=L=>h.value=L),type:"text",disabled:!Mt(Ju),class:Mr(["outline-none bg-transparent",{"text-red-400":!Mt(p)&&h.value}]),placeholder:"Goto...",onKeydown:[L8(y,["enter"]),L8(b,["escape"])],onBlur:b},null,42,Dit),[[ZJ,h.value]])],2))}}),Bit=Bn(Rit,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/Goto.vue"]]),Pit=hr({setup(r){sn(Rn);const a=Ba(),h=Ba();return(p,y)=>(Xt(),Fe(sr,null,[Be(Tit,{modelValue:Mt($i),"onUpdate:modelValue":y[0]||(y[0]=b=>Qn($i)?$i.value=b:null)},null,8,["modelValue"]),Be(Bit),Mt(a)?(Xt(),vn(Mt(a),{key:0})):Yn("v-if",!0),Mt(h)?(Xt(),vn(Mt(h),{key:1,modelValue:Mt(Z2),"onUpdate:modelValue":y[1]||(y[1]=b=>Qn(Z2)?Z2.value=b:null)},null,8,["modelValue"])):Yn("v-if",!0),Mt(cr).info?(Xt(),vn(Oit,{key:2,modelValue:Mt(Jd),"onUpdate:modelValue":y[2]||(y[2]=b=>Qn(Jd)?Jd.value=b:null)},null,8,["modelValue"])):Yn("v-if",!0)],64))}}),Fit=Bn(Pit,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/Controls.vue"]]),Vit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Yit=d("path",{fill:"currentColor",d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z"},null,-1),$it=[Yit];function Uit(r,a){return Xt(),Fe("svg",Vit,$it)}const zit={name:"carbon-settings-adjust",render:Uit},Hit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Wit=d("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z"},null,-1),jit=d("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),qit=[Wit,jit];function Git(r,a){return Xt(),Fe("svg",Hit,qit)}const Xit={name:"carbon-information",render:Git},Kit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Zit=d("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),Qit=[Zit];function Jit(r,a){return Xt(),Fe("svg",Kit,Qit)}const tst={name:"carbon-download",render:Jit},est={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},nst=d("path",{fill:"currentColor",d:"M29.415 19L27.7 17.285A2.97 2.97 0 0 0 28 16a3 3 0 1 0-3 3a2.97 2.97 0 0 0 1.286-.3L28 20.414V28h-6v-3a7.008 7.008 0 0 0-7-7H9a7.008 7.008 0 0 0-7 7v5h28v-9.586A1.988 1.988 0 0 0 29.415 19ZM4 25a5.006 5.006 0 0 1 5-5h6a5.006 5.006 0 0 1 5 5v3H4Z"},null,-1),rst=d("path",{fill:"currentColor",d:"M12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7Z"},null,-1),ist=[nst,rst];function sst(r,a){return Xt(),Fe("svg",est,ist)}const ast={name:"carbon-user-speaker",render:sst},ost={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},lst=d("path",{fill:"currentColor",d:"M15 10h2v8h-2zm5 4h2v4h-2zm-10-2h2v6h-2z"},null,-1),cst=d("path",{fill:"currentColor",d:"M25 4h-8V2h-2v2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v6h-4v2h10v-2h-4v-6h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H7V6h18Z"},null,-1),ust=[lst,cst];function hst(r,a){return Xt(),Fe("svg",ost,ust)}const dst={name:"carbon-presentation-file",render:hst},fst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},pst=d("path",{fill:"currentColor",d:"M27.307 6.107L30 3.414L28.586 2l-2.693 2.693L24.8 3.6a1.933 1.933 0 0 0-2.8 0l-18 18V28h6.4l18-18a1.933 1.933 0 0 0 0-2.8ZM9.6 26H6v-3.6L23.4 5L27 8.6ZM9 11.586L16.586 4L18 5.414L10.414 13z"},null,-1),gst=[pst];function mst(r,a){return Xt(),Fe("svg",fst,gst)}const yst={name:"carbon-pen",render:mst},_st={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},vst=d("path",{fill:"currentColor",d:"m38.2 48.5l58.2 155.2a8 8 0 0 0 15-.1l23.3-64.1a8.1 8.1 0 0 1 4.8-4.8l64.1-23.3a8 8 0 0 0 .1-15L48.5 38.2a8 8 0 0 0-10.3 10.3Z",opacity:".2"},null,-1),bst=d("path",{fill:"currentColor",d:"m150.5 139.2l55.9-20.3a16 16 0 0 0 .1-30L51.3 30.7a16 16 0 0 0-20.6 20.6l58.2 155.2a15.9 15.9 0 0 0 15 10.4h.1a15.9 15.9 0 0 0 14.9-10.5l20.3-55.9l63.1 63.2a8.5 8.5 0 0 0 5.7 2.3a8.3 8.3 0 0 0 5.7-2.3a8.1 8.1 0 0 0 0-11.4Zm-46.6 61.7L45.7 45.7l155.2 58.2l-64.1 23.3a15.7 15.7 0 0 0-9.6 9.6Z"},null,-1),kst=[vst,bst];function wst(r,a){return Xt(),Fe("svg",_st,kst)}const xst={name:"ph-cursor-duotone",render:wst},Tst={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Est=d("path",{fill:"currentColor",d:"M213.7 202.3a8.1 8.1 0 0 1 0 11.4a8.3 8.3 0 0 1-5.7 2.3a8.5 8.5 0 0 1-5.7-2.3l-63.1-63.2l-20.3 55.9a15.9 15.9 0 0 1-14.9 10.5h-.1a15.9 15.9 0 0 1-15-10.4L30.7 51.3a16 16 0 0 1 20.6-20.6l155.2 58.2a16 16 0 0 1-.1 30l-55.9 20.3Z"},null,-1),Cst=[Est];function Sst(r,a){return Xt(),Fe("svg",Tst,Cst)}const UC={name:"ph-cursor-fill",render:Sst},Ast={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Lst=d("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),Ist=[Lst];function Mst(r,a){return Xt(),Fe("svg",Ast,Ist)}const Nst={name:"carbon-sun",render:Mst},Ost={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Dst=d("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),Rst=[Dst];function Bst(r,a){return Xt(),Fe("svg",Ost,Rst)}const Pst={name:"carbon-moon",render:Bst},Fst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Vst=d("path",{fill:"currentColor",d:"M8 4v4H4V4Zm2-2H2v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8ZM8 14v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8ZM8 24v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Z"},null,-1),Yst=[Vst];function $st(r,a){return Xt(),Fe("svg",Fst,Yst)}const Ust={name:"carbon-apps",render:$st},zst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Hst=d("path",{fill:"currentColor",d:"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"},null,-1),Wst=[Hst];function jst(r,a){return Xt(),Fe("svg",zst,Wst)}const qst={name:"carbon-arrow-right",render:jst},Gst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Xst=d("path",{fill:"currentColor",d:"m14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z"},null,-1),Kst=[Xst];function Zst(r,a){return Xt(),Fe("svg",Gst,Kst)}const Qst={name:"carbon-arrow-left",render:Zst},Jst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},tat=d("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),eat=[tat];function nat(r,a){return Xt(),Fe("svg",Jst,eat)}const rat={name:"carbon-maximize",render:nat},iat={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},sat=d("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),aat=[sat];function oat(r,a){return Xt(),Fe("svg",iat,aat)}const lat={name:"carbon-minimize",render:oat},cat={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},uat=d("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),hat=[uat];function dat(r,a){return Xt(),Fe("svg",cat,hat)}const fat={name:"carbon-checkmark",render:dat},pat={class:"select-list"},gat={class:"title"},mat={class:"items"},yat=["onClick"],_at=hr({props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(r,{emit:a}){const h=r;sn(Rn);const p=Oa(h,"modelValue",a,{passive:!0});return(y,b)=>{const E=fat;return Xt(),Fe("div",pat,[d("div",gat,Oc(r.title),1),d("div",mat,[(Xt(!0),Fe(sr,null,yf(r.items,S=>(Xt(),Fe("div",{key:S.value,class:Mr(["item",{active:Mt(p)===S.value}]),onClick:()=>{var L;p.value=S.value,(L=S.onClick)==null||L.call(S)}},[Be(E,{class:Mr(["text-green-500",{"opacity-0":Mt(p)!==S.value}])},null,8,["class"]),v(" "+Oc(S.display||S.value),1)],10,yat))),128))])])}}});const vat=Bn(_at,[["__scopeId","data-v-3f89fa11"],["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/SelectList.vue"]]),bat={class:"text-sm"},kat=hr({setup(r){sn(Rn);const a=[{display:"Fit",value:0},{display:"1:1",value:1}];return(h,p)=>(Xt(),Fe("div",bat,[Be(vat,{modelValue:Mt(v0),"onUpdate:modelValue":p[0]||(p[0]=y=>Qn(v0)?v0.value=y:null),title:"Scale",items:a},null,8,["modelValue"])]))}}),wat=Bn(kat,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/Settings.vue"]]),xat={key:0,class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ gray-400 opacity-10"},Tat=hr({props:{modelValue:{default:!1},disabled:{default:!1}},setup(r,{emit:a}){const h=r;sn(Rn);const p=Oa(h,"modelValue",a,{passive:!0}),y=Xe();return Ztt(y,()=>{p.value=!1}),(b,E)=>(Xt(),Fe("div",{ref_key:"el",ref:y,class:"flex relative"},[d("button",{class:Mr({disabled:r.disabled}),onClick:E[0]||(E[0]=S=>p.value=!Mt(p))},[Os(b.$slots,"button",{class:Mr({disabled:r.disabled})})],2),(Xt(),vn(xE,null,[Mt(p)?(Xt(),Fe("div",xat,[Os(b.$slots,"menu")])):Yn("v-if",!0)],1024))],512))}}),Eat=Bn(Tat,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/MenuButton.vue"]]),Cat={class:"w-1px opacity-10 bg-current m-1 lg:m-2"},Sat={setup(r){return sn(Rn),(a,h)=>(Xt(),Fe("div",Cat))}},d0=Bn(Sat,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/VerticalDivider.vue"]]),Aat={render(){return[]}},Lat={class:"icon-btn"},Iat={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},Mat={class:"my-auto"},Nat={class:"opacity-50"},Oat=hr({props:{persist:{default:!1}},setup(r){const a=r;sn(Rn);const h=N_.smaller("md"),{isFullscreen:p,toggle:y}=NC,b=ee(()=>F_.value?`?password=${F_.value}`:""),E=ee(()=>`/presenter/${ri.value}${b.value}`),S=ee(()=>`/${ri.value}${b.value}`),L=Xe(),D=()=>{L.value&&nh.value&&L.value.contains(nh.value)&&nh.value.blur()},C=ee(()=>a.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"),V=Ba(),j=Ba();return Pc(()=>import("./DrawingControls-d5de855c.js"),["assets/DrawingControls-d5de855c.js","assets/_commonjsHelpers-725317a4.js"]).then(rt=>j.value=rt.default),(rt,it)=>{const Tt=lat,Ct=rat,$t=Qst,Rt=qst,Kt=Ust,de=Pst,ke=Nst,ve=UC,te=xst,Le=yst,je=dst,en=eJ("RouterLink"),xn=ast,Oe=tst,Un=Xit,pr=zit;return Xt(),Fe("nav",{ref_key:"root",ref:L,class:"flex flex-col"},[d("div",{class:Mr(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",Mt(C)]),onMouseleave:D},[Mt(Eo)?Yn("v-if",!0):(Xt(),Fe("button",{key:0,class:"icon-btn",onClick:it[0]||(it[0]=(...Kn)=>Mt(y)&&Mt(y)(...Kn))},[Mt(p)?(Xt(),vn(Tt,{key:0})):(Xt(),vn(Ct,{key:1}))])),d("button",{class:Mr(["icon-btn",{disabled:!Mt(Eut)}]),onClick:it[1]||(it[1]=(...Kn)=>Mt(Nc)&&Mt(Nc)(...Kn))},[Be($t)],2),d("button",{class:Mr(["icon-btn",{disabled:!Mt(Tut)}]),title:"Next",onClick:it[2]||(it[2]=(...Kn)=>Mt(Mc)&&Mt(Mc)(...Kn))},[Be(Rt)],2),Mt(Eo)?Yn("v-if",!0):(Xt(),Fe("button",{key:1,class:"icon-btn",title:"Slides overview",onClick:it[3]||(it[3]=Kn=>Mt(OC)())},[Be(Kt)])),Mt(B_)?Yn("v-if",!0):(Xt(),Fe("button",{key:2,class:"icon-btn",title:"Toggle dark mode",onClick:it[4]||(it[4]=Kn=>Mt(FC)())},[Mt(rg)?(Xt(),vn(de,{key:0})):(Xt(),vn(ke,{key:1}))])),Be(d0),Mt(Eo)?Yn("v-if",!0):(Xt(),Fe(sr,{key:3},[!Mt(ua)&&!Mt(h)&&Mt(V)?(Xt(),Fe(sr,{key:0},[Be(Mt(V)),Be(d0)],64)):Yn("v-if",!0),Mt(ua)?(Xt(),Fe("button",{key:1,class:"icon-btn",title:"Show presenter cursor",onClick:it[5]||(it[5]=Kn=>Q2.value=!Mt(Q2))},[Mt(Q2)?(Xt(),vn(ve,{key:0})):(Xt(),vn(te,{key:1,class:"opacity-50"}))])):Yn("v-if",!0)],64)),(!Mt(cr).drawings.presenterOnly||Mt(ua))&&!Mt(Eo)?(Xt(),Fe(sr,{key:4},[d("button",{class:"icon-btn relative",title:"Drawing",onClick:it[6]||(it[6]=Kn=>Da.value=!Mt(Da))},[Be(Le),Mt(Da)?(Xt(),Fe("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:mi({background:Mt(kc).color})},null,4)):Yn("v-if",!0)]),Be(d0)],64)):Yn("v-if",!0),Mt(Eo)?Yn("v-if",!0):(Xt(),Fe(sr,{key:5},[Mt(ua)?(Xt(),vn(en,{key:0,to:Mt(S),class:"icon-btn",title:"Play Mode"},{default:Mn(()=>[Be(je)]),_:1},8,["to"])):Yn("v-if",!0),Mt(but)?(Xt(),vn(en,{key:1,to:Mt(E),class:"icon-btn",title:"Presenter Mode"},{default:Mn(()=>[Be(xn)]),_:1},8,["to"])):Yn("v-if",!0),Yn("v-if",!0)],64)),(Xt(),Fe(sr,{key:6},[Mt(cr).download?(Xt(),Fe("button",{key:0,class:"icon-btn",onClick:it[8]||(it[8]=(...Kn)=>Mt(DT)&&Mt(DT)(...Kn))},[Be(Oe)])):Yn("v-if",!0)],2112)),!Mt(ua)&&Mt(cr).info&&!Mt(Eo)?(Xt(),Fe("button",{key:7,class:"icon-btn",onClick:it[9]||(it[9]=Kn=>Jd.value=!Mt(Jd))},[Be(Un)])):Yn("v-if",!0),!Mt(ua)&&!Mt(Eo)?(Xt(),vn(Eat,{key:8},{button:Mn(()=>[d("button",Lat,[Be(pr)])]),menu:Mn(()=>[Be(wat)]),_:1})):Yn("v-if",!0),Mt(Eo)?Yn("v-if",!0):(Xt(),vn(d0,{key:9})),d("div",Iat,[d("div",Mat,[v(Oc(Mt(ri))+" ",1),d("span",Nat,"/ "+Oc(Mt(n7)),1)])]),Be(Mt(Aat))],34)],512)}}}),Dat=Bn(Oat,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/NavControls.vue"]]),zC={render(){return[]}},HC={render(){return[]}},Rat={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},Bat=hr({setup(r){return sn(Rn),(a,h)=>{const p=UC;return Mt(q2).cursor?(Xt(),Fe("div",Rat,[Be(p,{class:"absolute",style:mi({left:`${Mt(q2).cursor.x}%`,top:`${Mt(q2).cursor.y}%`})},null,8,["style"])])):Yn("v-if",!0)}}}),Pat=Bn(Bat,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/PresenterMouse.vue"]]),Fat=hr({props:{context:{type:String,required:!0}},setup(r){sn(Rn),Er(Ui,()=>{var p,y;(p=Ui.value)!=null&&p.meta&&Ui.value.meta.preload!==!1&&(Ui.value.meta.__preloaded=!0),(y=t_.value)!=null&&y.meta&&t_.value.meta.preload!==!1&&(t_.value.meta.__preloaded=!0)},{immediate:!0});const a=Ba();Pc(()=>import("./DrawingLayer-7f92135f.js"),["assets/DrawingLayer-7f92135f.js","assets/_commonjsHelpers-725317a4.js"]).then(p=>a.value=p.default);const h=ee(()=>Zr.filter(p=>{var y;return((y=p.meta)==null?void 0:y.__preloaded)||p===Ui.value}));return(p,y)=>(Xt(),Fe(sr,null,[Yn(" Global Bottom "),Be(Mt(HC)),Yn(" Slides "),Be(HJ,Mi(vi(Mt(Aut))),{default:Mn(()=>[(Xt(!0),Fe(sr,null,yf(Mt(h),b=>{var E;return Sc((Xt(),vn(Mt(vv),{key:b.path,is:b==null?void 0:b.component,clicks:b===Mt(Ui)?Mt(Fc):0,"clicks-elements":((E=b.meta)==null?void 0:E.__clicksElements)||[],"clicks-disabled":!1,class:Mr(Mt(_v)(b)),route:b,context:r.context},null,8,["is","clicks","clicks-elements","class","route","context"])),[[QE,b===Mt(Ui)]])}),128))]),_:1},16),Yn(" Global Top "),Be(Mt(zC)),Mt(a)?(Xt(),vn(Mt(a),{key:0})):Yn("v-if",!0),Mt(ua)?Yn("v-if",!0):(Xt(),vn(Pat,{key:1}))],64))}}),Vat=Bn(Fat,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/SlidesShow.vue"]]),Yat=hr({setup(r){sn(Rn);function a(h,{slots:p}){if(p.default)return ah("style",p.default())}return(h,p)=>(Xt(),vn(a,null,{default:Mn(()=>[v(" @page { size: "+Oc(Mt(pl))+"px "+Oc(Mt(hv))+"px; margin: 0px; } ",1)]),_:1}))}}),WC=Bn(Yat,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/PrintStyle.vue"]]),$at=hr({setup(r){sn(Rn),hit();const a=Xe();function h(b){var E;pT.value||((E=b.target)==null?void 0:E.id)==="slide-container"&&(b.screenX/window.innerWidth>.6?Mc():Nc())}Lut(a);const p=ee(()=>krt.value||pT.value);Ba();const y=Ba();return Pc(()=>import("./DrawingControls-d5de855c.js"),["assets/DrawingControls-d5de855c.js","assets/_commonjsHelpers-725317a4.js"]).then(b=>y.value=b.default),(b,E)=>(Xt(),Fe(sr,null,[Mt(lh)?(Xt(),vn(WC,{key:0})):Yn("v-if",!0),d("div",{id:"page-root",ref_key:"root",ref:a,class:"grid grid-cols-[1fr_max-content]",style:mi(Mt(dv))},[Be(YC,{class:"w-full h-full",style:mi({background:"var(--slidev-slide-container-background, black)"}),width:Mt(lh)?Mt(Ic).width.value:void 0,scale:Mt(v0),onPointerdown:h},{default:Mn(()=>[Be(Vat,{context:"slide"})]),controls:Mn(()=>[d("div",{class:Mr(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[Mt(p)?"opacity-100 right-0":"opacity-0 p-2",Mt(uf)?"pointer-events-none":""]])},[Be(Dat,{class:"m-auto",persist:Mt(p)},null,8,["persist"])],2),!Mt(cr).drawings.presenterOnly&&!Mt(Eo)&&Mt(y)?(Xt(),vn(Mt(y),{key:0,class:"ml-0"})):Yn("v-if",!0)]),_:1},8,["style","width","scale"]),Yn("v-if",!0)],4),Be(Fit)],64))}}),Uat=Bn($at,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/Play.vue"]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function jC(r){return typeof r>"u"||r===null}function zat(r){return typeof r=="object"&&r!==null}function Hat(r){return Array.isArray(r)?r:jC(r)?[]:[r]}function Wat(r,a){var h,p,y,b;if(a)for(b=Object.keys(a),h=0,p=b.length;h<p;h+=1)y=b[h],r[y]=a[y];return r}function jat(r,a){var h="",p;for(p=0;p<a;p+=1)h+=r;return h}function qat(r){return r===0&&Number.NEGATIVE_INFINITY===1/r}var Gat=jC,Xat=zat,Kat=Hat,Zat=jat,Qat=qat,Jat=Wat,bv={isNothing:Gat,isObject:Xat,toArray:Kat,repeat:Zat,isNegativeZero:Qat,extend:Jat};function qC(r,a){var h="",p=r.reason||"(unknown reason)";return r.mark?(r.mark.name&&(h+='in "'+r.mark.name+'" '),h+="("+(r.mark.line+1)+":"+(r.mark.column+1)+")",!a&&r.mark.snippet&&(h+=`

`+r.mark.snippet),p+" "+h):p}function df(r,a){Error.call(this),this.name="YAMLException",this.reason=r,this.mark=a,this.message=qC(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}df.prototype=Object.create(Error.prototype);df.prototype.constructor=df;df.prototype.toString=function(a){return this.name+": "+qC(this,a)};var vc=df,tot=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],eot=["scalar","sequence","mapping"];function not(r){var a={};return r!==null&&Object.keys(r).forEach(function(h){r[h].forEach(function(p){a[String(p)]=h})}),a}function rot(r,a){if(a=a||{},Object.keys(a).forEach(function(h){if(tot.indexOf(h)===-1)throw new vc('Unknown option "'+h+'" is met in definition of "'+r+'" YAML type.')}),this.options=a,this.tag=r,this.kind=a.kind||null,this.resolve=a.resolve||function(){return!0},this.construct=a.construct||function(h){return h},this.instanceOf=a.instanceOf||null,this.predicate=a.predicate||null,this.represent=a.represent||null,this.representName=a.representName||null,this.defaultStyle=a.defaultStyle||null,this.multi=a.multi||!1,this.styleAliases=not(a.styleAliases||null),eot.indexOf(this.kind)===-1)throw new vc('Unknown kind "'+this.kind+'" is specified for "'+r+'" YAML type.')}var Li=rot;function ET(r,a){var h=[];return r[a].forEach(function(p){var y=h.length;h.forEach(function(b,E){b.tag===p.tag&&b.kind===p.kind&&b.multi===p.multi&&(y=E)}),h[y]=p}),h}function iot(){var r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},a,h;function p(y){y.multi?(r.multi[y.kind].push(y),r.multi.fallback.push(y)):r[y.kind][y.tag]=r.fallback[y.tag]=y}for(a=0,h=arguments.length;a<h;a+=1)arguments[a].forEach(p);return r}function P_(r){return this.extend(r)}P_.prototype.extend=function(a){var h=[],p=[];if(a instanceof Li)p.push(a);else if(Array.isArray(a))p=p.concat(a);else if(a&&(Array.isArray(a.implicit)||Array.isArray(a.explicit)))a.implicit&&(h=h.concat(a.implicit)),a.explicit&&(p=p.concat(a.explicit));else throw new vc("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");h.forEach(function(b){if(!(b instanceof Li))throw new vc("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(b.loadKind&&b.loadKind!=="scalar")throw new vc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(b.multi)throw new vc("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),p.forEach(function(b){if(!(b instanceof Li))throw new vc("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var y=Object.create(P_.prototype);return y.implicit=(this.implicit||[]).concat(h),y.explicit=(this.explicit||[]).concat(p),y.compiledImplicit=ET(y,"implicit"),y.compiledExplicit=ET(y,"explicit"),y.compiledTypeMap=iot(y.compiledImplicit,y.compiledExplicit),y};var sot=P_,aot=new Li("tag:yaml.org,2002:str",{kind:"scalar",construct:function(r){return r!==null?r:""}}),oot=new Li("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(r){return r!==null?r:[]}}),lot=new Li("tag:yaml.org,2002:map",{kind:"mapping",construct:function(r){return r!==null?r:{}}}),cot=new sot({explicit:[aot,oot,lot]});function uot(r){if(r===null)return!0;var a=r.length;return a===1&&r==="~"||a===4&&(r==="null"||r==="Null"||r==="NULL")}function hot(){return null}function dot(r){return r===null}var fot=new Li("tag:yaml.org,2002:null",{kind:"scalar",resolve:uot,construct:hot,predicate:dot,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function pot(r){if(r===null)return!1;var a=r.length;return a===4&&(r==="true"||r==="True"||r==="TRUE")||a===5&&(r==="false"||r==="False"||r==="FALSE")}function got(r){return r==="true"||r==="True"||r==="TRUE"}function mot(r){return Object.prototype.toString.call(r)==="[object Boolean]"}var yot=new Li("tag:yaml.org,2002:bool",{kind:"scalar",resolve:pot,construct:got,predicate:mot,represent:{lowercase:function(r){return r?"true":"false"},uppercase:function(r){return r?"TRUE":"FALSE"},camelcase:function(r){return r?"True":"False"}},defaultStyle:"lowercase"});function _ot(r){return 48<=r&&r<=57||65<=r&&r<=70||97<=r&&r<=102}function vot(r){return 48<=r&&r<=55}function bot(r){return 48<=r&&r<=57}function kot(r){if(r===null)return!1;var a=r.length,h=0,p=!1,y;if(!a)return!1;if(y=r[h],(y==="-"||y==="+")&&(y=r[++h]),y==="0"){if(h+1===a)return!0;if(y=r[++h],y==="b"){for(h++;h<a;h++)if(y=r[h],y!=="_"){if(y!=="0"&&y!=="1")return!1;p=!0}return p&&y!=="_"}if(y==="x"){for(h++;h<a;h++)if(y=r[h],y!=="_"){if(!_ot(r.charCodeAt(h)))return!1;p=!0}return p&&y!=="_"}if(y==="o"){for(h++;h<a;h++)if(y=r[h],y!=="_"){if(!vot(r.charCodeAt(h)))return!1;p=!0}return p&&y!=="_"}}if(y==="_")return!1;for(;h<a;h++)if(y=r[h],y!=="_"){if(!bot(r.charCodeAt(h)))return!1;p=!0}return!(!p||y==="_")}function wot(r){var a=r,h=1,p;if(a.indexOf("_")!==-1&&(a=a.replace(/_/g,"")),p=a[0],(p==="-"||p==="+")&&(p==="-"&&(h=-1),a=a.slice(1),p=a[0]),a==="0")return 0;if(p==="0"){if(a[1]==="b")return h*parseInt(a.slice(2),2);if(a[1]==="x")return h*parseInt(a.slice(2),16);if(a[1]==="o")return h*parseInt(a.slice(2),8)}return h*parseInt(a,10)}function xot(r){return Object.prototype.toString.call(r)==="[object Number]"&&r%1===0&&!bv.isNegativeZero(r)}var Tot=new Li("tag:yaml.org,2002:int",{kind:"scalar",resolve:kot,construct:wot,predicate:xot,represent:{binary:function(r){return r>=0?"0b"+r.toString(2):"-0b"+r.toString(2).slice(1)},octal:function(r){return r>=0?"0o"+r.toString(8):"-0o"+r.toString(8).slice(1)},decimal:function(r){return r.toString(10)},hexadecimal:function(r){return r>=0?"0x"+r.toString(16).toUpperCase():"-0x"+r.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Eot=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Cot(r){return!(r===null||!Eot.test(r)||r[r.length-1]==="_")}function Sot(r){var a,h;return a=r.replace(/_/g,"").toLowerCase(),h=a[0]==="-"?-1:1,"+-".indexOf(a[0])>=0&&(a=a.slice(1)),a===".inf"?h===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:a===".nan"?NaN:h*parseFloat(a,10)}var Aot=/^[-+]?[0-9]+e/;function Lot(r,a){var h;if(isNaN(r))switch(a){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===r)switch(a){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===r)switch(a){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(bv.isNegativeZero(r))return"-0.0";return h=r.toString(10),Aot.test(h)?h.replace("e",".e"):h}function Iot(r){return Object.prototype.toString.call(r)==="[object Number]"&&(r%1!==0||bv.isNegativeZero(r))}var Mot=new Li("tag:yaml.org,2002:float",{kind:"scalar",resolve:Cot,construct:Sot,predicate:Iot,represent:Lot,defaultStyle:"lowercase"}),Not=cot.extend({implicit:[fot,yot,Tot,Mot]}),Oot=Not,GC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),XC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Dot(r){return r===null?!1:GC.exec(r)!==null||XC.exec(r)!==null}function Rot(r){var a,h,p,y,b,E,S,L=0,D=null,C,V,j;if(a=GC.exec(r),a===null&&(a=XC.exec(r)),a===null)throw new Error("Date resolve error");if(h=+a[1],p=+a[2]-1,y=+a[3],!a[4])return new Date(Date.UTC(h,p,y));if(b=+a[4],E=+a[5],S=+a[6],a[7]){for(L=a[7].slice(0,3);L.length<3;)L+="0";L=+L}return a[9]&&(C=+a[10],V=+(a[11]||0),D=(C*60+V)*6e4,a[9]==="-"&&(D=-D)),j=new Date(Date.UTC(h,p,y,b,E,S,L)),D&&j.setTime(j.getTime()-D),j}function Bot(r){return r.toISOString()}var Pot=new Li("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Dot,construct:Rot,instanceOf:Date,represent:Bot});function Fot(r){return r==="<<"||r===null}var Vot=new Li("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Fot}),kv=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Yot(r){if(r===null)return!1;var a,h,p=0,y=r.length,b=kv;for(h=0;h<y;h++)if(a=b.indexOf(r.charAt(h)),!(a>64)){if(a<0)return!1;p+=6}return p%8===0}function $ot(r){var a,h,p=r.replace(/[\r\n=]/g,""),y=p.length,b=kv,E=0,S=[];for(a=0;a<y;a++)a%4===0&&a&&(S.push(E>>16&255),S.push(E>>8&255),S.push(E&255)),E=E<<6|b.indexOf(p.charAt(a));return h=y%4*6,h===0?(S.push(E>>16&255),S.push(E>>8&255),S.push(E&255)):h===18?(S.push(E>>10&255),S.push(E>>2&255)):h===12&&S.push(E>>4&255),new Uint8Array(S)}function Uot(r){var a="",h=0,p,y,b=r.length,E=kv;for(p=0;p<b;p++)p%3===0&&p&&(a+=E[h>>18&63],a+=E[h>>12&63],a+=E[h>>6&63],a+=E[h&63]),h=(h<<8)+r[p];return y=b%3,y===0?(a+=E[h>>18&63],a+=E[h>>12&63],a+=E[h>>6&63],a+=E[h&63]):y===2?(a+=E[h>>10&63],a+=E[h>>4&63],a+=E[h<<2&63],a+=E[64]):y===1&&(a+=E[h>>2&63],a+=E[h<<4&63],a+=E[64],a+=E[64]),a}function zot(r){return Object.prototype.toString.call(r)==="[object Uint8Array]"}var Hot=new Li("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Yot,construct:$ot,predicate:zot,represent:Uot}),Wot=Object.prototype.hasOwnProperty,jot=Object.prototype.toString;function qot(r){if(r===null)return!0;var a=[],h,p,y,b,E,S=r;for(h=0,p=S.length;h<p;h+=1){if(y=S[h],E=!1,jot.call(y)!=="[object Object]")return!1;for(b in y)if(Wot.call(y,b))if(!E)E=!0;else return!1;if(!E)return!1;if(a.indexOf(b)===-1)a.push(b);else return!1}return!0}function Got(r){return r!==null?r:[]}var Xot=new Li("tag:yaml.org,2002:omap",{kind:"sequence",resolve:qot,construct:Got}),Kot=Object.prototype.toString;function Zot(r){if(r===null)return!0;var a,h,p,y,b,E=r;for(b=new Array(E.length),a=0,h=E.length;a<h;a+=1){if(p=E[a],Kot.call(p)!=="[object Object]"||(y=Object.keys(p),y.length!==1))return!1;b[a]=[y[0],p[y[0]]]}return!0}function Qot(r){if(r===null)return[];var a,h,p,y,b,E=r;for(b=new Array(E.length),a=0,h=E.length;a<h;a+=1)p=E[a],y=Object.keys(p),b[a]=[y[0],p[y[0]]];return b}var Jot=new Li("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Zot,construct:Qot}),tlt=Object.prototype.hasOwnProperty;function elt(r){if(r===null)return!0;var a,h=r;for(a in h)if(tlt.call(h,a)&&h[a]!==null)return!1;return!0}function nlt(r){return r!==null?r:{}}var rlt=new Li("tag:yaml.org,2002:set",{kind:"mapping",resolve:elt,construct:nlt});Oot.extend({implicit:[Pot,Vot],explicit:[Hot,Xot,Jot,rlt]});function CT(r){return r===48?"\0":r===97?"\x07":r===98?"\b":r===116||r===9?"	":r===110?`
`:r===118?"\v":r===102?"\f":r===114?"\r":r===101?"\x1B":r===32?" ":r===34?'"':r===47?"/":r===92?"\\":r===78?"":r===95?" ":r===76?"\u2028":r===80?"\u2029":""}var ilt=new Array(256),slt=new Array(256);for(var qu=0;qu<256;qu++)ilt[qu]=CT(qu)?1:0,slt[qu]=CT(qu);function alt(r){return Array.from(new Set(r))}function ST(...r){let a,h,p;r.length===1?(a=0,p=1,[h]=r):[a,h,p=1]=r;const y=[];let b=a;for(;b<h;)y.push(b),b+=p||1;return y}function KC(r,a){if(!a||a==="all"||a==="*")return ST(1,r+1);const h=[];for(const p of a.split(/[,;]/g))if(!p.includes("-"))h.push(+p);else{const[y,b]=p.split("-",2);h.push(...ST(+y,b?+b+1:r+1))}return alt(h).filter(p=>p<=r).sort((p,y)=>p-y)}function olt(r){const a=ee(()=>r.value.path),h=ee(()=>Zr.length-1),p=ee(()=>parseInt(a.value.split(/\//g).slice(-1)[0])||1),y=ee(()=>xv(p.value)),b=ee(()=>Zr.find(j=>j.path===`${p.value}`)),E=ee(()=>{var j,rt,it;return(it=(rt=(j=b.value)==null?void 0:j.meta)==null?void 0:rt.slide)==null?void 0:it.id}),S=ee(()=>{var j,rt;return((rt=(j=b.value)==null?void 0:j.meta)==null?void 0:rt.layout)||(p.value===1?"cover":"default")}),L=ee(()=>Zr.find(j=>j.path===`${Math.min(Zr.length,p.value+1)}`)),D=ee(()=>Zr.filter(j=>{var rt,it;return(it=(rt=j.meta)==null?void 0:rt.slide)==null?void 0:it.title}).reduce((j,rt)=>(Tv(j,rt),j),[])),C=ee(()=>Ev(D.value,b.value)),V=ee(()=>Cv(C.value));return{route:r,path:a,total:h,currentPage:p,currentPath:y,currentRoute:b,currentSlideId:E,currentLayout:S,nextRoute:L,rawTree:D,treeWithActiveStatuses:C,tree:V}}function llt(r,a,h){const p=Xe(0);ha(()=>{gl.afterEach(async()=>{await ha(),p.value+=1})});const y=ee(()=>{var L,D;return p.value,((D=(L=a.value)==null?void 0:L.meta)==null?void 0:D.__clicksElements)||[]}),b=ee(()=>{var L,D;return+(((D=(L=a.value)==null?void 0:L.meta)==null?void 0:D.clicks)??y.value.length)}),E=ee(()=>h.value<Zr.length-1||r.value<b.value),S=ee(()=>h.value>1||r.value>0);return{clicks:r,clicksElements:y,clicksTotal:b,hasNext:E,hasPrev:S}}const clt=["id"],ult=hr({props:{clicks:{type:Number,required:!0},clicksElements:{type:Array,required:!1},nav:{type:null,required:!0},route:{type:null,required:!0}},emits:["update:clicksElements"],setup(r,{emit:a}){const h=r,p=Oa(h,"clicksElements",a),y=ee(()=>({height:`${hv}px`,width:`${pl}px`})),b=Ba();Pc(()=>Promise.resolve().then(()=>bit),void 0).then(D=>b.value=D.default);const E=ee(()=>h.clicks),S=llt(E,h.nav.currentRoute,h.nav.currentPage),L=ee(()=>`${h.route.path.toString().padStart(3,"0")}-${(E.value+1).toString().padStart(2,"0")}`);return hs(Rn,yi({nav:{...h.nav,...S},configs:cr,themeConfigs:ee(()=>cr.themeConfig)})),(D,C)=>{var V;return Xt(),Fe("div",{id:Mt(L),class:"print-slide-container",style:mi(Mt(y))},[Be(Mt(HC)),Be(Mt(vv),{is:(V=r.route)==null?void 0:V.component,"clicks-elements":Mt(p),"onUpdate:clicks-elements":C[0]||(C[0]=j=>Qn(p)?p.value=j:null),clicks:Mt(E),"clicks-disabled":!1,class:Mr(Mt(_v)(r.route)),route:r.route},null,8,["is","clicks-elements","clicks","class","route"]),Mt(b)?(Xt(),vn(Mt(b),{key:0,page:+r.route.path},null,8,["page"])):Yn("v-if",!0),Be(Mt(zC))],12,clt)}}}),AT=Bn(ult,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/PrintSlideClick.vue"]]),hlt=hr({props:{route:{type:null,required:!0}},setup(r){var b;const a=r;sn(Rn);const h=yi(((b=a.route.meta)==null?void 0:b.__clicksElements)||[]),p=ee(()=>a.route),y=olt(p);return(E,S)=>(Xt(),Fe(sr,null,[Be(AT,{"clicks-elements":Mt(h),"onUpdate:clicks-elements":S[0]||(S[0]=L=>Qn(h)?h.value=L:h=L),clicks:0,nav:Mt(y),route:Mt(p)},null,8,["clicks-elements","nav","route"]),Mt(e7)?Yn("v-if",!0):(Xt(!0),Fe(sr,{key:0},yf(Mt(h).length,L=>(Xt(),vn(AT,{key:L,clicks:L,nav:Mt(y),route:Mt(p)},null,8,["clicks","nav","route"]))),128))],64))}}),dlt=Bn(hlt,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/PrintSlide.vue"]]),flt={id:"print-content"},plt=hr({props:{width:{type:Number,required:!0}},setup(r){const a=r;sn(Rn);const h=ee(()=>a.width),p=ee(()=>a.width/fl),y=ee(()=>h.value/p.value),b=ee(()=>y.value<fl?h.value/pl:p.value*fl/pl);let E=Zr.slice(0,-1);Fa.value.query.range&&(E=KC(E.length,Fa.value.query.range).map(D=>E[D-1]));const S=ee(()=>({"select-none":!cr.selectable,"slidev-code-line-numbers":cr.lineNumbers}));return hs(nC,b),(L,D)=>(Xt(),Fe("div",{id:"print-container",class:Mr(Mt(S))},[d("div",flt,[(Xt(!0),Fe(sr,null,yf(Mt(E),C=>(Xt(),vn(dlt,{key:C.path,route:C},null,8,["route"]))),128))]),Os(L.$slots,"controls")],2))}});const glt=Bn(plt,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/PrintContainer.vue"]]),mlt=hr({setup(r){return sn(Rn),Oo(()=>{lh?document.body.parentNode.classList.add("print"):document.body.parentNode.classList.remove("print")}),(a,h)=>(Xt(),Fe(sr,null,[Mt(lh)?(Xt(),vn(WC,{key:0})):Yn("v-if",!0),d("div",{id:"page-root",class:"grid grid-cols-[1fr_max-content]",style:mi(Mt(dv))},[Be(glt,{class:"w-full h-full",style:mi({background:"var(--slidev-slide-container-background, black)"}),width:Mt(Ic).width.value},null,8,["style","width"])],4)],64))}});const ylt=Bn(mlt,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/Print.vue"]]);const _lt={class:"slidev-layout end"},vlt={setup(r){return sn(Rn),(a,h)=>(Xt(),Fe("div",_lt," END "))}},blt=Bn(vlt,[["__scopeId","data-v-e532b98d"],["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/layouts/end.vue"]]);function LT(r){return r.startsWith("/")?"/refactoring-with-stratified-design"+r.slice(1):r}function klt(r,a=!1){const h=r&&["#","rgb","hsl"].some(y=>r.indexOf(y)===0),p={background:h?r:void 0,color:r&&!h?"white":void 0,backgroundImage:h?void 0:r?a?`linear-gradient(#0005, #0008), url(${LT(r)})`:`url("${LT(r)}")`:void 0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"};return p.background||delete p.background,p}const wlt={class:"my-auto w-full"},xlt=hr({props:{background:{default:""}},setup(r){const a=r;sn(Rn);const h=ee(()=>klt(a.background,!0));return(p,y)=>(Xt(),Fe("div",{class:"slidev-layout cover",style:mi(Mt(h))},[d("div",wlt,[Os(p.$slots,"default")])],4))}}),Tlt=Bn(xlt,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/theme-default/layouts/cover.vue"]]),Elt=d("h1",null,"Refactoring with stratified design",-1),Clt=d("p",null,"Juho Härme",-1),Slt={setup(r){const a={layout:"cover",author:"Juho Harme",drawings:{enabled:!0}};return sn(Rn),(h,p)=>(Xt(),vn(Tlt,Mi(vi(a)),{default:Mn(()=>[Elt,Clt]),_:1},16))}},Alt=Bn(Slt,[["__file","/@slidev/slides/1.md"]]),Llt={class:"slidev-layout default"},Ilt={setup(r){return sn(Rn),(a,h)=>(Xt(),Fe("div",Llt,[Os(a.$slots,"default")]))}},Bo=Bn(Ilt,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/layouts/default.vue"]]),Mlt={setup(r){const a={};return sn(Rn),(h,p)=>(Xt(),vn(Bo,Mi(vi(a)),null,16))}},Nlt=Bn(Mlt,[["__file","/@slidev/slides/2.md"]]),vf=hr({props:{every:{type:Number,default:1},at:{type:[Number,String],default:null},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1}},render(){var b,E;const r=y_("click"),a=y_("after"),h=(S,L,D)=>Sc(S,[[L,this.at!=null?+this.at+D:null,"",{hide:this.hide,fade:this.fade}]]);let p=(E=(b=this.$slots).default)==null?void 0:E.call(b);if(!p)return;p=ctt(p);const y=S=>S.map((L,D)=>yl(L)?h(ah(L),D%this.every===0?r:a,Math.floor(D/this.every)):L);return p.length===1&&["ul","ol"].includes(p[0].type)&&Array.isArray(p[0].children)?ah(p[0],{},[y(p[0].children)]):y(p)}}),ig=hr({props:{at:{type:[Number,String],default:null},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1}},render(){return Be(vf,{every:99999,at:this.at,hide:this.hide,fade:this.fade},{default:this.$slots.default})}}),Olt={class:"slidev-layout intro"},Dlt={class:"my-auto"},Rlt={setup(r){return sn(Rn),(a,h)=>(Xt(),Fe("div",Olt,[d("div",Dlt,[Os(a.$slots,"default")])]))}},Blt=Bn(Rlt,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/theme-default/layouts/intro.vue"]]),Plt=d("h1",null,"Outline",-1),Flt=d("ul",null,[d("li",null,"Some background"),d("li",null,"Stratified design as a concept"),d("li",null,"A somewhat modified example from a real-world API")],-1),Vlt=d("p",null,[d("img",{src:"https://hrmj.github.io/refactoring-with-stratified-design/wikipedia_ss.png",alt:"stratum is latin"})],-1),Ylt={setup(r){const a={layout:"intro",other:"none"};return sn(Rn),(h,p)=>{const y=vf,b=ig;return Xt(),vn(Blt,Mi(vi(a)),{default:Mn(()=>[Plt,Be(y,null,{default:Mn(()=>[Flt]),_:1}),Yn(`

So, just to quickly sum up the journey I'm trying to take you guys onto:

- First, a bit of background: why is this a thing
- Then let's define the terms and de-mystify the word stratified
- And after that's out of the way let's look at an example


`),Be(b,null,{default:Mn(()=>[Vlt]),_:1})]),_:1},16)}}},$lt=Bn(Ylt,[["__file","/@slidev/slides/3.md"]]),Ult=d("h1",null,"What’s the point?",-1),zlt=d("ul",null,[d("li",null,"Readability, maintainability, testability etc"),d("li",null,"Ability to work on the correct level of detail"),d("li",null,"Power of conceptualization")],-1),Hlt={setup(r){const a={};return sn(Rn),(h,p)=>{const y=vf;return Xt(),vn(Bo,Mi(vi(a)),{default:Mn(()=>[Ult,Be(y,null,{default:Mn(()=>[zlt]),_:1})]),_:1},16)}}},Wlt=Bn(Hlt,[["__file","/@slidev/slides/4.md"]]),jlt={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},qlt=d("path",{fill:"currentColor",d:"M200 32h-36.3a47.8 47.8 0 0 0-71.4 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32.1 32.1 0 0 1 32 32H96a32.1 32.1 0 0 1 32-32Zm72 184H56V48h26.8A47.2 47.2 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.2 47.2 0 0 0-2.8-16H200Z"},null,-1),Glt=[qlt];function Xlt(r,a){return Xt(),Fe("svg",jlt,Glt)}const Klt={name:"ph-clipboard",render:Xlt},Zlt={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Qlt=d("path",{fill:"currentColor",d:"M177.8 98.5a8 8 0 0 1-.3 11.3l-58.6 56a8.1 8.1 0 0 1-5.6 2.2a7.9 7.9 0 0 1-5.5-2.2l-29.3-28a8 8 0 1 1 11-11.6l23.8 22.7l53.2-50.7a8 8 0 0 1 11.3.3ZM232 128A104 104 0 1 1 128 24a104.2 104.2 0 0 1 104 104Zm-16 0a88 88 0 1 0-88 88a88.1 88.1 0 0 0 88-88Z"},null,-1),Jlt=[Qlt];function tct(r,a){return Xt(),Fe("svg",Zlt,Jlt)}const ect={name:"ph-check-circle",render:tct},nct=["title"],rct=hr({props:{ranges:{default:()=>[]},at:{type:Number,default:void 0},maxHeight:{type:String,default:void 0}},setup(r){const a=r;sn(Rn);const h=sn(JE),p=sn(tC),y=sn(eC);function b(V=5){const j=[],rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",it=rt.length;for(let Tt=0;Tt<V;Tt++)j.push(rt.charAt(Math.floor(Math.random()*it)));return j.join("")}const E=Xe(),S=fa();mf(()=>{const V=a.at==null?p==null?void 0:p.value.length:a.at,j=ee(()=>y!=null&&y.value?a.ranges.length-1:Math.min(Math.max(0,((h==null?void 0:h.value)||0)-(V||0)),a.ranges.length-1)),rt=ee(()=>a.ranges[j.value]||"");if(a.ranges.length>=2&&!(y!=null&&y.value)){const it=b(),Tt=htt(a.ranges.length-1).map(Ct=>it+Ct);p!=null&&p.value&&(p.value.push(...Tt),Q0(()=>Tt.forEach(Ct=>utt(p.value,Ct)),S))}Oo(()=>{if(!E.value)return;const Tt=E.value.querySelector(".shiki-dark")?Array.from(E.value.querySelectorAll(".shiki")):[E.value];for(const Ct of Tt){const $t=Array.from(Ct.querySelectorAll(".line")),Rt=KC($t.length,rt.value);if($t.forEach((Kt,de)=>{const ke=Rt.includes(de+1);Kt.classList.toggle(ltt,!0),Kt.classList.toggle("highlighted",ke),Kt.classList.toggle("dishonored",!ke)}),a.maxHeight){const Kt=Ct.querySelector(".line.highlighted");Kt&&Kt.scrollIntoView({behavior:"smooth",block:"center"})}}})});const{copied:L,copy:D}=oet();function C(){var j,rt;const V=(rt=(j=E.value)==null?void 0:j.querySelector(".slidev-code"))==null?void 0:rt.textContent;V&&D(V)}return(V,j)=>{const rt=ect,it=Klt;return Xt(),Fe("div",{ref_key:"el",ref:E,class:"slidev-code-wrapper relative group",style:mi({"max-height":a.maxHeight,"overflow-y":a.maxHeight?"scroll":void 0})},[Os(V.$slots,"default"),Mt(cr).codeCopy?(Xt(),Fe("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:Mt(L)?"Copied":"Copy",onClick:j[0]||(j[0]=Tt=>C())},[Mt(L)?(Xt(),vn(rt,{key:0,class:"p-2 w-8 h-8"})):(Xt(),vn(it,{key:1,class:"p-2 w-8 h-8"}))],8,nct)):Yn("v-if",!0)],4)}}}),bl=Bn(rct,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/builtin/CodeBlockWrapper.vue"]]),ict=d("pre",{class:"slidev-code language-typescript"},[d("code",null,[d("span",{class:"line"},[d("span",{class:"token keyword"},"const"),v(" users"),d("span",{class:"token operator"},":"),v(" Player "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"[")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"{"),v(" name"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token string"},'"Paul"'),d("span",{class:"token punctuation"},","),v(" id"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token number"},"1"),d("span",{class:"token punctuation"},","),v(" strokes"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token keyword"},"undefined"),d("span",{class:"token punctuation"},","),v(" rank"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token keyword"},"undefined"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"{"),v(" name"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token string"},'"Ricky"'),d("span",{class:"token punctuation"},","),v(" id"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token number"},"2"),d("span",{class:"token punctuation"},","),v(" strokes"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token keyword"},"undefined"),d("span",{class:"token punctuation"},","),v(" rank"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token keyword"},"undefined"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token keyword"},"const"),v(" holes"),d("span",{class:"token operator"},":"),v(" Hole "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"[")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"{"),v(" no"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token number"},"1"),d("span",{class:"token punctuation"},","),v(" par"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token number"},"3"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"{"),v(" no"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token number"},"2"),d("span",{class:"token punctuation"},","),v(" par"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token number"},"3"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"{"),v(" no"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token number"},"3"),d("span",{class:"token punctuation"},","),v(" par"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token number"},"4"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token keyword"},"const"),v(" scoreCards"),d("span",{class:"token operator"},":"),v(" ScoreCard "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"[")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"{"),v(" userId"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token number"},"1"),d("span",{class:"token punctuation"},","),v(" strokes"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token punctuation"},"["),d("span",{class:"token number"},"2"),d("span",{class:"token punctuation"},","),v(),d("span",{class:"token number"},"2"),d("span",{class:"token punctuation"},","),v(),d("span",{class:"token number"},"4"),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"{"),v(" userId"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token number"},"2"),d("span",{class:"token punctuation"},","),v(" strokes"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token punctuation"},"["),d("span",{class:"token number"},"2"),d("span",{class:"token punctuation"},","),v(),d("span",{class:"token number"},"2"),d("span",{class:"token punctuation"},","),v(),d("span",{class:"token number"},"3"),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")])])],-1),sct={setup(r){const a={};return sn(Rn),(h,p)=>{const y=bl,b=vf;return Xt(),vn(Bo,Mi(vi(a)),{default:Mn(()=>[Be(b,null,{default:Mn(()=>[Be(y,gs({},{ranges:["0","1-4","5-9","10-13"]}),{default:Mn(()=>[ict]),_:1},16)]),_:1})]),_:1},16)}}},act=Bn(sct,[["__file","/@slidev/slides/5.md"]]);var F0={},oct={get exports(){return F0},set exports(r){F0=r}};(function(r,a){var h=Object.defineProperty,p=(b,E,S)=>E in b?h(b,E,{enumerable:!0,configurable:!0,writable:!0,value:S}):b[E]=S,y=(b,E,S)=>(p(b,typeof E!="symbol"?E+"":E,S),S);(function(b,E){r.exports=E()})(ac,function(){var b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ac<"u"?ac:typeof self<"u"?self:{};function E(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var S={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(b,function(){var n;function i(){return n.apply(null,arguments)}function s(m){return m instanceof Array||Object.prototype.toString.call(m)==="[object Array]"}function o(m){return m!=null&&Object.prototype.toString.call(m)==="[object Object]"}function l(m,T){return Object.prototype.hasOwnProperty.call(m,T)}function u(m){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(m).length===0;for(var T in m)if(l(m,T))return;return 1}function f(m){return m===void 0}function g(m){return typeof m=="number"||Object.prototype.toString.call(m)==="[object Number]"}function _(m){return m instanceof Date||Object.prototype.toString.call(m)==="[object Date]"}function k(m,T){for(var N=[],F=m.length,K=0;K<F;++K)N.push(T(m[K],K));return N}function w(m,T){for(var N in T)l(T,N)&&(m[N]=T[N]);return l(T,"toString")&&(m.toString=T.toString),l(T,"valueOf")&&(m.valueOf=T.valueOf),m}function x(m,T,N,F){return pi(m,T,N,F,!0).utc()}function M(m){return m._pf==null&&(m._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),m._pf}function R(m){if(m._isValid==null){var T=M(m),N=U.call(T.parsedDateParts,function(F){return F!=null}),N=!isNaN(m._d.getTime())&&T.overflow<0&&!T.empty&&!T.invalidEra&&!T.invalidMonth&&!T.invalidWeekday&&!T.weekdayMismatch&&!T.nullInput&&!T.invalidFormat&&!T.userInvalidated&&(!T.meridiem||T.meridiem&&N);if(m._strict&&(N=N&&T.charsLeftOver===0&&T.unusedTokens.length===0&&T.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen(m))return N;m._isValid=N}return m._isValid}function B(m){var T=x(NaN);return m!=null?w(M(T),m):M(T).userInvalidated=!0,T}var U=Array.prototype.some||function(m){for(var T=Object(this),N=T.length>>>0,F=0;F<N;F++)if(F in T&&m.call(this,T[F],F,T))return!0;return!1},Y=i.momentProperties=[],X=!1;function Q(m,T){var N,F,K,wt=Y.length;if(f(T._isAMomentObject)||(m._isAMomentObject=T._isAMomentObject),f(T._i)||(m._i=T._i),f(T._f)||(m._f=T._f),f(T._l)||(m._l=T._l),f(T._strict)||(m._strict=T._strict),f(T._tzm)||(m._tzm=T._tzm),f(T._isUTC)||(m._isUTC=T._isUTC),f(T._offset)||(m._offset=T._offset),f(T._pf)||(m._pf=M(T)),f(T._locale)||(m._locale=T._locale),0<wt)for(N=0;N<wt;N++)f(K=T[F=Y[N]])||(m[F]=K);return m}function at(m){Q(this,m),this._d=new Date(m._d!=null?m._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),X===!1&&(X=!0,i.updateOffset(this),X=!1)}function lt(m){return m instanceof at||m!=null&&m._isAMomentObject!=null}function J(m){i.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+m)}function ot(m,T){var N=!0;return w(function(){if(i.deprecationHandler!=null&&i.deprecationHandler(null,m),N){for(var F,K,wt=[],Yt=arguments.length,Jt=0;Jt<Yt;Jt++){if(F="",typeof arguments[Jt]=="object"){for(K in F+=`
[`+Jt+"] ",arguments[0])l(arguments[0],K)&&(F+=K+": "+arguments[0][K]+", ");F=F.slice(0,-2)}else F=arguments[Jt];wt.push(F)}J(m+`
Arguments: `+Array.prototype.slice.call(wt).join("")+`
`+new Error().stack),N=!1}return T.apply(this,arguments)},T)}var q={};function H(m,T){i.deprecationHandler!=null&&i.deprecationHandler(m,T),q[m]||(J(T),q[m]=!0)}function $(m){return typeof Function<"u"&&m instanceof Function||Object.prototype.toString.call(m)==="[object Function]"}function O(m,T){var N,F=w({},m);for(N in T)l(T,N)&&(o(m[N])&&o(T[N])?(F[N]={},w(F[N],m[N]),w(F[N],T[N])):T[N]!=null?F[N]=T[N]:delete F[N]);for(N in m)l(m,N)&&!l(T,N)&&o(m[N])&&(F[N]=w({},F[N]));return F}function W(m){m!=null&&this.set(m)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;var A=Object.keys||function(m){var T,N=[];for(T in m)l(m,T)&&N.push(T);return N};function mt(m,T,N){var F=""+Math.abs(m);return(0<=m?N?"+":"":"-")+Math.pow(10,Math.max(0,T-F.length)).toString().substr(1)+F}var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,It=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,le={},qt={};function ut(m,T,N,F){var K=typeof F=="string"?function(){return this[F]()}:F;m&&(qt[m]=K),T&&(qt[T[0]]=function(){return mt(K.apply(this,arguments),T[1],T[2])}),N&&(qt[N]=function(){return this.localeData().ordinal(K.apply(this,arguments),m)})}function St(m,T){return m.isValid()?(T=bt(T,m.localeData()),le[T]=le[T]||function(N){for(var F,K=N.match(I),wt=0,Yt=K.length;wt<Yt;wt++)qt[K[wt]]?K[wt]=qt[K[wt]]:K[wt]=(F=K[wt]).match(/\[[\s\S]/)?F.replace(/^\[|\]$/g,""):F.replace(/\\/g,"");return function(Jt){for(var xe="",ye=0;ye<Yt;ye++)xe+=$(K[ye])?K[ye].call(Jt,N):K[ye];return xe}}(T),le[T](m)):m.localeData().invalidDate()}function bt(m,T){var N=5;function F(K){return T.longDateFormat(K)||K}for(It.lastIndex=0;0<=N&&It.test(m);)m=m.replace(It,F),It.lastIndex=0,--N;return m}var kt={};function Lt(m,T){var N=m.toLowerCase();kt[N]=kt[N+"s"]=kt[T]=m}function Ht(m){return typeof m=="string"?kt[m]||kt[m.toLowerCase()]:void 0}function pt(m){var T,N,F={};for(N in m)l(m,N)&&(T=Ht(N))&&(F[T]=m[N]);return F}var _e={};function tt(m,T){_e[m]=T}function st(m){return m%4==0&&m%100!=0||m%400==0}function dt(m){return m<0?Math.ceil(m)||0:Math.floor(m)}function Z(T){var T=+T,N=0;return N=T!=0&&isFinite(T)?dt(T):N}function G(m,T){return function(N){return N!=null?(yt(this,m,N),i.updateOffset(this,T),this):z(this,m)}}function z(m,T){return m.isValid()?m._d["get"+(m._isUTC?"UTC":"")+T]():NaN}function yt(m,T,N){m.isValid()&&!isNaN(N)&&(T==="FullYear"&&st(m.year())&&m.month()===1&&m.date()===29?(N=Z(N),m._d["set"+(m._isUTC?"UTC":"")+T](N,m.month(),Ot(N,m.month()))):m._d["set"+(m._isUTC?"UTC":"")+T](N))}var P=/\d/,gn=/\d\d/,Nt=/\d{3}/,ic=/\d{4}/,nl=/[+-]?\d{6}/,nt=/\d\d?/,Ee=/\d\d\d\d?/,vt=/\d\d\d\d\d\d?/,fe=/\d{1,3}/,rl=/\d{1,4}/,el=/[+-]?\d{1,6}/,Zt=/\d+/,Pt=/[+-]?\d+/,Qt=/Z|[+-]\d\d:?\d\d/gi,Gt=/Z|[+-]\d\d(?::?\d\d)?/gi,Bt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function xt(m,T,N){ze[m]=$(T)?T:function(F,K){return F&&N?N:T}}function pn(m,T){return l(ze,m)?ze[m](T._strict,T._locale):new RegExp(We(m.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(N,F,K,wt,Yt){return F||K||wt||Yt})))}function We(m){return m.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ze={},qe={};function Ve(m,T){var N,F,K=T;for(typeof m=="string"&&(m=[m]),g(T)&&(K=function(wt,Yt){Yt[T]=Z(wt)}),F=m.length,N=0;N<F;N++)qe[m[N]]=K}function Hn(m,T){Ve(m,function(N,F,K,wt){K._w=K._w||{},T(N,K._w,K,wt)})}var Re,Ce=0,we=1,Wt=2,Dt=3,oe=4,zt=5,Se=6,Et=7,un=8;function Ot(m,T){if(isNaN(m)||isNaN(T))return NaN;var N=(T%(N=12)+N)%N;return m+=(T-N)/12,N==1?st(m)?29:28:31-N%7%2}Re=Array.prototype.indexOf||function(m){for(var T=0;T<this.length;++T)if(this[T]===m)return T;return-1},ut("M",["MM",2],"Mo",function(){return this.month()+1}),ut("MMM",0,0,function(m){return this.localeData().monthsShort(this,m)}),ut("MMMM",0,0,function(m){return this.localeData().months(this,m)}),Lt("month","M"),tt("month",8),xt("M",nt),xt("MM",nt,gn),xt("MMM",function(m,T){return T.monthsShortRegex(m)}),xt("MMMM",function(m,T){return T.monthsRegex(m)}),Ve(["M","MM"],function(m,T){T[we]=Z(m)-1}),Ve(["MMM","MMMM"],function(m,T,N,F){F=N._locale.monthsParse(m,F,N._strict),F!=null?T[we]=F:M(N).invalidMonth=m});var nn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),kn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ln=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,In=Bt,Pn=Bt;function He(m,T){var N;if(m.isValid()){if(typeof T=="string"){if(/^\d+$/.test(T))T=Z(T);else if(!g(T=m.localeData().monthsParse(T)))return}N=Math.min(m.date(),Ot(m.year(),T)),m._d["set"+(m._isUTC?"UTC":"")+"Month"](T,N)}}function hn(m){return m!=null?(He(this,m),i.updateOffset(this,!0),this):z(this,"Month")}function En(){function m(Yt,Jt){return Jt.length-Yt.length}for(var T,N=[],F=[],K=[],wt=0;wt<12;wt++)T=x([2e3,wt]),N.push(this.monthsShort(T,"")),F.push(this.months(T,"")),K.push(this.months(T,"")),K.push(this.monthsShort(T,""));for(N.sort(m),F.sort(m),K.sort(m),wt=0;wt<12;wt++)N[wt]=We(N[wt]),F[wt]=We(F[wt]);for(wt=0;wt<24;wt++)K[wt]=We(K[wt]);this._monthsRegex=new RegExp("^("+K.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+F.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+N.join("|")+")","i")}function Je(m){return st(m)?366:365}ut("Y",0,0,function(){var m=this.year();return m<=9999?mt(m,4):"+"+m}),ut(0,["YY",2],0,function(){return this.year()%100}),ut(0,["YYYY",4],0,"year"),ut(0,["YYYYY",5],0,"year"),ut(0,["YYYYYY",6,!0],0,"year"),Lt("year","y"),tt("year",1),xt("Y",Pt),xt("YY",nt,gn),xt("YYYY",rl,ic),xt("YYYYY",el,nl),xt("YYYYYY",el,nl),Ve(["YYYYY","YYYYYY"],Ce),Ve("YYYY",function(m,T){T[Ce]=m.length===2?i.parseTwoDigitYear(m):Z(m)}),Ve("YY",function(m,T){T[Ce]=i.parseTwoDigitYear(m)}),Ve("Y",function(m,T){T[Ce]=parseInt(m,10)}),i.parseTwoDigitYear=function(m){return Z(m)+(68<Z(m)?1900:2e3)};var r0=G("FullYear",!0);function ra(m,T,N,F,K,wt,Yt){var Jt;return m<100&&0<=m?(Jt=new Date(m+400,T,N,F,K,wt,Yt),isFinite(Jt.getFullYear())&&Jt.setFullYear(m)):Jt=new Date(m,T,N,F,K,wt,Yt),Jt}function os(m){var T;return m<100&&0<=m?((T=Array.prototype.slice.call(arguments))[0]=m+400,T=new Date(Date.UTC.apply(null,T)),isFinite(T.getUTCFullYear())&&T.setUTCFullYear(m)):T=new Date(Date.UTC.apply(null,arguments)),T}function or(m,T,N){return N=7+T-N,N-(7+os(m,0,N).getUTCDay()-T)%7-1}function dn(m,Yt,Jt,F,K){var wt,Yt=1+7*(Yt-1)+(7+Jt-F)%7+or(m,F,K),Jt=Yt<=0?Je(wt=m-1)+Yt:Yt>Je(m)?(wt=m+1,Yt-Je(m)):(wt=m,Yt);return{year:wt,dayOfYear:Jt}}function mr(m,T,N){var F,K,wt=or(m.year(),T,N),wt=Math.floor((m.dayOfYear()-wt-1)/7)+1;return wt<1?F=wt+vr(K=m.year()-1,T,N):wt>vr(m.year(),T,N)?(F=wt-vr(m.year(),T,N),K=m.year()+1):(K=m.year(),F=wt),{week:F,year:K}}function vr(m,K,N){var F=or(m,K,N),K=or(m+1,K,N);return(Je(m)-F+K)/7}ut("w",["ww",2],"wo","week"),ut("W",["WW",2],"Wo","isoWeek"),Lt("week","w"),Lt("isoWeek","W"),tt("week",5),tt("isoWeek",5),xt("w",nt),xt("ww",nt,gn),xt("W",nt),xt("WW",nt,gn),Hn(["w","ww","W","WW"],function(m,T,N,F){T[F.substr(0,1)]=Z(m)});function kr(m,T){return m.slice(T,7).concat(m.slice(0,T))}ut("d",0,"do","day"),ut("dd",0,0,function(m){return this.localeData().weekdaysMin(this,m)}),ut("ddd",0,0,function(m){return this.localeData().weekdaysShort(this,m)}),ut("dddd",0,0,function(m){return this.localeData().weekdays(this,m)}),ut("e",0,0,"weekday"),ut("E",0,0,"isoWeekday"),Lt("day","d"),Lt("weekday","e"),Lt("isoWeekday","E"),tt("day",11),tt("weekday",11),tt("isoWeekday",11),xt("d",nt),xt("e",nt),xt("E",nt),xt("dd",function(m,T){return T.weekdaysMinRegex(m)}),xt("ddd",function(m,T){return T.weekdaysShortRegex(m)}),xt("dddd",function(m,T){return T.weekdaysRegex(m)}),Hn(["dd","ddd","dddd"],function(m,T,N,F){F=N._locale.weekdaysParse(m,F,N._strict),F!=null?T.d=F:M(N).invalidWeekday=m}),Hn(["d","e","E"],function(m,T,N,F){T[F]=Z(m)});var wr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Br="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Gr=Bt,Ae=Bt,gt=Bt;function ie(){function m(ye,mn){return mn.length-ye.length}for(var T,N,F,K=[],wt=[],Yt=[],Jt=[],xe=0;xe<7;xe++)F=x([2e3,1]).day(xe),T=We(this.weekdaysMin(F,"")),N=We(this.weekdaysShort(F,"")),F=We(this.weekdays(F,"")),K.push(T),wt.push(N),Yt.push(F),Jt.push(T),Jt.push(N),Jt.push(F);K.sort(m),wt.sort(m),Yt.sort(m),Jt.sort(m),this._weekdaysRegex=new RegExp("^("+Jt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Yt.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+wt.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+K.join("|")+")","i")}function pe(){return this.hours()%12||12}function wn(m,T){ut(m,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),T)})}function lr(m,T){return T._meridiemParse}ut("H",["HH",2],0,"hour"),ut("h",["hh",2],0,pe),ut("k",["kk",2],0,function(){return this.hours()||24}),ut("hmm",0,0,function(){return""+pe.apply(this)+mt(this.minutes(),2)}),ut("hmmss",0,0,function(){return""+pe.apply(this)+mt(this.minutes(),2)+mt(this.seconds(),2)}),ut("Hmm",0,0,function(){return""+this.hours()+mt(this.minutes(),2)}),ut("Hmmss",0,0,function(){return""+this.hours()+mt(this.minutes(),2)+mt(this.seconds(),2)}),wn("a",!0),wn("A",!1),Lt("hour","h"),tt("hour",13),xt("a",lr),xt("A",lr),xt("H",nt),xt("h",nt),xt("k",nt),xt("HH",nt,gn),xt("hh",nt,gn),xt("kk",nt,gn),xt("hmm",Ee),xt("hmmss",vt),xt("Hmm",Ee),xt("Hmmss",vt),Ve(["H","HH"],Dt),Ve(["k","kk"],function(m,T,N){m=Z(m),T[Dt]=m===24?0:m}),Ve(["a","A"],function(m,T,N){N._isPm=N._locale.isPM(m),N._meridiem=m}),Ve(["h","hh"],function(m,T,N){T[Dt]=Z(m),M(N).bigHour=!0}),Ve("hmm",function(m,T,N){var F=m.length-2;T[Dt]=Z(m.substr(0,F)),T[oe]=Z(m.substr(F)),M(N).bigHour=!0}),Ve("hmmss",function(m,T,N){var F=m.length-4,K=m.length-2;T[Dt]=Z(m.substr(0,F)),T[oe]=Z(m.substr(F,2)),T[zt]=Z(m.substr(K)),M(N).bigHour=!0}),Ve("Hmm",function(m,T,N){var F=m.length-2;T[Dt]=Z(m.substr(0,F)),T[oe]=Z(m.substr(F))}),Ve("Hmmss",function(m,T,N){var F=m.length-4,K=m.length-2;T[Dt]=Z(m.substr(0,F)),T[oe]=Z(m.substr(F,2)),T[zt]=Z(m.substr(K))}),Bt=G("Hours",!0);var nr,Lr={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:nn,monthsShort:kn,week:{dow:0,doy:6},weekdays:wr,weekdaysMin:Br,weekdaysShort:yr,meridiemParse:/[ap]\.?m?\.?/i},On={},fr={};function Qo(m){return m&&m.toLowerCase().replace("_","-")}function Jo(m){for(var T,N,F,K,wt=0;wt<m.length;){for(T=(K=Qo(m[wt]).split("-")).length,N=(N=Qo(m[wt+1]))?N.split("-"):null;0<T;){if(F=Qi(K.slice(0,T).join("-")))return F;if(N&&N.length>=T&&function(Yt,Jt){for(var xe=Math.min(Yt.length,Jt.length),ye=0;ye<xe;ye+=1)if(Yt[ye]!==Jt[ye])return ye;return xe}(K,N)>=T-1)break;T--}wt++}return nr}function Qi(m){var T;if(On[m]===void 0&&t&&t.exports&&m.match("^[^/\\\\]*$")!=null)try{T=nr._abbr,E("./locale/"+m),Ye(T)}catch{On[m]=null}return On[m]}function Ye(m,T){return m&&((T=f(T)?fn(m):tn(m,T))?nr=T:typeof console<"u"&&console.warn&&console.warn("Locale "+m+" not found. Did you forget to load it?")),nr._abbr}function tn(m,T){if(T===null)return delete On[m],null;var N,F=Lr;if(T.abbr=m,On[m]!=null)H("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),F=On[m]._config;else if(T.parentLocale!=null)if(On[T.parentLocale]!=null)F=On[T.parentLocale]._config;else{if((N=Qi(T.parentLocale))==null)return fr[T.parentLocale]||(fr[T.parentLocale]=[]),fr[T.parentLocale].push({name:m,config:T}),null;F=N._config}return On[m]=new W(O(F,T)),fr[m]&&fr[m].forEach(function(K){tn(K.name,K.config)}),Ye(m),On[m]}function fn(m){var T;if(!(m=m&&m._locale&&m._locale._abbr?m._locale._abbr:m))return nr;if(!s(m)){if(T=Qi(m))return T;m=[m]}return Jo(m)}function be(m){var T=m._a;return T&&M(m).overflow===-2&&(T=T[we]<0||11<T[we]?we:T[Wt]<1||T[Wt]>Ot(T[Ce],T[we])?Wt:T[Dt]<0||24<T[Dt]||T[Dt]===24&&(T[oe]!==0||T[zt]!==0||T[Se]!==0)?Dt:T[oe]<0||59<T[oe]?oe:T[zt]<0||59<T[zt]?zt:T[Se]<0||999<T[Se]?Se:-1,M(m)._overflowDayOfYear&&(T<Ce||Wt<T)&&(T=Wt),M(m)._overflowWeeks&&T===-1&&(T=Et),M(m)._overflowWeekday&&T===-1&&(T=un),M(m).overflow=T),m}var xr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ct=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tc=/Z|[+-]\d\d(?::?\d\d)?/,_t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ai=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Kp=/^\/?Date\((-?\d+)/i,M2=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Zp={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Qp(m){var T,N,F,K,wt,Yt,xe=m._i,Jt=xr.exec(xe)||ct.exec(xe),xe=_t.length,ye=Ai.length;if(Jt){for(M(m).iso=!0,T=0,N=xe;T<N;T++)if(_t[T][1].exec(Jt[1])){K=_t[T][0],F=_t[T][2]!==!1;break}if(K==null)m._isValid=!1;else{if(Jt[3]){for(T=0,N=ye;T<N;T++)if(Ai[T][1].exec(Jt[3])){wt=(Jt[2]||" ")+Ai[T][0];break}if(wt==null)return void(m._isValid=!1)}if(F||wt==null){if(Jt[4]){if(!tc.exec(Jt[4]))return void(m._isValid=!1);Yt="Z"}m._f=K+(wt||"")+(Yt||""),Md(m)}else m._isValid=!1}}else m._isValid=!1}function Xr(m,T,N,F,K,wt){return m=[function(Yt){Yt=parseInt(Yt,10);{if(Yt<=49)return 2e3+Yt;if(Yt<=999)return 1900+Yt}return Yt}(m),kn.indexOf(T),parseInt(N,10),parseInt(F,10),parseInt(K,10)],wt&&m.push(parseInt(wt,10)),m}function Ia(m){var T,N,F,K,wt=M2.exec(m._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));wt?(T=Xr(wt[4],wt[3],wt[2],wt[5],wt[6],wt[7]),N=wt[1],F=T,K=m,N&&yr.indexOf(N)!==new Date(F[0],F[1],F[2]).getDay()?(M(K).weekdayMismatch=!0,K._isValid=!1):(m._a=T,m._tzm=(N=wt[8],F=wt[9],K=wt[10],N?Zp[N]:F?0:60*(((N=parseInt(K,10))-(F=N%100))/100)+F),m._d=os.apply(null,m._a),m._d.setUTCMinutes(m._d.getUTCMinutes()-m._tzm),M(m).rfc2822=!0)):m._isValid=!1}function Ma(m,T,N){return m??T??N}function ec(m){var T,N,F,K,wt,Yt,Jt,xe,ye,mn,rn,Ir=[];if(!m._d){for(F=m,K=new Date(i.now()),N=F._useUTC?[K.getUTCFullYear(),K.getUTCMonth(),K.getUTCDate()]:[K.getFullYear(),K.getMonth(),K.getDate()],m._w&&m._a[Wt]==null&&m._a[we]==null&&((K=(F=m)._w).GG!=null||K.W!=null||K.E!=null?(xe=1,ye=4,wt=Ma(K.GG,F._a[Ce],mr(Zn(),1,4).year),Yt=Ma(K.W,1),((Jt=Ma(K.E,1))<1||7<Jt)&&(mn=!0)):(xe=F._locale._week.dow,ye=F._locale._week.doy,rn=mr(Zn(),xe,ye),wt=Ma(K.gg,F._a[Ce],rn.year),Yt=Ma(K.w,rn.week),K.d!=null?((Jt=K.d)<0||6<Jt)&&(mn=!0):K.e!=null?(Jt=K.e+xe,(K.e<0||6<K.e)&&(mn=!0)):Jt=xe),Yt<1||Yt>vr(wt,xe,ye)?M(F)._overflowWeeks=!0:mn!=null?M(F)._overflowWeekday=!0:(rn=dn(wt,Yt,Jt,xe,ye),F._a[Ce]=rn.year,F._dayOfYear=rn.dayOfYear)),m._dayOfYear!=null&&(K=Ma(m._a[Ce],N[Ce]),(m._dayOfYear>Je(K)||m._dayOfYear===0)&&(M(m)._overflowDayOfYear=!0),mn=os(K,0,m._dayOfYear),m._a[we]=mn.getUTCMonth(),m._a[Wt]=mn.getUTCDate()),T=0;T<3&&m._a[T]==null;++T)m._a[T]=Ir[T]=N[T];for(;T<7;T++)m._a[T]=Ir[T]=m._a[T]==null?T===2?1:0:m._a[T];m._a[Dt]===24&&m._a[oe]===0&&m._a[zt]===0&&m._a[Se]===0&&(m._nextDay=!0,m._a[Dt]=0),m._d=(m._useUTC?os:ra).apply(null,Ir),wt=m._useUTC?m._d.getUTCDay():m._d.getDay(),m._tzm!=null&&m._d.setUTCMinutes(m._d.getUTCMinutes()-m._tzm),m._nextDay&&(m._a[Dt]=24),m._w&&m._w.d!==void 0&&m._w.d!==wt&&(M(m).weekdayMismatch=!0)}}function Md(m){if(m._f===i.ISO_8601)Qp(m);else if(m._f===i.RFC_2822)Ia(m);else{m._a=[],M(m).empty=!0;for(var T,N,F,K,wt,Yt=""+m._i,Jt=Yt.length,xe=0,ye=bt(m._f,m._locale).match(I)||[],mn=ye.length,rn=0;rn<mn;rn++)N=ye[rn],(T=(Yt.match(pn(N,m))||[])[0])&&(0<(F=Yt.substr(0,Yt.indexOf(T))).length&&M(m).unusedInput.push(F),Yt=Yt.slice(Yt.indexOf(T)+T.length),xe+=T.length),qt[N]?(T?M(m).empty=!1:M(m).unusedTokens.push(N),F=N,wt=m,(K=T)!=null&&l(qe,F)&&qe[F](K,wt._a,wt,F)):m._strict&&!T&&M(m).unusedTokens.push(N);M(m).charsLeftOver=Jt-xe,0<Yt.length&&M(m).unusedInput.push(Yt),m._a[Dt]<=12&&M(m).bigHour===!0&&0<m._a[Dt]&&(M(m).bigHour=void 0),M(m).parsedDateParts=m._a.slice(0),M(m).meridiem=m._meridiem,m._a[Dt]=function(Ir,Kr,aa){return aa==null?Kr:Ir.meridiemHour!=null?Ir.meridiemHour(Kr,aa):Ir.isPM!=null?((Ir=Ir.isPM(aa))&&Kr<12&&(Kr+=12),Kr=Ir||Kr!==12?Kr:0):Kr}(m._locale,m._a[Dt],m._meridiem),(Jt=M(m).era)!==null&&(m._a[Ce]=m._locale.erasConvertYear(Jt,m._a[Ce])),ec(m),be(m)}}function Jp(m){var T,N,F,K=m._i,wt=m._f;return m._locale=m._locale||fn(m._l),K===null||wt===void 0&&K===""?B({nullInput:!0}):(typeof K=="string"&&(m._i=K=m._locale.preparse(K)),lt(K)?new at(be(K)):(_(K)?m._d=K:s(wt)?function(Yt){var Jt,xe,ye,mn,rn,Ir,Kr=!1,aa=Yt._f.length;if(aa===0)return M(Yt).invalidFormat=!0,Yt._d=new Date(NaN);for(mn=0;mn<aa;mn++)rn=0,Ir=!1,Jt=Q({},Yt),Yt._useUTC!=null&&(Jt._useUTC=Yt._useUTC),Jt._f=Yt._f[mn],Md(Jt),R(Jt)&&(Ir=!0),rn=(rn+=M(Jt).charsLeftOver)+10*M(Jt).unusedTokens.length,M(Jt).score=rn,Kr?rn<ye&&(ye=rn,xe=Jt):(ye==null||rn<ye||Ir)&&(ye=rn,xe=Jt,Ir&&(Kr=!0));w(Yt,xe||Jt)}(m):wt?Md(m):f(wt=(K=m)._i)?K._d=new Date(i.now()):_(wt)?K._d=new Date(wt.valueOf()):typeof wt=="string"?(N=K,(T=Kp.exec(N._i))!==null?N._d=new Date(+T[1]):(Qp(N),N._isValid===!1&&(delete N._isValid,Ia(N),N._isValid===!1&&(delete N._isValid,N._strict?N._isValid=!1:i.createFromInputFallback(N))))):s(wt)?(K._a=k(wt.slice(0),function(Yt){return parseInt(Yt,10)}),ec(K)):o(wt)?(T=K)._d||(F=(N=pt(T._i)).day===void 0?N.date:N.day,T._a=k([N.year,N.month,F,N.hour,N.minute,N.second,N.millisecond],function(Yt){return Yt&&parseInt(Yt,10)}),ec(T)):g(wt)?K._d=new Date(wt):i.createFromInputFallback(K),R(m)||(m._d=null),m))}function pi(m,T,N,F,K){var wt={};return T!==!0&&T!==!1||(F=T,T=void 0),N!==!0&&N!==!1||(F=N,N=void 0),(o(m)&&u(m)||s(m)&&m.length===0)&&(m=void 0),wt._isAMomentObject=!0,wt._useUTC=wt._isUTC=K,wt._l=N,wt._i=m,wt._f=T,wt._strict=F,(K=new at(be(Jp(K=wt))))._nextDay&&(K.add(1,"d"),K._nextDay=void 0),K}function Zn(m,T,N,F){return pi(m,T,N,F,!1)}i.createFromInputFallback=ot("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(m){m._d=new Date(m._i+(m._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){},Ee=ot("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var m=Zn.apply(null,arguments);return this.isValid()&&m.isValid()?m<this?this:m:B()}),vt=ot("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var m=Zn.apply(null,arguments);return this.isValid()&&m.isValid()?this<m?this:m:B()});function Vi(m,T){var N,F;if(!(T=T.length===1&&s(T[0])?T[0]:T).length)return Zn();for(N=T[0],F=1;F<T.length;++F)T[F].isValid()&&!T[F][m](N)||(N=T[F]);return N}var go=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ia(T){var T=pt(T),N=T.year||0,F=T.quarter||0,K=T.month||0,wt=T.week||T.isoWeek||0,Yt=T.day||0,Jt=T.hour||0,xe=T.minute||0,ye=T.second||0,mn=T.millisecond||0;this._isValid=function(rn){var Ir,Kr,aa=!1,F2=go.length;for(Ir in rn)if(l(rn,Ir)&&(Re.call(go,Ir)===-1||rn[Ir]!=null&&isNaN(rn[Ir])))return!1;for(Kr=0;Kr<F2;++Kr)if(rn[go[Kr]]){if(aa)return!1;parseFloat(rn[go[Kr]])!==Z(rn[go[Kr]])&&(aa=!0)}return!0}(T),this._milliseconds=+mn+1e3*ye+6e4*xe+1e3*Jt*60*60,this._days=+Yt+7*wt,this._months=+K+3*F+12*N,this._data={},this._locale=fn(),this._bubble()}function mo(m){return m instanceof ia}function ls(m){return m<0?-1*Math.round(-1*m):Math.round(m)}function Nd(m,T){ut(m,0,0,function(){var N=this.utcOffset(),F="+";return N<0&&(N=-N,F="-"),F+mt(~~(N/60),2)+T+mt(~~N%60,2)})}Nd("Z",":"),Nd("ZZ",""),xt("Z",Gt),xt("ZZ",Gt),Ve(["Z","ZZ"],function(m,T,N){N._useUTC=!0,N._tzm=nc(Gt,m)});var Yu=/([\+\-]|\d\d)/gi;function nc(m,N){var N=(N||"").match(m);return N===null?null:(N=60*(m=((N[N.length-1]||[])+"").match(Yu)||["-",0,0])[1]+Z(m[2]))===0?0:m[0]==="+"?N:-N}function cs(m,T){var N;return T._isUTC?(T=T.clone(),N=(lt(m)||_(m)?m:Zn(m)).valueOf()-T.valueOf(),T._d.setTime(T._d.valueOf()+N),i.updateOffset(T,!1),T):Zn(m).local()}function N2(m){return-Math.round(m._d.getTimezoneOffset())}function I6(){return!!this.isValid()&&this._isUTC&&this._offset===0}i.updateOffset=function(){};var BK=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,PK=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function sa(m,T){var N,F=m,K=null;return mo(m)?F={ms:m._milliseconds,d:m._days,M:m._months}:g(m)||!isNaN(+m)?(F={},T?F[T]=+m:F.milliseconds=+m):(K=BK.exec(m))?(N=K[1]==="-"?-1:1,F={y:0,d:Z(K[Wt])*N,h:Z(K[Dt])*N,m:Z(K[oe])*N,s:Z(K[zt])*N,ms:Z(ls(1e3*K[Se]))*N}):(K=PK.exec(m))?(N=K[1]==="-"?-1:1,F={y:rc(K[2],N),M:rc(K[3],N),w:rc(K[4],N),d:rc(K[5],N),h:rc(K[6],N),m:rc(K[7],N),s:rc(K[8],N)}):F==null?F={}:typeof F=="object"&&("from"in F||"to"in F)&&(T=function(wt,Yt){var Jt;return!wt.isValid()||!Yt.isValid()?{milliseconds:0,months:0}:(Yt=cs(Yt,wt),wt.isBefore(Yt)?Jt=M6(wt,Yt):((Jt=M6(Yt,wt)).milliseconds=-Jt.milliseconds,Jt.months=-Jt.months),Jt)}(Zn(F.from),Zn(F.to)),(F={}).ms=T.milliseconds,F.M=T.months),K=new ia(F),mo(m)&&l(m,"_locale")&&(K._locale=m._locale),mo(m)&&l(m,"_isValid")&&(K._isValid=m._isValid),K}function rc(m,T){return m=m&&parseFloat(m.replace(",",".")),(isNaN(m)?0:m)*T}function M6(m,T){var N={};return N.months=T.month()-m.month()+12*(T.year()-m.year()),m.clone().add(N.months,"M").isAfter(T)&&--N.months,N.milliseconds=+T-+m.clone().add(N.months,"M"),N}function N6(m,T){return function(N,F){var K;return F===null||isNaN(+F)||(H(T,"moment()."+T+"(period, number) is deprecated. Please use moment()."+T+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),K=N,N=F,F=K),O6(this,sa(N,F),m),this}}function O6(m,Yt,N,F){var K=Yt._milliseconds,wt=ls(Yt._days),Yt=ls(Yt._months);m.isValid()&&(F=F==null||F,Yt&&He(m,z(m,"Month")+Yt*N),wt&&yt(m,"Date",z(m,"Date")+wt*N),K&&m._d.setTime(m._d.valueOf()+K*N),F&&i.updateOffset(m,wt||Yt))}sa.fn=ia.prototype,sa.invalid=function(){return sa(NaN)},nn=N6(1,"add"),wr=N6(-1,"subtract");function D6(m){return typeof m=="string"||m instanceof String}function FK(m){return lt(m)||_(m)||D6(m)||g(m)||function(T){var N=s(T),F=!1;return N&&(F=T.filter(function(K){return!g(K)&&D6(T)}).length===0),N&&F}(m)||function(T){var N,F,K=o(T)&&!u(T),wt=!1,Yt=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Jt=Yt.length;for(N=0;N<Jt;N+=1)F=Yt[N],wt=wt||l(T,F);return K&&wt}(m)||m==null}function t0(m,K){if(m.date()<K.date())return-t0(K,m);var N=12*(K.year()-m.year())+(K.month()-m.month()),F=m.clone().add(N,"months"),K=K-F<0?(K-F)/(F-m.clone().add(N-1,"months")):(K-F)/(m.clone().add(1+N,"months")-F);return-(N+K)||0}function R6(m){return m===void 0?this._locale._abbr:((m=fn(m))!=null&&(this._locale=m),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",Br=ot("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(m){return m===void 0?this.localeData():this.locale(m)});function B6(){return this._locale}var P6=126227808e5;function $u(m,T){return(m%T+T)%T}function F6(m,T,N){return m<100&&0<=m?new Date(m+400,T,N)-P6:new Date(m,T,N).valueOf()}function V6(m,T,N){return m<100&&0<=m?Date.UTC(m+400,T,N)-P6:Date.UTC(m,T,N)}function O2(m,T){return T.erasAbbrRegex(m)}function D2(){for(var m=[],T=[],N=[],F=[],K=this.eras(),wt=0,Yt=K.length;wt<Yt;++wt)T.push(We(K[wt].name)),m.push(We(K[wt].abbr)),N.push(We(K[wt].narrow)),F.push(We(K[wt].name)),F.push(We(K[wt].abbr)),F.push(We(K[wt].narrow));this._erasRegex=new RegExp("^("+F.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+T.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+N.join("|")+")","i")}function e0(m,T){ut(0,[m,m.length],0,T)}function Y6(m,T,N,F,K){var wt;return m==null?mr(this,F,K).year:(wt=vr(m,F,K),function(Yt,Jt,xe,ye,mn){return Yt=dn(Yt,Jt,xe,ye,mn),Jt=os(Yt.year,0,Yt.dayOfYear),this.year(Jt.getUTCFullYear()),this.month(Jt.getUTCMonth()),this.date(Jt.getUTCDate()),this}.call(this,m,T=wt<T?wt:T,N,F,K))}ut("N",0,0,"eraAbbr"),ut("NN",0,0,"eraAbbr"),ut("NNN",0,0,"eraAbbr"),ut("NNNN",0,0,"eraName"),ut("NNNNN",0,0,"eraNarrow"),ut("y",["y",1],"yo","eraYear"),ut("y",["yy",2],0,"eraYear"),ut("y",["yyy",3],0,"eraYear"),ut("y",["yyyy",4],0,"eraYear"),xt("N",O2),xt("NN",O2),xt("NNN",O2),xt("NNNN",function(m,T){return T.erasNameRegex(m)}),xt("NNNNN",function(m,T){return T.erasNarrowRegex(m)}),Ve(["N","NN","NNN","NNNN","NNNNN"],function(m,T,N,F){F=N._locale.erasParse(m,F,N._strict),F?M(N).era=F:M(N).invalidEra=m}),xt("y",Zt),xt("yy",Zt),xt("yyy",Zt),xt("yyyy",Zt),xt("yo",function(m,T){return T._eraYearOrdinalRegex||Zt}),Ve(["y","yy","yyy","yyyy"],Ce),Ve(["yo"],function(m,T,N,F){var K;N._locale._eraYearOrdinalRegex&&(K=m.match(N._locale._eraYearOrdinalRegex)),N._locale.eraYearOrdinalParse?T[Ce]=N._locale.eraYearOrdinalParse(m,K):T[Ce]=parseInt(m,10)}),ut(0,["gg",2],0,function(){return this.weekYear()%100}),ut(0,["GG",2],0,function(){return this.isoWeekYear()%100}),e0("gggg","weekYear"),e0("ggggg","weekYear"),e0("GGGG","isoWeekYear"),e0("GGGGG","isoWeekYear"),Lt("weekYear","gg"),Lt("isoWeekYear","GG"),tt("weekYear",1),tt("isoWeekYear",1),xt("G",Pt),xt("g",Pt),xt("GG",nt,gn),xt("gg",nt,gn),xt("GGGG",rl,ic),xt("gggg",rl,ic),xt("GGGGG",el,nl),xt("ggggg",el,nl),Hn(["gggg","ggggg","GGGG","GGGGG"],function(m,T,N,F){T[F.substr(0,2)]=Z(m)}),Hn(["gg","GG"],function(m,T,N,F){T[F]=i.parseTwoDigitYear(m)}),ut("Q",0,"Qo","quarter"),Lt("quarter","Q"),tt("quarter",7),xt("Q",P),Ve("Q",function(m,T){T[we]=3*(Z(m)-1)}),ut("D",["DD",2],"Do","date"),Lt("date","D"),tt("date",9),xt("D",nt),xt("DD",nt,gn),xt("Do",function(m,T){return m?T._dayOfMonthOrdinalParse||T._ordinalParse:T._dayOfMonthOrdinalParseLenient}),Ve(["D","DD"],Wt),Ve("Do",function(m,T){T[Wt]=Z(m.match(nt)[0])}),rl=G("Date",!0),ut("DDD",["DDDD",3],"DDDo","dayOfYear"),Lt("dayOfYear","DDD"),tt("dayOfYear",4),xt("DDD",fe),xt("DDDD",Nt),Ve(["DDD","DDDD"],function(m,T,N){N._dayOfYear=Z(m)}),ut("m",["mm",2],0,"minute"),Lt("minute","m"),tt("minute",14),xt("m",nt),xt("mm",nt,gn),Ve(["m","mm"],oe);var tl,ic=G("Minutes",!1),el=(ut("s",["ss",2],0,"second"),Lt("second","s"),tt("second",15),xt("s",nt),xt("ss",nt,gn),Ve(["s","ss"],zt),G("Seconds",!1));for(ut("S",0,0,function(){return~~(this.millisecond()/100)}),ut(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ut(0,["SSS",3],0,"millisecond"),ut(0,["SSSS",4],0,function(){return 10*this.millisecond()}),ut(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),ut(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),ut(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),ut(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),ut(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Lt("millisecond","ms"),tt("millisecond",16),xt("S",fe,P),xt("SS",fe,gn),xt("SSS",fe,Nt),tl="SSSS";tl.length<=9;tl+="S")xt(tl,Zt);function VK(m,T){T[Se]=Z(1e3*("0."+m))}for(tl="S";tl.length<=9;tl+="S")Ve(tl,VK);nl=G("Milliseconds",!1),ut("z",0,0,"zoneAbbr"),ut("zz",0,0,"zoneName"),P=at.prototype;function $6(m){return m}P.add=nn,P.calendar=function(N,K){arguments.length===1&&(arguments[0]?FK(arguments[0])?(N=arguments[0],K=void 0):function(wt){for(var Yt=o(wt)&&!u(wt),Jt=!1,xe=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],ye=0;ye<xe.length;ye+=1)Jt=Jt||l(wt,xe[ye]);return Yt&&Jt}(arguments[0])&&(K=arguments[0],N=void 0):K=N=void 0);var N=N||Zn(),F=cs(N,this).startOf("day"),F=i.calendarFormat(this,F)||"sameElse",K=K&&($(K[F])?K[F].call(this,N):K[F]);return this.format(K||this.localeData().calendar(F,this,Zn(N)))},P.clone=function(){return new at(this)},P.diff=function(m,T,N){var F,K,wt;if(!this.isValid())return NaN;if(!(F=cs(m,this)).isValid())return NaN;switch(K=6e4*(F.utcOffset()-this.utcOffset()),T=Ht(T)){case"year":wt=t0(this,F)/12;break;case"month":wt=t0(this,F);break;case"quarter":wt=t0(this,F)/3;break;case"second":wt=(this-F)/1e3;break;case"minute":wt=(this-F)/6e4;break;case"hour":wt=(this-F)/36e5;break;case"day":wt=(this-F-K)/864e5;break;case"week":wt=(this-F-K)/6048e5;break;default:wt=this-F}return N?wt:dt(wt)},P.endOf=function(m){var T,N;if((m=Ht(m))===void 0||m==="millisecond"||!this.isValid())return this;switch(N=this._isUTC?V6:F6,m){case"year":T=N(this.year()+1,0,1)-1;break;case"quarter":T=N(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":T=N(this.year(),this.month()+1,1)-1;break;case"week":T=N(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":T=N(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":T=N(this.year(),this.month(),this.date()+1)-1;break;case"hour":T=this._d.valueOf(),T+=36e5-$u(T+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":T=this._d.valueOf(),T+=6e4-$u(T,6e4)-1;break;case"second":T=this._d.valueOf(),T+=1e3-$u(T,1e3)-1;break}return this._d.setTime(T),i.updateOffset(this,!0),this},P.format=function(m){return m=m||(this.isUtc()?i.defaultFormatUtc:i.defaultFormat),m=St(this,m),this.localeData().postformat(m)},P.from=function(m,T){return this.isValid()&&(lt(m)&&m.isValid()||Zn(m).isValid())?sa({to:this,from:m}).locale(this.locale()).humanize(!T):this.localeData().invalidDate()},P.fromNow=function(m){return this.from(Zn(),m)},P.to=function(m,T){return this.isValid()&&(lt(m)&&m.isValid()||Zn(m).isValid())?sa({from:this,to:m}).locale(this.locale()).humanize(!T):this.localeData().invalidDate()},P.toNow=function(m){return this.to(Zn(),m)},P.get=function(m){return $(this[m=Ht(m)])?this[m]():this},P.invalidAt=function(){return M(this).overflow},P.isAfter=function(m,T){return m=lt(m)?m:Zn(m),!(!this.isValid()||!m.isValid())&&((T=Ht(T)||"millisecond")==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(T).valueOf())},P.isBefore=function(m,T){return m=lt(m)?m:Zn(m),!(!this.isValid()||!m.isValid())&&((T=Ht(T)||"millisecond")==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(T).valueOf()<m.valueOf())},P.isBetween=function(m,T,N,F){return m=lt(m)?m:Zn(m),T=lt(T)?T:Zn(T),!!(this.isValid()&&m.isValid()&&T.isValid())&&((F=F||"()")[0]==="("?this.isAfter(m,N):!this.isBefore(m,N))&&(F[1]===")"?this.isBefore(T,N):!this.isAfter(T,N))},P.isSame=function(N,T){var N=lt(N)?N:Zn(N);return!(!this.isValid()||!N.isValid())&&((T=Ht(T)||"millisecond")==="millisecond"?this.valueOf()===N.valueOf():(N=N.valueOf(),this.clone().startOf(T).valueOf()<=N&&N<=this.clone().endOf(T).valueOf()))},P.isSameOrAfter=function(m,T){return this.isSame(m,T)||this.isAfter(m,T)},P.isSameOrBefore=function(m,T){return this.isSame(m,T)||this.isBefore(m,T)},P.isValid=function(){return R(this)},P.lang=Br,P.locale=R6,P.localeData=B6,P.max=vt,P.min=Ee,P.parsingFlags=function(){return w({},M(this))},P.set=function(m,T){if(typeof m=="object")for(var N=function(wt){var Yt,Jt=[];for(Yt in wt)l(wt,Yt)&&Jt.push({unit:Yt,priority:_e[Yt]});return Jt.sort(function(xe,ye){return xe.priority-ye.priority}),Jt}(m=pt(m)),F=N.length,K=0;K<F;K++)this[N[K].unit](m[N[K].unit]);else if($(this[m=Ht(m)]))return this[m](T);return this},P.startOf=function(m){var T,N;if((m=Ht(m))===void 0||m==="millisecond"||!this.isValid())return this;switch(N=this._isUTC?V6:F6,m){case"year":T=N(this.year(),0,1);break;case"quarter":T=N(this.year(),this.month()-this.month()%3,1);break;case"month":T=N(this.year(),this.month(),1);break;case"week":T=N(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":T=N(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":T=N(this.year(),this.month(),this.date());break;case"hour":T=this._d.valueOf(),T-=$u(T+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":T=this._d.valueOf(),T-=$u(T,6e4);break;case"second":T=this._d.valueOf(),T-=$u(T,1e3);break}return this._d.setTime(T),i.updateOffset(this,!0),this},P.subtract=wr,P.toArray=function(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]},P.toObject=function(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}},P.toDate=function(){return new Date(this.valueOf())},P.toISOString=function(m){if(!this.isValid())return null;var T=(m=m!==!0)?this.clone().utc():this;return T.year()<0||9999<T.year()?St(T,m?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$(Date.prototype.toISOString)?m?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",St(T,"Z")):St(T,m?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},P.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var m,T="moment",N="";return this.isLocal()||(T=this.utcOffset()===0?"moment.utc":"moment.parseZone",N="Z"),T="["+T+'("]',m=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(T+m+"-MM-DD[T]HH:mm:ss.SSS"+(N+'[")]'))},typeof Symbol<"u"&&Symbol.for!=null&&(P[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},P.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},P.eraName=function(){for(var m,T=this.localeData().eras(),N=0,F=T.length;N<F;++N)if(m=this.clone().startOf("day").valueOf(),T[N].since<=m&&m<=T[N].until||T[N].until<=m&&m<=T[N].since)return T[N].name;return""},P.eraNarrow=function(){for(var m,T=this.localeData().eras(),N=0,F=T.length;N<F;++N)if(m=this.clone().startOf("day").valueOf(),T[N].since<=m&&m<=T[N].until||T[N].until<=m&&m<=T[N].since)return T[N].narrow;return""},P.eraAbbr=function(){for(var m,T=this.localeData().eras(),N=0,F=T.length;N<F;++N)if(m=this.clone().startOf("day").valueOf(),T[N].since<=m&&m<=T[N].until||T[N].until<=m&&m<=T[N].since)return T[N].abbr;return""},P.eraYear=function(){for(var m,T,N=this.localeData().eras(),F=0,K=N.length;F<K;++F)if(m=N[F].since<=N[F].until?1:-1,T=this.clone().startOf("day").valueOf(),N[F].since<=T&&T<=N[F].until||N[F].until<=T&&T<=N[F].since)return(this.year()-i(N[F].since).year())*m+N[F].offset;return this.year()},P.year=r0,P.isLeapYear=function(){return st(this.year())},P.weekYear=function(m){return Y6.call(this,m,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},P.isoWeekYear=function(m){return Y6.call(this,m,this.isoWeek(),this.isoWeekday(),1,4)},P.quarter=P.quarters=function(m){return m==null?Math.ceil((this.month()+1)/3):this.month(3*(m-1)+this.month()%3)},P.month=hn,P.daysInMonth=function(){return Ot(this.year(),this.month())},P.week=P.weeks=function(m){var T=this.localeData().week(this);return m==null?T:this.add(7*(m-T),"d")},P.isoWeek=P.isoWeeks=function(m){var T=mr(this,1,4).week;return m==null?T:this.add(7*(m-T),"d")},P.weeksInYear=function(){var m=this.localeData()._week;return vr(this.year(),m.dow,m.doy)},P.weeksInWeekYear=function(){var m=this.localeData()._week;return vr(this.weekYear(),m.dow,m.doy)},P.isoWeeksInYear=function(){return vr(this.year(),1,4)},P.isoWeeksInISOWeekYear=function(){return vr(this.isoWeekYear(),1,4)},P.date=rl,P.day=P.days=function(m){if(!this.isValid())return m!=null?this:NaN;var T,N,F=this._isUTC?this._d.getUTCDay():this._d.getDay();return m!=null?(T=m,N=this.localeData(),m=typeof T!="string"?T:isNaN(T)?typeof(T=N.weekdaysParse(T))=="number"?T:null:parseInt(T,10),this.add(m-F,"d")):F},P.weekday=function(m){if(!this.isValid())return m!=null?this:NaN;var T=(this.day()+7-this.localeData()._week.dow)%7;return m==null?T:this.add(m-T,"d")},P.isoWeekday=function(m){return this.isValid()?m!=null?(T=m,N=this.localeData(),N=typeof T=="string"?N.weekdaysParse(T)%7||7:isNaN(T)?null:T,this.day(this.day()%7?N:N-7)):this.day()||7:m!=null?this:NaN;var T,N},P.dayOfYear=function(m){var T=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return m==null?T:this.add(m-T,"d")},P.hour=P.hours=Bt,P.minute=P.minutes=ic,P.second=P.seconds=el,P.millisecond=P.milliseconds=nl,P.utcOffset=function(m,T,N){var F,K=this._offset||0;if(!this.isValid())return m!=null?this:NaN;if(m==null)return this._isUTC?K:N2(this);if(typeof m=="string"){if((m=nc(Gt,m))===null)return this}else Math.abs(m)<16&&!N&&(m*=60);return!this._isUTC&&T&&(F=N2(this)),this._offset=m,this._isUTC=!0,F!=null&&this.add(F,"m"),K!==m&&(!T||this._changeInProgress?O6(this,sa(m-K,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this},P.utc=function(m){return this.utcOffset(0,m)},P.local=function(m){return this._isUTC&&(this.utcOffset(0,m),this._isUTC=!1,m&&this.subtract(N2(this),"m")),this},P.parseZone=function(){var m;return this._tzm!=null?this.utcOffset(this._tzm,!1,!0):typeof this._i=="string"&&((m=nc(Qt,this._i))!=null?this.utcOffset(m):this.utcOffset(0,!0)),this},P.hasAlignedHourOffset=function(m){return!!this.isValid()&&(m=m?Zn(m).utcOffset():0,(this.utcOffset()-m)%60==0)},P.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},P.isLocal=function(){return!!this.isValid()&&!this._isUTC},P.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},P.isUtc=I6,P.isUTC=I6,P.zoneAbbr=function(){return this._isUTC?"UTC":""},P.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},P.dates=ot("dates accessor is deprecated. Use date instead.",rl),P.months=ot("months accessor is deprecated. Use month instead",hn),P.years=ot("years accessor is deprecated. Use year instead",r0),P.zone=ot("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(m,T){return m!=null?(this.utcOffset(m=typeof m!="string"?-m:m,T),this):-this.utcOffset()}),P.isDSTShifted=ot("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!f(this._isDSTShifted))return this._isDSTShifted;var m,T={};return Q(T,this),(T=Jp(T))._a?(m=(T._isUTC?x:Zn)(T._a),this._isDSTShifted=this.isValid()&&0<function(N,F,K){for(var wt=Math.min(N.length,F.length),Yt=Math.abs(N.length-F.length),Jt=0,xe=0;xe<wt;xe++)(K&&N[xe]!==F[xe]||!K&&Z(N[xe])!==Z(F[xe]))&&Jt++;return Jt+Yt}(T._a,m.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),gn=W.prototype;function n0(m,T,N,wt){var K=fn(),wt=x().set(wt,T);return K[N](wt,m)}function U6(m,T,N){if(g(m)&&(T=m,m=void 0),m=m||"",T!=null)return n0(m,T,N,"month");for(var F=[],K=0;K<12;K++)F[K]=n0(m,K,N,"month");return F}function R2(m,T,N,F){T=(typeof m=="boolean"?g(T)&&(N=T,T=void 0):(T=m,m=!1,g(N=T)&&(N=T,T=void 0)),T||"");var K,wt=fn(),Yt=m?wt._week.dow:0,Jt=[];if(N!=null)return n0(T,(N+Yt)%7,F,"day");for(K=0;K<7;K++)Jt[K]=n0(T,(K+Yt)%7,F,"day");return Jt}gn.calendar=function(m,T,N){return $(m=this._calendar[m]||this._calendar.sameElse)?m.call(T,N):m},gn.longDateFormat=function(m){var T=this._longDateFormat[m],N=this._longDateFormat[m.toUpperCase()];return T||!N?T:(this._longDateFormat[m]=N.match(I).map(function(F){return F==="MMMM"||F==="MM"||F==="DD"||F==="dddd"?F.slice(1):F}).join(""),this._longDateFormat[m])},gn.invalidDate=function(){return this._invalidDate},gn.ordinal=function(m){return this._ordinal.replace("%d",m)},gn.preparse=$6,gn.postformat=$6,gn.relativeTime=function(m,T,N,F){var K=this._relativeTime[N];return $(K)?K(m,T,N,F):K.replace(/%d/i,m)},gn.pastFuture=function(m,T){return $(m=this._relativeTime[0<m?"future":"past"])?m(T):m.replace(/%s/i,T)},gn.set=function(m){var T,N;for(N in m)l(m,N)&&($(T=m[N])?this[N]=T:this["_"+N]=T);this._config=m,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},gn.eras=function(m,T){for(var N,F=this._eras||fn("en")._eras,K=0,wt=F.length;K<wt;++K){switch(typeof F[K].since){case"string":N=i(F[K].since).startOf("day"),F[K].since=N.valueOf();break}switch(typeof F[K].until){case"undefined":F[K].until=1/0;break;case"string":N=i(F[K].until).startOf("day").valueOf(),F[K].until=N.valueOf();break}}return F},gn.erasParse=function(m,T,N){var F,K,wt,Yt,Jt,xe=this.eras();for(m=m.toUpperCase(),F=0,K=xe.length;F<K;++F)if(wt=xe[F].name.toUpperCase(),Yt=xe[F].abbr.toUpperCase(),Jt=xe[F].narrow.toUpperCase(),N)switch(T){case"N":case"NN":case"NNN":if(Yt===m)return xe[F];break;case"NNNN":if(wt===m)return xe[F];break;case"NNNNN":if(Jt===m)return xe[F];break}else if(0<=[wt,Yt,Jt].indexOf(m))return xe[F]},gn.erasConvertYear=function(m,T){var N=m.since<=m.until?1:-1;return T===void 0?i(m.since).year():i(m.since).year()+(T-m.offset)*N},gn.erasAbbrRegex=function(m){return l(this,"_erasAbbrRegex")||D2.call(this),m?this._erasAbbrRegex:this._erasRegex},gn.erasNameRegex=function(m){return l(this,"_erasNameRegex")||D2.call(this),m?this._erasNameRegex:this._erasRegex},gn.erasNarrowRegex=function(m){return l(this,"_erasNarrowRegex")||D2.call(this),m?this._erasNarrowRegex:this._erasRegex},gn.months=function(m,T){return m?(s(this._months)?this._months:this._months[(this._months.isFormat||Ln).test(T)?"format":"standalone"])[m.month()]:s(this._months)?this._months:this._months.standalone},gn.monthsShort=function(m,T){return m?(s(this._monthsShort)?this._monthsShort:this._monthsShort[Ln.test(T)?"format":"standalone"])[m.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},gn.monthsParse=function(m,T,N){var F,K;if(this._monthsParseExact)return function(rn,Yt,Jt){var xe,ye,mn,rn=rn.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],xe=0;xe<12;++xe)mn=x([2e3,xe]),this._shortMonthsParse[xe]=this.monthsShort(mn,"").toLocaleLowerCase(),this._longMonthsParse[xe]=this.months(mn,"").toLocaleLowerCase();return Jt?Yt==="MMM"?(ye=Re.call(this._shortMonthsParse,rn))!==-1?ye:null:(ye=Re.call(this._longMonthsParse,rn))!==-1?ye:null:Yt==="MMM"?(ye=Re.call(this._shortMonthsParse,rn))!==-1||(ye=Re.call(this._longMonthsParse,rn))!==-1?ye:null:(ye=Re.call(this._longMonthsParse,rn))!==-1||(ye=Re.call(this._shortMonthsParse,rn))!==-1?ye:null}.call(this,m,T,N);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),F=0;F<12;F++)if(K=x([2e3,F]),N&&!this._longMonthsParse[F]&&(this._longMonthsParse[F]=new RegExp("^"+this.months(K,"").replace(".","")+"$","i"),this._shortMonthsParse[F]=new RegExp("^"+this.monthsShort(K,"").replace(".","")+"$","i")),N||this._monthsParse[F]||(K="^"+this.months(K,"")+"|^"+this.monthsShort(K,""),this._monthsParse[F]=new RegExp(K.replace(".",""),"i")),N&&T==="MMMM"&&this._longMonthsParse[F].test(m)||N&&T==="MMM"&&this._shortMonthsParse[F].test(m)||!N&&this._monthsParse[F].test(m))return F},gn.monthsRegex=function(m){return this._monthsParseExact?(l(this,"_monthsRegex")||En.call(this),m?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Pn),this._monthsStrictRegex&&m?this._monthsStrictRegex:this._monthsRegex)},gn.monthsShortRegex=function(m){return this._monthsParseExact?(l(this,"_monthsRegex")||En.call(this),m?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=In),this._monthsShortStrictRegex&&m?this._monthsShortStrictRegex:this._monthsShortRegex)},gn.week=function(m){return mr(m,this._week.dow,this._week.doy).week},gn.firstDayOfYear=function(){return this._week.doy},gn.firstDayOfWeek=function(){return this._week.dow},gn.weekdays=function(m,T){return T=s(this._weekdays)?this._weekdays:this._weekdays[m&&m!==!0&&this._weekdays.isFormat.test(T)?"format":"standalone"],m===!0?kr(T,this._week.dow):m?T[m.day()]:T},gn.weekdaysMin=function(m){return m===!0?kr(this._weekdaysMin,this._week.dow):m?this._weekdaysMin[m.day()]:this._weekdaysMin},gn.weekdaysShort=function(m){return m===!0?kr(this._weekdaysShort,this._week.dow):m?this._weekdaysShort[m.day()]:this._weekdaysShort},gn.weekdaysParse=function(m,T,N){var F,K;if(this._weekdaysParseExact)return function(rn,Yt,Jt){var xe,ye,mn,rn=rn.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],xe=0;xe<7;++xe)mn=x([2e3,1]).day(xe),this._minWeekdaysParse[xe]=this.weekdaysMin(mn,"").toLocaleLowerCase(),this._shortWeekdaysParse[xe]=this.weekdaysShort(mn,"").toLocaleLowerCase(),this._weekdaysParse[xe]=this.weekdays(mn,"").toLocaleLowerCase();return Jt?Yt==="dddd"?(ye=Re.call(this._weekdaysParse,rn))!==-1?ye:null:Yt==="ddd"?(ye=Re.call(this._shortWeekdaysParse,rn))!==-1?ye:null:(ye=Re.call(this._minWeekdaysParse,rn))!==-1?ye:null:Yt==="dddd"?(ye=Re.call(this._weekdaysParse,rn))!==-1||(ye=Re.call(this._shortWeekdaysParse,rn))!==-1||(ye=Re.call(this._minWeekdaysParse,rn))!==-1?ye:null:Yt==="ddd"?(ye=Re.call(this._shortWeekdaysParse,rn))!==-1||(ye=Re.call(this._weekdaysParse,rn))!==-1||(ye=Re.call(this._minWeekdaysParse,rn))!==-1?ye:null:(ye=Re.call(this._minWeekdaysParse,rn))!==-1||(ye=Re.call(this._weekdaysParse,rn))!==-1||(ye=Re.call(this._shortWeekdaysParse,rn))!==-1?ye:null}.call(this,m,T,N);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),F=0;F<7;F++)if(K=x([2e3,1]).day(F),N&&!this._fullWeekdaysParse[F]&&(this._fullWeekdaysParse[F]=new RegExp("^"+this.weekdays(K,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[F]=new RegExp("^"+this.weekdaysShort(K,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[F]=new RegExp("^"+this.weekdaysMin(K,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[F]||(K="^"+this.weekdays(K,"")+"|^"+this.weekdaysShort(K,"")+"|^"+this.weekdaysMin(K,""),this._weekdaysParse[F]=new RegExp(K.replace(".",""),"i")),N&&T==="dddd"&&this._fullWeekdaysParse[F].test(m)||N&&T==="ddd"&&this._shortWeekdaysParse[F].test(m)||N&&T==="dd"&&this._minWeekdaysParse[F].test(m)||!N&&this._weekdaysParse[F].test(m))return F},gn.weekdaysRegex=function(m){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ie.call(this),m?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Gr),this._weekdaysStrictRegex&&m?this._weekdaysStrictRegex:this._weekdaysRegex)},gn.weekdaysShortRegex=function(m){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ie.call(this),m?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ae),this._weekdaysShortStrictRegex&&m?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},gn.weekdaysMinRegex=function(m){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ie.call(this),m?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=gt),this._weekdaysMinStrictRegex&&m?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},gn.isPM=function(m){return(m+"").toLowerCase().charAt(0)==="p"},gn.meridiem=function(m,T,N){return 11<m?N?"pm":"PM":N?"am":"AM"},Ye("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(m){var T=m%10;return m+(Z(m%100/10)===1?"th":T==1?"st":T==2?"nd":T==3?"rd":"th")}}),i.lang=ot("moment.lang is deprecated. Use moment.locale instead.",Ye),i.langData=ot("moment.langData is deprecated. Use moment.localeData instead.",fn);var yo=Math.abs;function z6(m,T,N,F){return T=sa(T,N),m._milliseconds+=F*T._milliseconds,m._days+=F*T._days,m._months+=F*T._months,m._bubble()}function H6(m){return m<0?Math.floor(m):Math.ceil(m)}function W6(m){return 4800*m/146097}function B2(m){return 146097*m/4800}function _o(m){return function(){return this.as(m)}}fe=_o("ms"),Nt=_o("s"),nn=_o("m"),vt=_o("h"),Ee=_o("d"),wr=_o("w"),Bt=_o("M"),ic=_o("Q"),el=_o("y");function sc(m){return function(){return this.isValid()?this._data[m]:NaN}}var nl=sc("milliseconds"),rl=sc("seconds"),r0=sc("minutes"),gn=sc("hours"),YK=sc("days"),$K=sc("months"),UK=sc("years"),vo=Math.round,Uu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function zK(m,T,N,F){var ye=sa(m).abs(),mn=vo(ye.as("s")),K=vo(ye.as("m")),wt=vo(ye.as("h")),Yt=vo(ye.as("d")),Jt=vo(ye.as("M")),xe=vo(ye.as("w")),ye=vo(ye.as("y")),mn=(mn<=N.ss?["s",mn]:mn<N.s&&["ss",mn])||K<=1&&["m"]||K<N.m&&["mm",K]||wt<=1&&["h"]||wt<N.h&&["hh",wt]||Yt<=1&&["d"]||Yt<N.d&&["dd",Yt];return(mn=(mn=N.w!=null?mn||xe<=1&&["w"]||xe<N.w&&["ww",xe]:mn)||Jt<=1&&["M"]||Jt<N.M&&["MM",Jt]||ye<=1&&["y"]||["yy",ye])[2]=T,mn[3]=0<+m,mn[4]=F,function(rn,Ir,Kr,aa,F2){return F2.relativeTime(Ir||1,!!Kr,rn,aa)}.apply(null,mn)}var P2=Math.abs;function zu(m){return(0<m)-(m<0)||+m}function i0(){if(!this.isValid())return this.localeData().invalidDate();var m,T,N,F,K,wt,Yt,Jt=P2(this._milliseconds)/1e3,xe=P2(this._days),ye=P2(this._months),mn=this.asSeconds();return mn?(m=dt(Jt/60),T=dt(m/60),Jt%=60,m%=60,N=dt(ye/12),ye%=12,F=Jt?Jt.toFixed(3).replace(/\.?0+$/,""):"",K=zu(this._months)!==zu(mn)?"-":"",wt=zu(this._days)!==zu(mn)?"-":"",Yt=zu(this._milliseconds)!==zu(mn)?"-":"",(mn<0?"-":"")+"P"+(N?K+N+"Y":"")+(ye?K+ye+"M":"")+(xe?wt+xe+"D":"")+(T||m||Jt?"T":"")+(T?Yt+T+"H":"")+(m?Yt+m+"M":"")+(Jt?Yt+F+"S":"")):"P0D"}var Gn=ia.prototype;return Gn.isValid=function(){return this._isValid},Gn.abs=function(){var m=this._data;return this._milliseconds=yo(this._milliseconds),this._days=yo(this._days),this._months=yo(this._months),m.milliseconds=yo(m.milliseconds),m.seconds=yo(m.seconds),m.minutes=yo(m.minutes),m.hours=yo(m.hours),m.months=yo(m.months),m.years=yo(m.years),this},Gn.add=function(m,T){return z6(this,m,T,1)},Gn.subtract=function(m,T){return z6(this,m,T,-1)},Gn.as=function(m){if(!this.isValid())return NaN;var T,N,F=this._milliseconds;if((m=Ht(m))==="month"||m==="quarter"||m==="year")switch(T=this._days+F/864e5,N=this._months+W6(T),m){case"month":return N;case"quarter":return N/3;case"year":return N/12}else switch(T=this._days+Math.round(B2(this._months)),m){case"week":return T/7+F/6048e5;case"day":return T+F/864e5;case"hour":return 24*T+F/36e5;case"minute":return 1440*T+F/6e4;case"second":return 86400*T+F/1e3;case"millisecond":return Math.floor(864e5*T)+F;default:throw new Error("Unknown unit "+m)}},Gn.asMilliseconds=fe,Gn.asSeconds=Nt,Gn.asMinutes=nn,Gn.asHours=vt,Gn.asDays=Ee,Gn.asWeeks=wr,Gn.asMonths=Bt,Gn.asQuarters=ic,Gn.asYears=el,Gn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Z(this._months/12):NaN},Gn._bubble=function(){var m=this._milliseconds,T=this._days,N=this._months,F=this._data;return 0<=m&&0<=T&&0<=N||m<=0&&T<=0&&N<=0||(m+=864e5*H6(B2(N)+T),N=T=0),F.milliseconds=m%1e3,m=dt(m/1e3),F.seconds=m%60,m=dt(m/60),F.minutes=m%60,m=dt(m/60),F.hours=m%24,T+=dt(m/24),N+=m=dt(W6(T)),T-=H6(B2(m)),m=dt(N/12),N%=12,F.days=T,F.months=N,F.years=m,this},Gn.clone=function(){return sa(this)},Gn.get=function(m){return m=Ht(m),this.isValid()?this[m+"s"]():NaN},Gn.milliseconds=nl,Gn.seconds=rl,Gn.minutes=r0,Gn.hours=gn,Gn.days=YK,Gn.weeks=function(){return dt(this.days()/7)},Gn.months=$K,Gn.years=UK,Gn.humanize=function(m,T){if(!this.isValid())return this.localeData().invalidDate();var N=!1,F=Uu;return typeof m=="object"&&(T=m,m=!1),typeof m=="boolean"&&(N=m),typeof T=="object"&&(F=Object.assign({},Uu,T),T.s!=null&&T.ss==null&&(F.ss=T.s-1)),m=this.localeData(),T=zK(this,!N,F,m),N&&(T=m.pastFuture(+this,T)),m.postformat(T)},Gn.toISOString=i0,Gn.toString=i0,Gn.toJSON=i0,Gn.locale=R6,Gn.localeData=B6,Gn.toIsoString=ot("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",i0),Gn.lang=Br,ut("X",0,0,"unix"),ut("x",0,0,"valueOf"),xt("x",Pt),xt("X",/[+-]?\d+(\.\d{1,3})?/),Ve("X",function(m,T,N){N._d=new Date(1e3*parseFloat(m))}),Ve("x",function(m,T,N){N._d=new Date(Z(m))}),i.version="2.29.4",n=Zn,i.fn=P,i.min=function(){return Vi("isBefore",[].slice.call(arguments,0))},i.max=function(){return Vi("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=x,i.unix=function(m){return Zn(1e3*m)},i.months=function(m,T){return U6(m,T,"months")},i.isDate=_,i.locale=Ye,i.invalid=B,i.duration=sa,i.isMoment=lt,i.weekdays=function(m,T,N){return R2(m,T,N,"weekdays")},i.parseZone=function(){return Zn.apply(null,arguments).parseZone()},i.localeData=fn,i.isDuration=mo,i.monthsShort=function(m,T){return U6(m,T,"monthsShort")},i.weekdaysMin=function(m,T,N){return R2(m,T,N,"weekdaysMin")},i.defineLocale=tn,i.updateLocale=function(m,T){var N,F;return T!=null?(F=Lr,On[m]!=null&&On[m].parentLocale!=null?On[m].set(O(On[m]._config,T)):(T=O(F=(N=Qi(m))!=null?N._config:F,T),N==null&&(T.abbr=m),(F=new W(T)).parentLocale=On[m],On[m]=F),Ye(m)):On[m]!=null&&(On[m].parentLocale!=null?(On[m]=On[m].parentLocale,m===Ye()&&Ye(m)):On[m]!=null&&delete On[m]),On[m]},i.locales=function(){return A(On)},i.weekdaysShort=function(m,T,N){return R2(m,T,N,"weekdaysShort")},i.normalizeUnits=Ht,i.relativeTimeRounding=function(m){return m===void 0?vo:typeof m=="function"&&(vo=m,!0)},i.relativeTimeThreshold=function(m,T){return Uu[m]!==void 0&&(T===void 0?Uu[m]:(Uu[m]=T,m==="s"&&(Uu.ss=T-1),!0))},i.calendarFormat=function(m,T){return(m=m.diff(T,"days",!0))<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"},i.prototype=P,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})})(S);const L=S.exports,D={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},C={trace:(...t)=>{},debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{},error:(...t)=>{},fatal:(...t)=>{}},V=function(t="fatal"){let e=D.fatal;typeof t=="string"?(t=t.toLowerCase(),t in D&&(e=D[t])):typeof t=="number"&&(e=t),C.trace=()=>{},C.debug=()=>{},C.info=()=>{},C.warn=()=>{},C.error=()=>{},C.fatal=()=>{},e<=D.fatal&&(C.fatal=console.error?console.error.bind(console,j("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",j("FATAL"))),e<=D.error&&(C.error=console.error?console.error.bind(console,j("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",j("ERROR"))),e<=D.warn&&(C.warn=console.warn?console.warn.bind(console,j("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",j("WARN"))),e<=D.info&&(C.info=console.info?console.info.bind(console,j("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",j("INFO"))),e<=D.debug&&(C.debug=console.debug?console.debug.bind(console,j("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",j("DEBUG"))),e<=D.trace&&(C.trace=console.debug?console.debug.bind(console,j("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",j("TRACE")))},j=t=>`%c${L().format("ss.SSS")} : ${t} : `;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});var it=rt.sanitizeUrl=void 0,Tt=/^([^\w]*)(javascript|data|vbscript)/im,Ct=/&#(\w+)(^\w|;)?/g,$t=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Rt=/^([^:]+):/gm,Kt=[".","/"];function de(t){return Kt.indexOf(t[0])>-1}function ke(t){return t.replace(Ct,function(e,n){return String.fromCharCode(n)})}function ve(t){var e=ke(t||"").replace($t,"").trim();if(!e)return"about:blank";if(de(e))return e;var n=e.match(Rt);if(!n)return e;var i=n[0];return Tt.test(i)?"about:blank":e}it=rt.sanitizeUrl=ve;function te(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Le(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function je(t){let e,n,i;t.length!==2?(e=te,n=(u,f)=>te(t(u),f),i=(u,f)=>t(u)-f):(e=t===te||t===Le?t:en,n=t,i=t);function s(u,f,g=0,_=u.length){if(g<_){if(e(f,f)!==0)return _;do{const k=g+_>>>1;n(u[k],f)<0?g=k+1:_=k}while(g<_)}return g}function o(u,f,g=0,_=u.length){if(g<_){if(e(f,f)!==0)return _;do{const k=g+_>>>1;n(u[k],f)<=0?g=k+1:_=k}while(g<_)}return g}function l(u,f,g=0,_=u.length){const k=s(u,f,g,_-1);return k>g&&i(u[k-1],f)>-i(u[k],f)?k-1:k}return{left:s,center:l,right:o}}function en(){return 0}function xn(t){return t===null?NaN:+t}const Un=je(te).right;je(xn).center;const pr=Un;class Kn extends Map{constructor(e,n=Fn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,s]of e)this.set(i,s)}get(e){return super.get(er(this,e))}has(e){return super.has(er(this,e))}set(e,n){return super.set(Ne(this,e),n)}delete(e){return super.delete(Ke(this,e))}}function er({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function Ne({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function Ke({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function Fn(t){return t!==null&&typeof t=="object"?t.valueOf():t}var qn=Math.sqrt(50),bi=Math.sqrt(10),ii=Math.sqrt(2);function ys(t,e,n){var i,s=-1,o,l,u;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((i=e<t)&&(o=t,t=e,e=o),(u=ki(t,e,n))===0||!isFinite(u))return[];if(u>0){let f=Math.round(t/u),g=Math.round(e/u);for(f*u<t&&++f,g*u>e&&--g,l=new Array(o=g-f+1);++s<o;)l[s]=(f+s)*u}else{u=-u;let f=Math.round(t*u),g=Math.round(e*u);for(f/u<t&&++f,g/u>e&&--g,l=new Array(o=g-f+1);++s<o;)l[s]=(f+s)/u}return i&&l.reverse(),l}function ki(t,e,n){var i=(e-t)/Math.max(0,n),s=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,s);return s>=0?(o>=qn?10:o>=bi?5:o>=ii?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(o>=qn?10:o>=bi?5:o>=ii?2:1)}function Ut(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/s;return o>=qn?s*=10:o>=bi?s*=5:o>=ii&&(s*=2),e<t?-s:s}function Pe(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function Ie(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function De(t){return t}var Sn=1,jn=2,ln=3,an=4,ar=1e-6;function et(t){return"translate("+t+",0)"}function ft(t){return"translate(0,"+t+")"}function Ft(t){return e=>+t(e)}function se(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ne(){return!this.__axis}function he(t,e){var n=[],i=null,s=null,o=6,l=6,u=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,g=t===Sn||t===an?-1:1,_=t===an||t===jn?"x":"y",k=t===Sn||t===ln?et:ft;function w(x){var M=i??(e.ticks?e.ticks.apply(e,n):e.domain()),R=s??(e.tickFormat?e.tickFormat.apply(e,n):De),B=Math.max(o,0)+u,U=e.range(),Y=+U[0]+f,X=+U[U.length-1]+f,Q=(e.bandwidth?se:Ft)(e.copy(),f),at=x.selection?x.selection():x,lt=at.selectAll(".domain").data([null]),J=at.selectAll(".tick").data(M,e).order(),ot=J.exit(),q=J.enter().append("g").attr("class","tick"),H=J.select("line"),$=J.select("text");lt=lt.merge(lt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),J=J.merge(q),H=H.merge(q.append("line").attr("stroke","currentColor").attr(_+"2",g*o)),$=$.merge(q.append("text").attr("fill","currentColor").attr(_,g*B).attr("dy",t===Sn?"0em":t===ln?"0.71em":"0.32em")),x!==at&&(lt=lt.transition(x),J=J.transition(x),H=H.transition(x),$=$.transition(x),ot=ot.transition(x).attr("opacity",ar).attr("transform",function(O){return isFinite(O=Q(O))?k(O+f):this.getAttribute("transform")}),q.attr("opacity",ar).attr("transform",function(O){var W=this.parentNode.__axis;return k((W&&isFinite(W=W(O))?W:Q(O))+f)})),ot.remove(),lt.attr("d",t===an||t===jn?l?"M"+g*l+","+Y+"H"+f+"V"+X+"H"+g*l:"M"+f+","+Y+"V"+X:l?"M"+Y+","+g*l+"V"+f+"H"+X+"V"+g*l:"M"+Y+","+f+"H"+X),J.attr("opacity",1).attr("transform",function(O){return k(Q(O)+f)}),H.attr(_+"2",g*o),$.attr(_,g*B).text(R),at.filter(ne).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===jn?"start":t===an?"end":"middle"),at.each(function(){this.__axis=Q})}return w.scale=function(x){return arguments.length?(e=x,w):e},w.ticks=function(){return n=Array.from(arguments),w},w.tickArguments=function(x){return arguments.length?(n=x==null?[]:Array.from(x),w):n.slice()},w.tickValues=function(x){return arguments.length?(i=x==null?null:Array.from(x),w):i&&i.slice()},w.tickFormat=function(x){return arguments.length?(s=x,w):s},w.tickSize=function(x){return arguments.length?(o=l=+x,w):o},w.tickSizeInner=function(x){return arguments.length?(o=+x,w):o},w.tickSizeOuter=function(x){return arguments.length?(l=+x,w):l},w.tickPadding=function(x){return arguments.length?(u=+x,w):u},w.offset=function(x){return arguments.length?(f=+x,w):f},w}function Te(t){return he(Sn,t)}function ue(t){return he(ln,t)}var me={value:()=>{}};function ae(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new $e(n)}function $e(t){this._=t}function Ue(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}$e.prototype=ae.prototype={constructor:$e,on:function(t,e){var n=this._,i=Ue(t+"",n),s,o=-1,l=i.length;if(arguments.length<2){for(;++o<l;)if((s=(t=i[o]).type)&&(s=Ze(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<l;)if(s=(t=i[o]).type)n[s]=yn(n[s],t.name,e);else if(e==null)for(s in n)n[s]=yn(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new $e(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,o;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,s=o.length;i<s;++i)o[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],s=0,o=i.length;s<o;++s)i[s].value.apply(e,n)}};function Ze(t,e){for(var n=0,i=t.length,s;n<i;++n)if((s=t[n]).name===e)return s.value}function yn(t,e,n){for(var i=0,s=t.length;i<s;++i)if(t[i].name===e){t[i]=me,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var zn="http://www.w3.org/1999/xhtml";const dr={svg:"http://www.w3.org/2000/svg",xhtml:zn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),dr.hasOwnProperty(e)?{space:dr[e],local:t}:t}function gr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===zn&&e.documentElement.namespaceURI===zn?e.createElement(t):e.createElementNS(n,t)}}function es(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Va(t){var e=Jn(t);return(e.local?es:gr)(e)}function bf(){}function Ya(t){return t==null?bf:function(){return this.querySelector(t)}}function kf(t){typeof t!="function"&&(t=Ya(t));for(var e=this._groups,n=e.length,i=new Array(n),s=0;s<n;++s)for(var o=e[s],l=o.length,u=i[s]=new Array(l),f,g,_=0;_<l;++_)(f=o[_])&&(g=t.call(f,f.__data__,_,o))&&("__data__"in f&&(g.__data__=f.__data__),u[_]=g);return new Ni(i,this._parents)}function si(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function _s(){return[]}function hh(t){return t==null?_s:function(){return this.querySelectorAll(t)}}function r7(t){return function(){return si(t.apply(this,arguments))}}function i7(t){typeof t=="function"?t=r7(t):t=hh(t);for(var e=this._groups,n=e.length,i=[],s=[],o=0;o<n;++o)for(var l=e[o],u=l.length,f,g=0;g<u;++g)(f=l[g])&&(i.push(t.call(f,f.__data__,g,l)),s.push(f));return new Ni(i,s)}function Sv(t){return function(){return this.matches(t)}}function Av(t){return function(e){return e.matches(t)}}var s7=Array.prototype.find;function a7(t){return function(){return s7.call(this.children,t)}}function o7(){return this.firstElementChild}function l7(t){return this.select(t==null?o7:a7(typeof t=="function"?t:Av(t)))}var c7=Array.prototype.filter;function u7(){return Array.from(this.children)}function h7(t){return function(){return c7.call(this.children,t)}}function d7(t){return this.selectAll(t==null?u7:h7(typeof t=="function"?t:Av(t)))}function f7(t){typeof t!="function"&&(t=Sv(t));for(var e=this._groups,n=e.length,i=new Array(n),s=0;s<n;++s)for(var o=e[s],l=o.length,u=i[s]=[],f,g=0;g<l;++g)(f=o[g])&&t.call(f,f.__data__,g,o)&&u.push(f);return new Ni(i,this._parents)}function Lv(t){return new Array(t.length)}function p7(){return new Ni(this._enter||this._groups.map(Lv),this._parents)}function wf(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}wf.prototype={constructor:wf,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function g7(t){return function(){return t}}function m7(t,e,n,i,s,o){for(var l=0,u,f=e.length,g=o.length;l<g;++l)(u=e[l])?(u.__data__=o[l],i[l]=u):n[l]=new wf(t,o[l]);for(;l<f;++l)(u=e[l])&&(s[l]=u)}function y7(t,e,n,i,s,o,l){var u,f,g=new Map,_=e.length,k=o.length,w=new Array(_),x;for(u=0;u<_;++u)(f=e[u])&&(w[u]=x=l.call(f,f.__data__,u,e)+"",g.has(x)?s[u]=f:g.set(x,f));for(u=0;u<k;++u)x=l.call(t,o[u],u,o)+"",(f=g.get(x))?(i[u]=f,f.__data__=o[u],g.delete(x)):n[u]=new wf(t,o[u]);for(u=0;u<_;++u)(f=e[u])&&g.get(w[u])===f&&(s[u]=f)}function _7(t){return t.__data__}function v7(t,e){if(!arguments.length)return Array.from(this,_7);var n=e?y7:m7,i=this._parents,s=this._groups;typeof t!="function"&&(t=g7(t));for(var o=s.length,l=new Array(o),u=new Array(o),f=new Array(o),g=0;g<o;++g){var _=i[g],k=s[g],w=k.length,x=b7(t.call(_,_&&_.__data__,g,i)),M=x.length,R=u[g]=new Array(M),B=l[g]=new Array(M),U=f[g]=new Array(w);n(_,k,R,B,U,x,e);for(var Y=0,X=0,Q,at;Y<M;++Y)if(Q=R[Y]){for(Y>=X&&(X=Y+1);!(at=B[X])&&++X<M;);Q._next=at||null}}return l=new Ni(l,i),l._enter=u,l._exit=f,l}function b7(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function k7(){return new Ni(this._exit||this._groups.map(Lv),this._parents)}function w7(t,e,n){var i=this.enter(),s=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?o.remove():n(o),i&&s?i.merge(s).order():s}function x7(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,s=n.length,o=i.length,l=Math.min(s,o),u=new Array(s),f=0;f<l;++f)for(var g=n[f],_=i[f],k=g.length,w=u[f]=new Array(k),x,M=0;M<k;++M)(x=g[M]||_[M])&&(w[M]=x);for(;f<s;++f)u[f]=n[f];return new Ni(u,this._parents)}function T7(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],s=i.length-1,o=i[s],l;--s>=0;)(l=i[s])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function E7(t){t||(t=C7);function e(k,w){return k&&w?t(k.__data__,w.__data__):!k-!w}for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o){for(var l=n[o],u=l.length,f=s[o]=new Array(u),g,_=0;_<u;++_)(g=l[_])&&(f[_]=g);f.sort(e)}return new Ni(s,this._parents).order()}function C7(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function S7(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function A7(){return Array.from(this)}function L7(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],s=0,o=i.length;s<o;++s){var l=i[s];if(l)return l}return null}function I7(){let t=0;for(const e of this)++t;return t}function M7(){return!this.node()}function N7(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var s=e[n],o=0,l=s.length,u;o<l;++o)(u=s[o])&&t.call(u,u.__data__,o,s);return this}function O7(t){return function(){this.removeAttribute(t)}}function D7(t){return function(){this.removeAttributeNS(t.space,t.local)}}function R7(t,e){return function(){this.setAttribute(t,e)}}function B7(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function P7(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function F7(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function V7(t,e){var n=Jn(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?D7:O7:typeof e=="function"?n.local?F7:P7:n.local?B7:R7)(n,e))}function Iv(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Y7(t){return function(){this.style.removeProperty(t)}}function $7(t,e,n){return function(){this.style.setProperty(t,e,n)}}function U7(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function z7(t,e,n){return arguments.length>1?this.each((e==null?Y7:typeof e=="function"?U7:$7)(t,e,n??"")):zc(this.node(),t)}function zc(t,e){return t.style.getPropertyValue(e)||Iv(t).getComputedStyle(t,null).getPropertyValue(e)}function H7(t){return function(){delete this[t]}}function W7(t,e){return function(){this[t]=e}}function j7(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function q7(t,e){return arguments.length>1?this.each((e==null?H7:typeof e=="function"?j7:W7)(t,e)):this.node()[t]}function Mv(t){return t.trim().split(/^|\s+/)}function og(t){return t.classList||new Nv(t)}function Nv(t){this._node=t,this._names=Mv(t.getAttribute("class")||"")}Nv.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ov(t,e){for(var n=og(t),i=-1,s=e.length;++i<s;)n.add(e[i])}function Dv(t,e){for(var n=og(t),i=-1,s=e.length;++i<s;)n.remove(e[i])}function G7(t){return function(){Ov(this,t)}}function X7(t){return function(){Dv(this,t)}}function K7(t,e){return function(){(e.apply(this,arguments)?Ov:Dv)(this,t)}}function Z7(t,e){var n=Mv(t+"");if(arguments.length<2){for(var i=og(this.node()),s=-1,o=n.length;++s<o;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?K7:e?G7:X7)(n,e))}function Q7(){this.textContent=""}function J7(t){return function(){this.textContent=t}}function tS(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function eS(t){return arguments.length?this.each(t==null?Q7:(typeof t=="function"?tS:J7)(t)):this.node().textContent}function nS(){this.innerHTML=""}function rS(t){return function(){this.innerHTML=t}}function iS(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function sS(t){return arguments.length?this.each(t==null?nS:(typeof t=="function"?iS:rS)(t)):this.node().innerHTML}function aS(){this.nextSibling&&this.parentNode.appendChild(this)}function oS(){return this.each(aS)}function lS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cS(){return this.each(lS)}function uS(t){var e=typeof t=="function"?t:Va(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function hS(){return null}function dS(t,e){var n=typeof t=="function"?t:Va(t),i=e==null?hS:typeof e=="function"?e:Ya(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function fS(){var t=this.parentNode;t&&t.removeChild(this)}function pS(){return this.each(fS)}function gS(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function mS(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yS(t){return this.select(t?mS:gS)}function _S(t){return arguments.length?this.property("__data__",t):this.node().__data__}function vS(t){return function(e){t.call(this,e,this.__data__)}}function bS(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function kS(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,s=e.length,o;n<s;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function wS(t,e,n){return function(){var i=this.__on,s,o=vS(e);if(i){for(var l=0,u=i.length;l<u;++l)if((s=i[l]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=e;return}}this.addEventListener(t.type,o,n),s={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(s):this.__on=[s]}}function xS(t,e,n){var i=bS(t+""),s,o=i.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,g=u.length,_;f<g;++f)for(s=0,_=u[f];s<o;++s)if((l=i[s]).type===_.type&&l.name===_.name)return _.value}return}for(u=e?wS:kS,s=0;s<o;++s)this.each(u(i[s],e,n));return this}function Rv(t,e,n){var i=Iv(t),s=i.CustomEvent;typeof s=="function"?s=new s(e,n):(s=i.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function TS(t,e){return function(){return Rv(this,t,e)}}function ES(t,e){return function(){return Rv(this,t,e.apply(this,arguments))}}function CS(t,e){return this.each((typeof e=="function"?ES:TS)(t,e))}function*SS(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],s=0,o=i.length,l;s<o;++s)(l=i[s])&&(yield l)}var lg=[null];function Ni(t,e){this._groups=t,this._parents=e}function dh(){return new Ni([[document.documentElement]],lg)}function AS(){return this}Ni.prototype=dh.prototype={constructor:Ni,select:kf,selectAll:i7,selectChild:l7,selectChildren:d7,filter:f7,data:v7,enter:p7,exit:k7,join:w7,merge:x7,selection:AS,order:T7,sort:E7,call:S7,nodes:A7,node:L7,size:I7,empty:M7,each:N7,attr:V7,style:z7,property:q7,classed:Z7,text:eS,html:sS,raise:oS,lower:cS,append:uS,insert:dS,remove:pS,clone:yS,datum:_S,on:xS,dispatch:CS,[Symbol.iterator]:SS};function re(t){return typeof t=="string"?new Ni([[document.querySelector(t)]],[document.documentElement]):new Ni([[t]],lg)}function cg(t){return typeof t=="string"?new Ni([document.querySelectorAll(t)],[document.documentElement]):new Ni([si(t)],lg)}function fh(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xf(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function kl(){}var ph=.7,Tf=1/ph,Hc="\\s*([+-]?\\d+)\\s*",gh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ga="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LS=/^#([0-9a-f]{3,8})$/,IS=new RegExp(`^rgb\\(${Hc},${Hc},${Hc}\\)$`),MS=new RegExp(`^rgb\\(${ga},${ga},${ga}\\)$`),NS=new RegExp(`^rgba\\(${Hc},${Hc},${Hc},${gh}\\)$`),OS=new RegExp(`^rgba\\(${ga},${ga},${ga},${gh}\\)$`),DS=new RegExp(`^hsl\\(${gh},${ga},${ga}\\)$`),RS=new RegExp(`^hsla\\(${gh},${ga},${ga},${gh}\\)$`),Bv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fh(kl,wl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Pv,formatHex:Pv,formatHex8:BS,formatHsl:PS,formatRgb:Fv,toString:Fv});function Pv(){return this.rgb().formatHex()}function BS(){return this.rgb().formatHex8()}function PS(){return Hv(this).formatHsl()}function Fv(){return this.rgb().formatRgb()}function wl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=LS.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Vv(e):n===3?new wi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ef(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ef(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=IS.exec(t))?new wi(e[1],e[2],e[3],1):(e=MS.exec(t))?new wi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=NS.exec(t))?Ef(e[1],e[2],e[3],e[4]):(e=OS.exec(t))?Ef(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=DS.exec(t))?zv(e[1],e[2]/100,e[3]/100,1):(e=RS.exec(t))?zv(e[1],e[2]/100,e[3]/100,e[4]):Bv.hasOwnProperty(t)?Vv(Bv[t]):t==="transparent"?new wi(NaN,NaN,NaN,0):null}function Vv(t){return new wi(t>>16&255,t>>8&255,t&255,1)}function Ef(t,e,n,i){return i<=0&&(t=e=n=NaN),new wi(t,e,n,i)}function Yv(t){return t instanceof kl||(t=wl(t)),t?(t=t.rgb(),new wi(t.r,t.g,t.b,t.opacity)):new wi}function ug(t,e,n,i){return arguments.length===1?Yv(t):new wi(t,e,n,i??1)}function wi(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}fh(wi,ug,xf(kl,{brighter(t){return t=t==null?Tf:Math.pow(Tf,t),new wi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ph:Math.pow(ph,t),new wi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wi(xl(this.r),xl(this.g),xl(this.b),Cf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$v,formatHex:$v,formatHex8:FS,formatRgb:Uv,toString:Uv}));function $v(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}`}function FS(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}${Tl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Uv(){const t=Cf(this.opacity);return`${t===1?"rgb(":"rgba("}${xl(this.r)}, ${xl(this.g)}, ${xl(this.b)}${t===1?")":`, ${t})`}`}function Cf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Tl(t){return t=xl(t),(t<16?"0":"")+t.toString(16)}function zv(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rs(t,e,n,i)}function Hv(t){if(t instanceof Rs)return new Rs(t.h,t.s,t.l,t.opacity);if(t instanceof kl||(t=wl(t)),!t)return new Rs;if(t instanceof Rs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,s=Math.min(e,n,i),o=Math.max(e,n,i),l=NaN,u=o-s,f=(o+s)/2;return u?(e===o?l=(n-i)/u+(n<i)*6:n===o?l=(i-e)/u+2:l=(e-n)/u+4,u/=f<.5?o+s:2-o-s,l*=60):u=f>0&&f<1?0:l,new Rs(l,u,f,t.opacity)}function VS(t,e,n,i){return arguments.length===1?Hv(t):new Rs(t,e,n,i??1)}function Rs(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}fh(Rs,VS,xf(kl,{brighter(t){return t=t==null?Tf:Math.pow(Tf,t),new Rs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ph:Math.pow(ph,t),new Rs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,s=2*n-i;return new wi(hg(t>=240?t-240:t+120,s,i),hg(t,s,i),hg(t<120?t+240:t-120,s,i),this.opacity)},clamp(){return new Rs(Wv(this.h),Sf(this.s),Sf(this.l),Cf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cf(this.opacity);return`${t===1?"hsl(":"hsla("}${Wv(this.h)}, ${Sf(this.s)*100}%, ${Sf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Wv(t){return t=(t||0)%360,t<0?t+360:t}function Sf(t){return Math.max(0,Math.min(1,t||0))}function hg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const YS=Math.PI/180,$S=180/Math.PI,Af=18,jv=.96422,qv=1,Gv=.82521,Xv=4/29,Wc=6/29,Kv=3*Wc*Wc,US=Wc*Wc*Wc;function Zv(t){if(t instanceof ma)return new ma(t.l,t.a,t.b,t.opacity);if(t instanceof $a)return Qv(t);t instanceof wi||(t=Yv(t));var e=gg(t.r),n=gg(t.g),i=gg(t.b),s=dg((.2225045*e+.7168786*n+.0606169*i)/qv),o,l;return e===n&&n===i?o=l=s:(o=dg((.4360747*e+.3850649*n+.1430804*i)/jv),l=dg((.0139322*e+.0971045*n+.7141733*i)/Gv)),new ma(116*s-16,500*(o-s),200*(s-l),t.opacity)}function zS(t,e,n,i){return arguments.length===1?Zv(t):new ma(t,e,n,i??1)}function ma(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}fh(ma,zS,xf(kl,{brighter(t){return new ma(this.l+Af*(t??1),this.a,this.b,this.opacity)},darker(t){return new ma(this.l-Af*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=jv*fg(e),t=qv*fg(t),n=Gv*fg(n),new wi(pg(3.1338561*e-1.6168667*t-.4906146*n),pg(-.9787684*e+1.9161415*t+.033454*n),pg(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function dg(t){return t>US?Math.pow(t,1/3):t/Kv+Xv}function fg(t){return t>Wc?t*t*t:Kv*(t-Xv)}function pg(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function gg(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function HS(t){if(t instanceof $a)return new $a(t.h,t.c,t.l,t.opacity);if(t instanceof ma||(t=Zv(t)),t.a===0&&t.b===0)return new $a(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*$S;return new $a(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function mg(t,e,n,i){return arguments.length===1?HS(t):new $a(t,e,n,i??1)}function $a(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Qv(t){if(isNaN(t.h))return new ma(t.l,0,0,t.opacity);var e=t.h*YS;return new ma(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}fh($a,mg,xf(kl,{brighter(t){return new $a(this.h,this.c,this.l+Af*(t??1),this.opacity)},darker(t){return new $a(this.h,this.c,this.l-Af*(t??1),this.opacity)},rgb(){return Qv(this).rgb()}}));const Lf=t=>()=>t;function Jv(t,e){return function(n){return t+n*e}}function WS(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function jS(t,e){var n=e-t;return n?Jv(t,n>180||n<-180?n-360*Math.round(n/360):n):Lf(isNaN(t)?e:t)}function qS(t){return(t=+t)==1?mh:function(e,n){return n-e?WS(e,n,t):Lf(isNaN(e)?n:e)}}function mh(t,e){var n=e-t;return n?Jv(t,n):Lf(isNaN(t)?e:t)}const If=function t(e){var n=qS(e);function i(s,o){var l=n((s=ug(s)).r,(o=ug(o)).r),u=n(s.g,o.g),f=n(s.b,o.b),g=mh(s.opacity,o.opacity);return function(_){return s.r=l(_),s.g=u(_),s.b=f(_),s.opacity=g(_),s+""}}return i.gamma=t,i}(1);function GS(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),s;return function(o){for(s=0;s<n;++s)i[s]=t[s]*(1-o)+e[s]*o;return i}}function XS(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function KS(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,s=new Array(i),o=new Array(n),l;for(l=0;l<i;++l)s[l]=vg(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(u){for(l=0;l<i;++l)o[l]=s[l](u);return o}}function ZS(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Bs(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function QS(t,e){var n={},i={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=vg(t[s],e[s]):i[s]=e[s];return function(o){for(s in n)i[s]=n[s](o);return i}}var yg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_g=new RegExp(yg.source,"g");function JS(t){return function(){return t}}function t9(t){return function(e){return t(e)+""}}function tb(t,e){var n=yg.lastIndex=_g.lastIndex=0,i,s,o,l=-1,u=[],f=[];for(t=t+"",e=e+"";(i=yg.exec(t))&&(s=_g.exec(e));)(o=s.index)>n&&(o=e.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(i=i[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,f.push({i:l,x:Bs(i,s)})),n=_g.lastIndex;return n<e.length&&(o=e.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?f[0]?t9(f[0].x):JS(e):(e=f.length,function(g){for(var _=0,k;_<e;++_)u[(k=f[_]).i]=k.x(g);return u.join("")})}function vg(t,e){var n=typeof e,i;return e==null||n==="boolean"?Lf(e):(n==="number"?Bs:n==="string"?(i=wl(e))?(e=i,If):tb:e instanceof wl?If:e instanceof Date?ZS:XS(e)?GS:Array.isArray(e)?KS:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?QS:Bs)(t,e)}function e9(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var eb=180/Math.PI,bg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nb(t,e,n,i,s,o){var l,u,f;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(f=t*n+e*i)&&(n-=t*f,i-=e*f),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,f/=u),t*i<e*n&&(t=-t,e=-e,f=-f,l=-l),{translateX:s,translateY:o,rotate:Math.atan2(e,t)*eb,skewX:Math.atan(f)*eb,scaleX:l,scaleY:u}}var Mf;function n9(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?bg:nb(e.a,e.b,e.c,e.d,e.e,e.f)}function r9(t){return t==null||(Mf||(Mf=document.createElementNS("http://www.w3.org/2000/svg","g")),Mf.setAttribute("transform",t),!(t=Mf.transform.baseVal.consolidate()))?bg:(t=t.matrix,nb(t.a,t.b,t.c,t.d,t.e,t.f))}function rb(t,e,n,i){function s(g){return g.length?g.pop()+" ":""}function o(g,_,k,w,x,M){if(g!==k||_!==w){var R=x.push("translate(",null,e,null,n);M.push({i:R-4,x:Bs(g,k)},{i:R-2,x:Bs(_,w)})}else(k||w)&&x.push("translate("+k+e+w+n)}function l(g,_,k,w){g!==_?(g-_>180?_+=360:_-g>180&&(g+=360),w.push({i:k.push(s(k)+"rotate(",null,i)-2,x:Bs(g,_)})):_&&k.push(s(k)+"rotate("+_+i)}function u(g,_,k,w){g!==_?w.push({i:k.push(s(k)+"skewX(",null,i)-2,x:Bs(g,_)}):_&&k.push(s(k)+"skewX("+_+i)}function f(g,_,k,w,x,M){if(g!==k||_!==w){var R=x.push(s(x)+"scale(",null,",",null,")");M.push({i:R-4,x:Bs(g,k)},{i:R-2,x:Bs(_,w)})}else(k!==1||w!==1)&&x.push(s(x)+"scale("+k+","+w+")")}return function(g,_){var k=[],w=[];return g=t(g),_=t(_),o(g.translateX,g.translateY,_.translateX,_.translateY,k,w),l(g.rotate,_.rotate,k,w),u(g.skewX,_.skewX,k,w),f(g.scaleX,g.scaleY,_.scaleX,_.scaleY,k,w),g=_=null,function(x){for(var M=-1,R=w.length,B;++M<R;)k[(B=w[M]).i]=B.x(x);return k.join("")}}}var i9=rb(n9,"px, ","px)","deg)"),s9=rb(r9,", ",")",")");function a9(t){return function(e,n){var i=t((e=mg(e)).h,(n=mg(n)).h),s=mh(e.c,n.c),o=mh(e.l,n.l),l=mh(e.opacity,n.opacity);return function(u){return e.h=i(u),e.c=s(u),e.l=o(u),e.opacity=l(u),e+""}}}const o9=a9(jS);var jc=0,yh=0,_h=0,ib=1e3,Nf,vh,Of=0,El=0,Df=0,bh=typeof performance=="object"&&performance.now?performance:Date,sb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function kg(){return El||(sb(l9),El=bh.now()+Df)}function l9(){El=0}function Rf(){this._call=this._time=this._next=null}Rf.prototype=ab.prototype={constructor:Rf,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?kg():+n)+(e==null?0:+e),!this._next&&vh!==this&&(vh?vh._next=this:Nf=this,vh=this),this._call=t,this._time=n,wg()},stop:function(){this._call&&(this._call=null,this._time=1/0,wg())}};function ab(t,e,n){var i=new Rf;return i.restart(t,e,n),i}function c9(){kg(),++jc;for(var t=Nf,e;t;)(e=El-t._time)>=0&&t._call.call(void 0,e),t=t._next;--jc}function ob(){El=(Of=bh.now())+Df,jc=yh=0;try{c9()}finally{jc=0,h9(),El=0}}function u9(){var t=bh.now(),e=t-Of;e>ib&&(Df-=e,Of=t)}function h9(){for(var t,e=Nf,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Nf=n);vh=t,wg(i)}function wg(t){if(!jc){yh&&(yh=clearTimeout(yh));var e=t-El;e>24?(t<1/0&&(yh=setTimeout(ob,t-bh.now()-Df)),_h&&(_h=clearInterval(_h))):(_h||(Of=bh.now(),_h=setInterval(u9,ib)),jc=1,sb(ob))}}function lb(t,e,n){var i=new Rf;return e=e==null?0:+e,i.restart(s=>{i.stop(),t(s+e)},e,n),i}var d9=ae("start","end","cancel","interrupt"),f9=[],cb=0,ub=1,xg=2,Bf=3,hb=4,Tg=5,Pf=6;function Ff(t,e,n,i,s,o){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;p9(t,n,{name:e,index:i,group:s,on:d9,tween:f9,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:cb})}function Eg(t,e){var n=Ps(t,e);if(n.state>cb)throw new Error("too late; already scheduled");return n}function ya(t,e){var n=Ps(t,e);if(n.state>Bf)throw new Error("too late; already running");return n}function Ps(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function p9(t,e,n){var i=t.__transition,s;i[e]=n,n.timer=ab(o,0,n.time);function o(g){n.state=ub,n.timer.restart(l,n.delay,n.time),n.delay<=g&&l(g-n.delay)}function l(g){var _,k,w,x;if(n.state!==ub)return f();for(_ in i)if(x=i[_],x.name===n.name){if(x.state===Bf)return lb(l);x.state===hb?(x.state=Pf,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete i[_]):+_<e&&(x.state=Pf,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete i[_])}if(lb(function(){n.state===Bf&&(n.state=hb,n.timer.restart(u,n.delay,n.time),u(g))}),n.state=xg,n.on.call("start",t,t.__data__,n.index,n.group),n.state===xg){for(n.state=Bf,s=new Array(w=n.tween.length),_=0,k=-1;_<w;++_)(x=n.tween[_].value.call(t,t.__data__,n.index,n.group))&&(s[++k]=x);s.length=k+1}}function u(g){for(var _=g<n.duration?n.ease.call(null,g/n.duration):(n.timer.restart(f),n.state=Tg,1),k=-1,w=s.length;++k<w;)s[k].call(t,_);n.state===Tg&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=Pf,n.timer.stop(),delete i[e];for(var g in i)return;delete t.__transition}}function g9(t,e){var n=t.__transition,i,s,o=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((i=n[l]).name!==e){o=!1;continue}s=i.state>xg&&i.state<Tg,i.state=Pf,i.timer.stop(),i.on.call(s?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[l]}o&&delete t.__transition}}function m9(t){return this.each(function(){g9(this,t)})}function y9(t,e){var n,i;return function(){var s=ya(this,t),o=s.tween;if(o!==n){i=n=o;for(var l=0,u=i.length;l<u;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}s.tween=i}}function _9(t,e,n){var i,s;if(typeof n!="function")throw new Error;return function(){var o=ya(this,t),l=o.tween;if(l!==i){s=(i=l).slice();for(var u={name:e,value:n},f=0,g=s.length;f<g;++f)if(s[f].name===e){s[f]=u;break}f===g&&s.push(u)}o.tween=s}}function v9(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Ps(this.node(),n).tween,s=0,o=i.length,l;s<o;++s)if((l=i[s]).name===t)return l.value;return null}return this.each((e==null?y9:_9)(n,t,e))}function Cg(t,e,n){var i=t._id;return t.each(function(){var s=ya(this,i);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return Ps(s,i).value[e]}}function db(t,e){var n;return(typeof e=="number"?Bs:e instanceof wl?If:(n=wl(e))?(e=n,If):tb)(t,e)}function b9(t){return function(){this.removeAttribute(t)}}function k9(t){return function(){this.removeAttributeNS(t.space,t.local)}}function w9(t,e,n){var i,s=n+"",o;return function(){var l=this.getAttribute(t);return l===s?null:l===i?o:o=e(i=l,n)}}function x9(t,e,n){var i,s=n+"",o;return function(){var l=this.getAttributeNS(t.space,t.local);return l===s?null:l===i?o:o=e(i=l,n)}}function T9(t,e,n){var i,s,o;return function(){var l,u=n(this),f;return u==null?void this.removeAttribute(t):(l=this.getAttribute(t),f=u+"",l===f?null:l===i&&f===s?o:(s=f,o=e(i=l,u)))}}function E9(t,e,n){var i,s,o;return function(){var l,u=n(this),f;return u==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),f=u+"",l===f?null:l===i&&f===s?o:(s=f,o=e(i=l,u)))}}function C9(t,e){var n=Jn(t),i=n==="transform"?s9:db;return this.attrTween(t,typeof e=="function"?(n.local?E9:T9)(n,i,Cg(this,"attr."+t,e)):e==null?(n.local?k9:b9)(n):(n.local?x9:w9)(n,i,e))}function S9(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function A9(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function L9(t,e){var n,i;function s(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&A9(t,o)),n}return s._value=e,s}function I9(t,e){var n,i;function s(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&S9(t,o)),n}return s._value=e,s}function M9(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Jn(t);return this.tween(n,(i.local?L9:I9)(i,e))}function N9(t,e){return function(){Eg(this,t).delay=+e.apply(this,arguments)}}function O9(t,e){return e=+e,function(){Eg(this,t).delay=e}}function D9(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?N9:O9)(e,t)):Ps(this.node(),e).delay}function R9(t,e){return function(){ya(this,t).duration=+e.apply(this,arguments)}}function B9(t,e){return e=+e,function(){ya(this,t).duration=e}}function P9(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?R9:B9)(e,t)):Ps(this.node(),e).duration}function F9(t,e){if(typeof e!="function")throw new Error;return function(){ya(this,t).ease=e}}function V9(t){var e=this._id;return arguments.length?this.each(F9(e,t)):Ps(this.node(),e).ease}function Y9(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ya(this,t).ease=n}}function $9(t){if(typeof t!="function")throw new Error;return this.each(Y9(this._id,t))}function U9(t){typeof t!="function"&&(t=Sv(t));for(var e=this._groups,n=e.length,i=new Array(n),s=0;s<n;++s)for(var o=e[s],l=o.length,u=i[s]=[],f,g=0;g<l;++g)(f=o[g])&&t.call(f,f.__data__,g,o)&&u.push(f);return new Ua(i,this._parents,this._name,this._id)}function z9(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,s=n.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var f=e[u],g=n[u],_=f.length,k=l[u]=new Array(_),w,x=0;x<_;++x)(w=f[x]||g[x])&&(k[x]=w);for(;u<i;++u)l[u]=e[u];return new Ua(l,this._parents,this._name,this._id)}function H9(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function W9(t,e,n){var i,s,o=H9(e)?Eg:ya;return function(){var l=o(this,t),u=l.on;u!==i&&(s=(i=u).copy()).on(e,n),l.on=s}}function j9(t,e){var n=this._id;return arguments.length<2?Ps(this.node(),n).on.on(t):this.each(W9(n,t,e))}function q9(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function G9(){return this.on("end.remove",q9(this._id))}function X9(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ya(t));for(var i=this._groups,s=i.length,o=new Array(s),l=0;l<s;++l)for(var u=i[l],f=u.length,g=o[l]=new Array(f),_,k,w=0;w<f;++w)(_=u[w])&&(k=t.call(_,_.__data__,w,u))&&("__data__"in _&&(k.__data__=_.__data__),g[w]=k,Ff(g[w],e,n,w,g,Ps(_,n)));return new Ua(o,this._parents,e,n)}function K9(t){var e=this._name,n=this._id;typeof t!="function"&&(t=hh(t));for(var i=this._groups,s=i.length,o=[],l=[],u=0;u<s;++u)for(var f=i[u],g=f.length,_,k=0;k<g;++k)if(_=f[k]){for(var w=t.call(_,_.__data__,k,f),x,M=Ps(_,n),R=0,B=w.length;R<B;++R)(x=w[R])&&Ff(x,e,n,R,w,M);o.push(w),l.push(_)}return new Ua(o,l,e,n)}var Z9=dh.prototype.constructor;function Q9(){return new Z9(this._groups,this._parents)}function J9(t,e){var n,i,s;return function(){var o=zc(this,t),l=(this.style.removeProperty(t),zc(this,t));return o===l?null:o===n&&l===i?s:s=e(n=o,i=l)}}function fb(t){return function(){this.style.removeProperty(t)}}function tA(t,e,n){var i,s=n+"",o;return function(){var l=zc(this,t);return l===s?null:l===i?o:o=e(i=l,n)}}function eA(t,e,n){var i,s,o;return function(){var l=zc(this,t),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(t),zc(this,t))),l===f?null:l===i&&f===s?o:(s=f,o=e(i=l,u))}}function nA(t,e){var n,i,s,o="style."+e,l="end."+o,u;return function(){var f=ya(this,t),g=f.on,_=f.value[o]==null?u||(u=fb(e)):void 0;(g!==n||s!==_)&&(i=(n=g).copy()).on(l,s=_),f.on=i}}function rA(t,e,n){var i=(t+="")=="transform"?i9:db;return e==null?this.styleTween(t,J9(t,i)).on("end.style."+t,fb(t)):typeof e=="function"?this.styleTween(t,eA(t,i,Cg(this,"style."+t,e))).each(nA(this._id,t)):this.styleTween(t,tA(t,i,e),n).on("end.style."+t,null)}function iA(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function sA(t,e,n){var i,s;function o(){var l=e.apply(this,arguments);return l!==s&&(i=(s=l)&&iA(t,l,n)),i}return o._value=e,o}function aA(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,sA(t,e,n??""))}function oA(t){return function(){this.textContent=t}}function lA(t){return function(){var e=t(this);this.textContent=e??""}}function cA(t){return this.tween("text",typeof t=="function"?lA(Cg(this,"text",t)):oA(t==null?"":t+""))}function uA(t){return function(e){this.textContent=t.call(this,e)}}function hA(t){var e,n;function i(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&uA(s)),e}return i._value=t,i}function dA(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,hA(t))}function fA(){for(var t=this._name,e=this._id,n=pb(),i=this._groups,s=i.length,o=0;o<s;++o)for(var l=i[o],u=l.length,f,g=0;g<u;++g)if(f=l[g]){var _=Ps(f,e);Ff(f,t,n,g,l,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Ua(i,this._parents,t,n)}function pA(){var t,e,n=this,i=n._id,s=n.size();return new Promise(function(o,l){var u={value:l},f={value:function(){--s===0&&o()}};n.each(function(){var g=ya(this,i),_=g.on;_!==t&&(e=(t=_).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(f)),g.on=e}),s===0&&o()})}var gA=0;function Ua(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function pb(){return++gA}var za=dh.prototype;Ua.prototype={constructor:Ua,select:X9,selectAll:K9,selectChild:za.selectChild,selectChildren:za.selectChildren,filter:U9,merge:z9,selection:Q9,transition:fA,call:za.call,nodes:za.nodes,node:za.node,size:za.size,empty:za.empty,each:za.each,on:j9,attr:C9,attrTween:M9,style:rA,styleTween:aA,text:cA,textTween:dA,remove:G9,tween:v9,delay:D9,duration:P9,ease:V9,easeVarying:$9,end:pA,[Symbol.iterator]:za[Symbol.iterator]};function mA(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var yA={time:null,delay:0,duration:250,ease:mA};function _A(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function vA(t){var e,n;t instanceof Ua?(e=t._id,t=t._name):(e=pb(),(n=yA).time=kg(),t=t==null?null:t+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var l=i[o],u=l.length,f,g=0;g<u;++g)(f=l[g])&&Ff(f,t,e,g,l,n||_A(f,e));return new Ua(i,this._parents,t,e)}dh.prototype.interrupt=m9,dh.prototype.transition=vA;const Sg=Math.PI,Ag=2*Sg,Cl=1e-6,bA=Ag-Cl;function Lg(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ig(){return new Lg}Lg.prototype=Ig.prototype={constructor:Lg,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,s,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+s)+","+(this._y1=+o)},arcTo:function(t,e,n,i,s){t=+t,e=+e,n=+n,i=+i,s=+s;var o=this._x1,l=this._y1,u=n-t,f=i-e,g=o-t,_=l-e,k=g*g+_*_;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(k>Cl)if(!(Math.abs(_*u-f*g)>Cl)||!s)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var w=n-o,x=i-l,M=u*u+f*f,R=w*w+x*x,B=Math.sqrt(M),U=Math.sqrt(k),Y=s*Math.tan((Sg-Math.acos((M+k-R)/(2*B*U)))/2),X=Y/U,Q=Y/B;Math.abs(X-1)>Cl&&(this._+="L"+(t+X*g)+","+(e+X*_)),this._+="A"+s+","+s+",0,0,"+ +(_*w>g*x)+","+(this._x1=t+Q*u)+","+(this._y1=e+Q*f)}},arc:function(t,e,n,i,s,o){t=+t,e=+e,n=+n,o=!!o;var l=n*Math.cos(i),u=n*Math.sin(i),f=t+l,g=e+u,_=1^o,k=o?i-s:s-i;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+f+","+g:(Math.abs(this._x1-f)>Cl||Math.abs(this._y1-g)>Cl)&&(this._+="L"+f+","+g),n&&(k<0&&(k=k%Ag+Ag),k>bA?this._+="A"+n+","+n+",0,1,"+_+","+(t-l)+","+(e-u)+"A"+n+","+n+",0,1,"+_+","+(this._x1=f)+","+(this._y1=g):k>Cl&&(this._+="A"+n+","+n+",0,"+ +(k>=Sg)+","+_+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=e+n*Math.sin(s))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};function kA(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function wA(t,e){return fetch(t,e).then(kA)}function xA(t){return(e,n)=>wA(e,n).then(i=>new DOMParser().parseFromString(i,t))}var TA=xA("image/svg+xml");function EA(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function qc(t){return t=Vf(Math.abs(t)),t?t[1]:NaN}function CA(t,e){return function(n,i){for(var s=n.length,o=[],l=0,u=t[0],f=0;s>0&&u>0&&(f+u+1>i&&(u=Math.max(1,i-f)),o.push(n.substring(s-=u,s+u)),!((f+=u+1)>i));)u=t[l=(l+1)%t.length];return o.reverse().join(e)}}function SA(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var AA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yf(t){if(!(e=AA.exec(t)))throw new Error("invalid format: "+t);var e;return new Mg({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yf.prototype=Mg.prototype;function Mg(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Mg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LA(t){t:for(var e=t.length,n=1,i=-1,s;n<e;++n)switch(t[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+t[n])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(s+1):t}var gb;function IA(t,e){var n=Vf(t,e);if(!n)return t+"";var i=n[0],s=n[1],o=s-(gb=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=i.length;return o===l?i:o>l?i+new Array(o-l+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Vf(t,Math.max(0,e+o-1))[0]}function mb(t,e){var n=Vf(t,e);if(!n)return t+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const yb={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:EA,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>mb(t*100,e),r:mb,s:IA,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _b(t){return t}var vb=Array.prototype.map,bb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function MA(t){var e=t.grouping===void 0||t.thousands===void 0?_b:CA(vb.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?_b:SA(vb.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function g(k){k=Yf(k);var w=k.fill,x=k.align,M=k.sign,R=k.symbol,B=k.zero,U=k.width,Y=k.comma,X=k.precision,Q=k.trim,at=k.type;at==="n"?(Y=!0,at="g"):yb[at]||(X===void 0&&(X=12),Q=!0,at="g"),(B||w==="0"&&x==="=")&&(B=!0,w="0",x="=");var lt=R==="$"?n:R==="#"&&/[boxX]/.test(at)?"0"+at.toLowerCase():"",J=R==="$"?i:/[%p]/.test(at)?l:"",ot=yb[at],q=/[defgprs%]/.test(at);X=X===void 0?6:/[gprs]/.test(at)?Math.max(1,Math.min(21,X)):Math.max(0,Math.min(20,X));function H($){var O=lt,W=J,A,mt,I;if(at==="c")W=ot($)+W,$="";else{$=+$;var It=$<0||1/$<0;if($=isNaN($)?f:ot(Math.abs($),X),Q&&($=LA($)),It&&+$==0&&M!=="+"&&(It=!1),O=(It?M==="("?M:u:M==="-"||M==="("?"":M)+O,W=(at==="s"?bb[8+gb/3]:"")+W+(It&&M==="("?")":""),q){for(A=-1,mt=$.length;++A<mt;)if(I=$.charCodeAt(A),48>I||I>57){W=(I===46?s+$.slice(A+1):$.slice(A))+W,$=$.slice(0,A);break}}}Y&&!B&&($=e($,1/0));var le=O.length+$.length+W.length,qt=le<U?new Array(U-le+1).join(w):"";switch(Y&&B&&($=e(qt+$,qt.length?U-W.length:1/0),qt=""),x){case"<":$=O+$+W+qt;break;case"=":$=O+qt+$+W;break;case"^":$=qt.slice(0,le=qt.length>>1)+O+$+W+qt.slice(le);break;default:$=qt+O+$+W;break}return o($)}return H.toString=function(){return k+""},H}function _(k,w){var x=g((k=Yf(k),k.type="f",k)),M=Math.max(-8,Math.min(8,Math.floor(qc(w)/3)))*3,R=Math.pow(10,-M),B=bb[8+M/3];return function(U){return x(R*U)+B}}return{format:g,formatPrefix:_}}var $f,kb,wb;NA({thousands:",",grouping:[3],currency:["$",""]});function NA(t){return $f=MA(t),kb=$f.format,wb=$f.formatPrefix,$f}function OA(t){return Math.max(0,-qc(Math.abs(t)))}function DA(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qc(e)/3)))*3-qc(Math.abs(t)))}function RA(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qc(e)-qc(t))+1}function Ng(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const xb=Symbol("implicit");function Tb(){var t=new Kn,e=[],n=[],i=xb;function s(o){let l=t.get(o);if(l===void 0){if(i!==xb)return i;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return s.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Kn;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.copy=function(){return Tb(e,n).unknown(i)},Ng.apply(s,arguments),s}function BA(t){return function(){return t}}function PA(t){return+t}var Eb=[0,1];function Gc(t){return t}function Og(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:BA(isNaN(e)?NaN:.5)}function FA(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function VA(t,e,n){var i=t[0],s=t[1],o=e[0],l=e[1];return s<i?(i=Og(s,i),o=n(l,o)):(i=Og(i,s),o=n(o,l)),function(u){return o(i(u))}}function YA(t,e,n){var i=Math.min(t.length,e.length)-1,s=new Array(i),o=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)s[l]=Og(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(u){var f=pr(t,u,1,i)-1;return o[f](s[f](u))}}function Cb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $A(){var t=Eb,e=Eb,n=vg,i,s,o,l=Gc,u,f,g;function _(){var w=Math.min(t.length,e.length);return l!==Gc&&(l=FA(t[0],t[w-1])),u=w>2?YA:VA,f=g=null,k}function k(w){return w==null||isNaN(w=+w)?o:(f||(f=u(t.map(i),e,n)))(i(l(w)))}return k.invert=function(w){return l(s((g||(g=u(e,t.map(i),Bs)))(w)))},k.domain=function(w){return arguments.length?(t=Array.from(w,PA),_()):t.slice()},k.range=function(w){return arguments.length?(e=Array.from(w),_()):e.slice()},k.rangeRound=function(w){return e=Array.from(w),n=e9,_()},k.clamp=function(w){return arguments.length?(l=w?!0:Gc,_()):l!==Gc},k.interpolate=function(w){return arguments.length?(n=w,_()):n},k.unknown=function(w){return arguments.length?(o=w,k):o},function(w,x){return i=w,s=x,_()}}function Sb(){return $A()(Gc,Gc)}function UA(t,e,n,i){var s=Ut(t,e,n),o;switch(i=Yf(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(o=DA(s,l))&&(i.precision=o),wb(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=RA(s,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=OA(s))&&(i.precision=o-(i.type==="%")*2);break}}return kb(i)}function zA(t){var e=t.domain;return t.ticks=function(n){var i=e();return ys(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var s=e();return UA(s[0],s[s.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),s=0,o=i.length-1,l=i[s],u=i[o],f,g,_=10;for(u<l&&(g=l,l=u,u=g,g=s,s=o,o=g);_-- >0;){if(g=ki(l,u,n),g===f)return i[s]=l,i[o]=u,e(i);if(g>0)l=Math.floor(l/g)*g,u=Math.ceil(u/g)*g;else if(g<0)l=Math.ceil(l*g)/g,u=Math.floor(u*g)/g;else break;f=g}return t},t}function Ab(){var t=Sb();return t.copy=function(){return Cb(t,Ab())},Ng.apply(t,arguments),zA(t)}function HA(t,e){t=t.slice();var n=0,i=t.length-1,s=t[n],o=t[i],l;return o<s&&(l=n,n=i,i=l,l=s,s=o,o=l),t[n]=e.floor(s),t[i]=e.ceil(o),t}var Dg=new Date,Rg=new Date;function ai(t,e,n,i){function s(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=function(o){return t(o=new Date(+o)),o},s.ceil=function(o){return t(o=new Date(o-1)),e(o,1),t(o),o},s.round=function(o){var l=s(o),u=s.ceil(o);return o-l<u-o?l:u},s.offset=function(o,l){return e(o=new Date(+o),l==null?1:Math.floor(l)),o},s.range=function(o,l,u){var f=[],g;if(o=s.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return f;do f.push(g=new Date(+o)),e(o,u),t(o);while(g<o&&o<l);return f},s.filter=function(o){return ai(function(l){if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},function(l,u){if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!o(l););else for(;--u>=0;)for(;e(l,1),!o(l););})},n&&(s.count=function(o,l){return Dg.setTime(+o),Rg.setTime(+l),t(Dg),t(Rg),Math.floor(n(Dg,Rg))},s.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(i?function(l){return i(l)%o===0}:function(l){return s.count(0,l)%o===0}):s}),s}var Uf=ai(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Uf.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ai(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Uf};const WA=Uf;Uf.range;const Ha=1e3,vs=Ha*60,Wa=vs*60,Sl=Wa*24,Bg=Sl*7,Lb=Sl*30,Pg=Sl*365;var Ib=ai(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Ha)},function(t,e){return(e-t)/Ha},function(t){return t.getUTCSeconds()});const kh=Ib;Ib.range;var Mb=ai(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ha)},function(t,e){t.setTime(+t+e*vs)},function(t,e){return(e-t)/vs},function(t){return t.getMinutes()});const zf=Mb;Mb.range;var Nb=ai(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ha-t.getMinutes()*vs)},function(t,e){t.setTime(+t+e*Wa)},function(t,e){return(e-t)/Wa},function(t){return t.getHours()});const Hf=Nb;Nb.range;var Ob=ai(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vs)/Sl,t=>t.getDate()-1);const Xc=Ob;Ob.range;function Al(t){return ai(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*vs)/Bg})}var Kc=Al(0),Wf=Al(1),jA=Al(2),qA=Al(3),Zc=Al(4),GA=Al(5),XA=Al(6);Kc.range,Wf.range,jA.range,qA.range,Zc.range,GA.range,XA.range;var Db=ai(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const jf=Db;Db.range;var Fg=ai(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Fg.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:ai(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};const Ll=Fg;Fg.range;var KA=ai(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*vs)},function(t,e){return(e-t)/vs},function(t){return t.getUTCMinutes()});KA.range;var ZA=ai(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Wa)},function(t,e){return(e-t)/Wa},function(t){return t.getUTCHours()});ZA.range;var Rb=ai(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Sl},function(t){return t.getUTCDate()-1});const Bb=Rb;Rb.range;function Il(t){return ai(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/Bg})}var Pb=Il(0),qf=Il(1),QA=Il(2),JA=Il(3),Qc=Il(4),tL=Il(5),eL=Il(6);Pb.range,qf.range,QA.range,JA.range,Qc.range,tL.range,eL.range;var nL=ai(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});nL.range;var Vg=ai(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Vg.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:ai(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};const wh=Vg;Vg.range;function rL(t,e,n,i,s,o){const l=[[kh,1,Ha],[kh,5,5*Ha],[kh,15,15*Ha],[kh,30,30*Ha],[o,1,vs],[o,5,5*vs],[o,15,15*vs],[o,30,30*vs],[s,1,Wa],[s,3,3*Wa],[s,6,6*Wa],[s,12,12*Wa],[i,1,Sl],[i,2,2*Sl],[n,1,Bg],[e,1,Lb],[e,3,3*Lb],[t,1,Pg]];function u(g,_,k){const w=_<g;w&&([g,_]=[_,g]);const x=k&&typeof k.range=="function"?k:f(g,_,k),M=x?x.range(g,+_+1):[];return w?M.reverse():M}function f(g,_,k){const w=Math.abs(_-g)/k,x=je(([,,B])=>B).right(l,w);if(x===l.length)return t.every(Ut(g/Pg,_/Pg,k));if(x===0)return WA.every(Math.max(Ut(g,_,k),1));const[M,R]=l[w/l[x-1][2]<l[x][2]/w?x-1:x];return M.every(R)}return[u,f]}const[iL,sL]=rL(Ll,jf,Kc,Xc,Hf,zf);function Yg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $g(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function aL(t){var e=t.dateTime,n=t.date,i=t.time,s=t.periods,o=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,g=Th(s),_=Eh(s),k=Th(o),w=Eh(o),x=Th(l),M=Eh(l),R=Th(u),B=Eh(u),U=Th(f),Y=Eh(f),X={a:It,A:le,b:qt,B:ut,c:null,d:zb,e:zb,f:LL,g:VL,G:$L,H:CL,I:SL,j:AL,L:Hb,m:IL,M:ML,p:St,q:bt,Q:Kb,s:Zb,S:NL,u:OL,U:DL,V:RL,w:BL,W:PL,x:null,X:null,y:FL,Y:YL,Z:UL,"%":Xb},Q={a:kt,A:Lt,b:Ht,B:pt,c:null,d:jb,e:jb,f:jL,g:nI,G:iI,H:zL,I:HL,j:WL,L:qb,m:qL,M:GL,p:_e,q:tt,Q:Kb,s:Zb,S:XL,u:KL,U:ZL,V:QL,w:JL,W:tI,x:null,X:null,y:eI,Y:rI,Z:sI,"%":Xb},at={a:H,A:$,b:O,B:W,c:A,d:$b,e:$b,f:wL,g:Yb,G:Vb,H:Ub,I:Ub,j:_L,L:kL,m:yL,M:vL,p:q,q:mL,Q:TL,s:EL,S:bL,u:hL,U:dL,V:fL,w:uL,W:pL,x:mt,X:I,y:Yb,Y:Vb,Z:gL,"%":xL};X.x=lt(n,X),X.X=lt(i,X),X.c=lt(e,X),Q.x=lt(n,Q),Q.X=lt(i,Q),Q.c=lt(e,Q);function lt(st,dt){return function(Z){var G=[],z=-1,yt=0,P=st.length,Nt,nt,Ee;for(Z instanceof Date||(Z=new Date(+Z));++z<P;)st.charCodeAt(z)===37&&(G.push(st.slice(yt,z)),(nt=Fb[Nt=st.charAt(++z)])!=null?Nt=st.charAt(++z):nt=Nt==="e"?" ":"0",(Ee=dt[Nt])&&(Nt=Ee(Z,nt)),G.push(Nt),yt=z+1);return G.push(st.slice(yt,z)),G.join("")}}function J(st,dt){return function(Z){var G=xh(1900,void 0,1),z=ot(G,st,Z+="",0),yt,P;if(z!=Z.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(dt&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(yt=$g(xh(G.y,0,1)),P=yt.getUTCDay(),yt=P>4||P===0?qf.ceil(yt):qf(yt),yt=Bb.offset(yt,(G.V-1)*7),G.y=yt.getUTCFullYear(),G.m=yt.getUTCMonth(),G.d=yt.getUTCDate()+(G.w+6)%7):(yt=Yg(xh(G.y,0,1)),P=yt.getDay(),yt=P>4||P===0?Wf.ceil(yt):Wf(yt),yt=Xc.offset(yt,(G.V-1)*7),G.y=yt.getFullYear(),G.m=yt.getMonth(),G.d=yt.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),P="Z"in G?$g(xh(G.y,0,1)).getUTCDay():Yg(xh(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(P+5)%7:G.w+G.U*7-(P+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,$g(G)):Yg(G)}}function ot(st,dt,Z,G){for(var z=0,yt=dt.length,P=Z.length,Nt,nt;z<yt;){if(G>=P)return-1;if(Nt=dt.charCodeAt(z++),Nt===37){if(Nt=dt.charAt(z++),nt=at[Nt in Fb?dt.charAt(z++):Nt],!nt||(G=nt(st,Z,G))<0)return-1}else if(Nt!=Z.charCodeAt(G++))return-1}return G}function q(st,dt,Z){var G=g.exec(dt.slice(Z));return G?(st.p=_.get(G[0].toLowerCase()),Z+G[0].length):-1}function H(st,dt,Z){var G=x.exec(dt.slice(Z));return G?(st.w=M.get(G[0].toLowerCase()),Z+G[0].length):-1}function $(st,dt,Z){var G=k.exec(dt.slice(Z));return G?(st.w=w.get(G[0].toLowerCase()),Z+G[0].length):-1}function O(st,dt,Z){var G=U.exec(dt.slice(Z));return G?(st.m=Y.get(G[0].toLowerCase()),Z+G[0].length):-1}function W(st,dt,Z){var G=R.exec(dt.slice(Z));return G?(st.m=B.get(G[0].toLowerCase()),Z+G[0].length):-1}function A(st,dt,Z){return ot(st,e,dt,Z)}function mt(st,dt,Z){return ot(st,n,dt,Z)}function I(st,dt,Z){return ot(st,i,dt,Z)}function It(st){return l[st.getDay()]}function le(st){return o[st.getDay()]}function qt(st){return f[st.getMonth()]}function ut(st){return u[st.getMonth()]}function St(st){return s[+(st.getHours()>=12)]}function bt(st){return 1+~~(st.getMonth()/3)}function kt(st){return l[st.getUTCDay()]}function Lt(st){return o[st.getUTCDay()]}function Ht(st){return f[st.getUTCMonth()]}function pt(st){return u[st.getUTCMonth()]}function _e(st){return s[+(st.getUTCHours()>=12)]}function tt(st){return 1+~~(st.getUTCMonth()/3)}return{format:function(st){var dt=lt(st+="",X);return dt.toString=function(){return st},dt},parse:function(st){var dt=J(st+="",!1);return dt.toString=function(){return st},dt},utcFormat:function(st){var dt=lt(st+="",Q);return dt.toString=function(){return st},dt},utcParse:function(st){var dt=J(st+="",!0);return dt.toString=function(){return st},dt}}}var Fb={"-":"",_:" ",0:"0"},oi=/^\s*\d+/,oL=/^%/,lL=/[\\^$*+?|[\]().{}]/g;function tr(t,e,n){var i=t<0?"-":"",s=(i?-t:t)+"",o=s.length;return i+(o<n?new Array(n-o+1).join(e)+s:s)}function cL(t){return t.replace(lL,"\\$&")}function Th(t){return new RegExp("^(?:"+t.map(cL).join("|")+")","i")}function Eh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function uL(t,e,n){var i=oi.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function hL(t,e,n){var i=oi.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function dL(t,e,n){var i=oi.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function fL(t,e,n){var i=oi.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function pL(t,e,n){var i=oi.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Vb(t,e,n){var i=oi.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Yb(t,e,n){var i=oi.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function gL(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function mL(t,e,n){var i=oi.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function yL(t,e,n){var i=oi.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function $b(t,e,n){var i=oi.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function _L(t,e,n){var i=oi.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Ub(t,e,n){var i=oi.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function vL(t,e,n){var i=oi.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function bL(t,e,n){var i=oi.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function kL(t,e,n){var i=oi.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function wL(t,e,n){var i=oi.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function xL(t,e,n){var i=oL.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function TL(t,e,n){var i=oi.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function EL(t,e,n){var i=oi.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function zb(t,e){return tr(t.getDate(),e,2)}function CL(t,e){return tr(t.getHours(),e,2)}function SL(t,e){return tr(t.getHours()%12||12,e,2)}function AL(t,e){return tr(1+Xc.count(Ll(t),t),e,3)}function Hb(t,e){return tr(t.getMilliseconds(),e,3)}function LL(t,e){return Hb(t,e)+"000"}function IL(t,e){return tr(t.getMonth()+1,e,2)}function ML(t,e){return tr(t.getMinutes(),e,2)}function NL(t,e){return tr(t.getSeconds(),e,2)}function OL(t){var e=t.getDay();return e===0?7:e}function DL(t,e){return tr(Kc.count(Ll(t)-1,t),e,2)}function Wb(t){var e=t.getDay();return e>=4||e===0?Zc(t):Zc.ceil(t)}function RL(t,e){return t=Wb(t),tr(Zc.count(Ll(t),t)+(Ll(t).getDay()===4),e,2)}function BL(t){return t.getDay()}function PL(t,e){return tr(Wf.count(Ll(t)-1,t),e,2)}function FL(t,e){return tr(t.getFullYear()%100,e,2)}function VL(t,e){return t=Wb(t),tr(t.getFullYear()%100,e,2)}function YL(t,e){return tr(t.getFullYear()%1e4,e,4)}function $L(t,e){var n=t.getDay();return t=n>=4||n===0?Zc(t):Zc.ceil(t),tr(t.getFullYear()%1e4,e,4)}function UL(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tr(e/60|0,"0",2)+tr(e%60,"0",2)}function jb(t,e){return tr(t.getUTCDate(),e,2)}function zL(t,e){return tr(t.getUTCHours(),e,2)}function HL(t,e){return tr(t.getUTCHours()%12||12,e,2)}function WL(t,e){return tr(1+Bb.count(wh(t),t),e,3)}function qb(t,e){return tr(t.getUTCMilliseconds(),e,3)}function jL(t,e){return qb(t,e)+"000"}function qL(t,e){return tr(t.getUTCMonth()+1,e,2)}function GL(t,e){return tr(t.getUTCMinutes(),e,2)}function XL(t,e){return tr(t.getUTCSeconds(),e,2)}function KL(t){var e=t.getUTCDay();return e===0?7:e}function ZL(t,e){return tr(Pb.count(wh(t)-1,t),e,2)}function Gb(t){var e=t.getUTCDay();return e>=4||e===0?Qc(t):Qc.ceil(t)}function QL(t,e){return t=Gb(t),tr(Qc.count(wh(t),t)+(wh(t).getUTCDay()===4),e,2)}function JL(t){return t.getUTCDay()}function tI(t,e){return tr(qf.count(wh(t)-1,t),e,2)}function eI(t,e){return tr(t.getUTCFullYear()%100,e,2)}function nI(t,e){return t=Gb(t),tr(t.getUTCFullYear()%100,e,2)}function rI(t,e){return tr(t.getUTCFullYear()%1e4,e,4)}function iI(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Qc(t):Qc.ceil(t),tr(t.getUTCFullYear()%1e4,e,4)}function sI(){return"+0000"}function Xb(){return"%"}function Kb(t){return+t}function Zb(t){return Math.floor(+t/1e3)}var Jc,Gf;aI({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aI(t){return Jc=aL(t),Gf=Jc.format,Jc.parse,Jc.utcFormat,Jc.utcParse,Jc}function oI(t){return new Date(t)}function lI(t){return t instanceof Date?+t:+new Date(+t)}function Qb(t,e,n,i,s,o,l,u,f,g){var _=Sb(),k=_.invert,w=_.domain,x=g(".%L"),M=g(":%S"),R=g("%I:%M"),B=g("%I %p"),U=g("%a %d"),Y=g("%b %d"),X=g("%B"),Q=g("%Y");function at(lt){return(f(lt)<lt?x:u(lt)<lt?M:l(lt)<lt?R:o(lt)<lt?B:i(lt)<lt?s(lt)<lt?U:Y:n(lt)<lt?X:Q)(lt)}return _.invert=function(lt){return new Date(k(lt))},_.domain=function(lt){return arguments.length?w(Array.from(lt,lI)):w().map(oI)},_.ticks=function(lt){var J=w();return t(J[0],J[J.length-1],lt??10)},_.tickFormat=function(lt,J){return J==null?at:g(J)},_.nice=function(lt){var J=w();return(!lt||typeof lt.range!="function")&&(lt=e(J[0],J[J.length-1],lt??10)),lt?w(HA(J,lt)):_},_.copy=function(){return Cb(_,Qb(t,e,n,i,s,o,l,u,f,g))},_}function cI(){return Ng.apply(Qb(iL,sL,Ll,jf,Kc,Xc,Hf,zf,kh,Gf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Pr(t){return function(){return t}}const Jb=Math.abs,xi=Math.atan2,Ml=Math.cos,uI=Math.max,Ug=Math.min,_a=Math.sin,tu=Math.sqrt,ji=1e-12,Ch=Math.PI,Xf=Ch/2,Kf=2*Ch;function hI(t){return t>1?0:t<-1?Ch:Math.acos(t)}function tk(t){return t>=1?Xf:t<=-1?-Xf:Math.asin(t)}function dI(t){return t.innerRadius}function fI(t){return t.outerRadius}function pI(t){return t.startAngle}function gI(t){return t.endAngle}function mI(t){return t&&t.padAngle}function yI(t,e,n,i,s,o,l,u){var f=n-t,g=i-e,_=l-s,k=u-o,w=k*f-_*g;if(!(w*w<ji))return w=(_*(e-o)-k*(t-s))/w,[t+w*f,e+w*g]}function Zf(t,e,n,i,s,o,l){var u=t-n,f=e-i,g=(l?o:-o)/tu(u*u+f*f),_=g*f,k=-g*u,w=t+_,x=e+k,M=n+_,R=i+k,B=(w+M)/2,U=(x+R)/2,Y=M-w,X=R-x,Q=Y*Y+X*X,at=s-o,lt=w*R-M*x,J=(X<0?-1:1)*tu(uI(0,at*at*Q-lt*lt)),ot=(lt*X-Y*J)/Q,q=(-lt*Y-X*J)/Q,H=(lt*X+Y*J)/Q,$=(-lt*Y+X*J)/Q,O=ot-B,W=q-U,A=H-B,mt=$-U;return O*O+W*W>A*A+mt*mt&&(ot=H,q=$),{cx:ot,cy:q,x01:-_,y01:-k,x11:ot*(s/at-1),y11:q*(s/at-1)}}function zg(){var t=dI,e=fI,n=Pr(0),i=null,s=pI,o=gI,l=mI,u=null;function f(){var g,_,k=+t.apply(this,arguments),w=+e.apply(this,arguments),x=s.apply(this,arguments)-Xf,M=o.apply(this,arguments)-Xf,R=Jb(M-x),B=M>x;if(u||(u=g=Ig()),w<k&&(_=w,w=k,k=_),!(w>ji))u.moveTo(0,0);else if(R>Kf-ji)u.moveTo(w*Ml(x),w*_a(x)),u.arc(0,0,w,x,M,!B),k>ji&&(u.moveTo(k*Ml(M),k*_a(M)),u.arc(0,0,k,M,x,B));else{var U=x,Y=M,X=x,Q=M,at=R,lt=R,J=l.apply(this,arguments)/2,ot=J>ji&&(i?+i.apply(this,arguments):tu(k*k+w*w)),q=Ug(Jb(w-k)/2,+n.apply(this,arguments)),H=q,$=q,O,W;if(ot>ji){var A=tk(ot/k*_a(J)),mt=tk(ot/w*_a(J));(at-=A*2)>ji?(A*=B?1:-1,X+=A,Q-=A):(at=0,X=Q=(x+M)/2),(lt-=mt*2)>ji?(mt*=B?1:-1,U+=mt,Y-=mt):(lt=0,U=Y=(x+M)/2)}var I=w*Ml(U),It=w*_a(U),le=k*Ml(Q),qt=k*_a(Q);if(q>ji){var ut=w*Ml(Y),St=w*_a(Y),bt=k*Ml(X),kt=k*_a(X),Lt;if(R<Ch&&(Lt=yI(I,It,bt,kt,ut,St,le,qt))){var Ht=I-Lt[0],pt=It-Lt[1],_e=ut-Lt[0],tt=St-Lt[1],st=1/_a(hI((Ht*_e+pt*tt)/(tu(Ht*Ht+pt*pt)*tu(_e*_e+tt*tt)))/2),dt=tu(Lt[0]*Lt[0]+Lt[1]*Lt[1]);H=Ug(q,(k-dt)/(st-1)),$=Ug(q,(w-dt)/(st+1))}}lt>ji?$>ji?(O=Zf(bt,kt,I,It,w,$,B),W=Zf(ut,St,le,qt,w,$,B),u.moveTo(O.cx+O.x01,O.cy+O.y01),$<q?u.arc(O.cx,O.cy,$,xi(O.y01,O.x01),xi(W.y01,W.x01),!B):(u.arc(O.cx,O.cy,$,xi(O.y01,O.x01),xi(O.y11,O.x11),!B),u.arc(0,0,w,xi(O.cy+O.y11,O.cx+O.x11),xi(W.cy+W.y11,W.cx+W.x11),!B),u.arc(W.cx,W.cy,$,xi(W.y11,W.x11),xi(W.y01,W.x01),!B))):(u.moveTo(I,It),u.arc(0,0,w,U,Y,!B)):u.moveTo(I,It),!(k>ji)||!(at>ji)?u.lineTo(le,qt):H>ji?(O=Zf(le,qt,ut,St,k,-H,B),W=Zf(I,It,bt,kt,k,-H,B),u.lineTo(O.cx+O.x01,O.cy+O.y01),H<q?u.arc(O.cx,O.cy,H,xi(O.y01,O.x01),xi(W.y01,W.x01),!B):(u.arc(O.cx,O.cy,H,xi(O.y01,O.x01),xi(O.y11,O.x11),!B),u.arc(0,0,k,xi(O.cy+O.y11,O.cx+O.x11),xi(W.cy+W.y11,W.cx+W.x11),B),u.arc(W.cx,W.cy,H,xi(W.y11,W.x11),xi(W.y01,W.x01),!B))):u.arc(0,0,k,Q,X,B)}if(u.closePath(),g)return u=null,g+""||null}return f.centroid=function(){var g=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,_=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-Ch/2;return[Ml(_)*g,_a(_)*g]},f.innerRadius=function(g){return arguments.length?(t=typeof g=="function"?g:Pr(+g),f):t},f.outerRadius=function(g){return arguments.length?(e=typeof g=="function"?g:Pr(+g),f):e},f.cornerRadius=function(g){return arguments.length?(n=typeof g=="function"?g:Pr(+g),f):n},f.padRadius=function(g){return arguments.length?(i=g==null?null:typeof g=="function"?g:Pr(+g),f):i},f.startAngle=function(g){return arguments.length?(s=typeof g=="function"?g:Pr(+g),f):s},f.endAngle=function(g){return arguments.length?(o=typeof g=="function"?g:Pr(+g),f):o},f.padAngle=function(g){return arguments.length?(l=typeof g=="function"?g:Pr(+g),f):l},f.context=function(g){return arguments.length?(u=g??null,f):u},f}function ek(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function nk(t){this._context=t}nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ns(t){return new nk(t)}function _I(t){return t[0]}function vI(t){return t[1]}function eu(t,e){var n=Pr(!0),i=null,s=ns,o=null;t=typeof t=="function"?t:t===void 0?_I:Pr(t),e=typeof e=="function"?e:e===void 0?vI:Pr(e);function l(u){var f,g=(u=ek(u)).length,_,k=!1,w;for(i==null&&(o=s(w=Ig())),f=0;f<=g;++f)!(f<g&&n(_=u[f],f,u))===k&&((k=!k)?o.lineStart():o.lineEnd()),k&&o.point(+t(_,f,u),+e(_,f,u));if(w)return o=null,w+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Pr(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Pr(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Pr(!!u),l):n},l.curve=function(u){return arguments.length?(s=u,i!=null&&(o=s(i)),l):s},l.context=function(u){return arguments.length?(u==null?i=o=null:o=s(i=u),l):i},l}function bI(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function kI(t){return t}function wI(){var t=kI,e=bI,n=null,i=Pr(0),s=Pr(Kf),o=Pr(0);function l(u){var f,g=(u=ek(u)).length,_,k,w=0,x=new Array(g),M=new Array(g),R=+i.apply(this,arguments),B=Math.min(Kf,Math.max(-Kf,s.apply(this,arguments)-R)),U,Y=Math.min(Math.abs(B)/g,o.apply(this,arguments)),X=Y*(B<0?-1:1),Q;for(f=0;f<g;++f)(Q=M[x[f]=f]=+t(u[f],f,u))>0&&(w+=Q);for(e!=null?x.sort(function(at,lt){return e(M[at],M[lt])}):n!=null&&x.sort(function(at,lt){return n(u[at],u[lt])}),f=0,k=w?(B-g*X)/w:0;f<g;++f,R=U)_=x[f],Q=M[_],U=R+(Q>0?Q*k:0)+X,M[_]={data:u[_],index:f,value:Q,startAngle:R,endAngle:U,padAngle:Y};return M}return l.value=function(u){return arguments.length?(t=typeof u=="function"?u:Pr(+u),l):t},l.sortValues=function(u){return arguments.length?(e=u,n=null,l):e},l.sort=function(u){return arguments.length?(n=u,e=null,l):n},l.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Pr(+u),l):i},l.endAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Pr(+u),l):s},l.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Pr(+u),l):o},l}function Qf(){}function Jf(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function rk(t){this._context=t}rk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nu(t){return new rk(t)}function ik(t){this._context=t}ik.prototype={areaStart:Qf,areaEnd:Qf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xI(t){return new ik(t)}function sk(t){this._context=t}sk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Jf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TI(t){return new sk(t)}function ak(t){this._context=t}ak.prototype={areaStart:Qf,areaEnd:Qf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function EI(t){return new ak(t)}function ok(t){return t<0?-1:1}function lk(t,e,n){var i=t._x1-t._x0,s=e-t._x1,o=(t._y1-t._y0)/(i||s<0&&-0),l=(n-t._y1)/(s||i<0&&-0),u=(o*s+l*i)/(i+s);return(ok(o)+ok(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function ck(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hg(t,e,n){var i=t._x0,s=t._y0,o=t._x1,l=t._y1,u=(o-i)/3;t._context.bezierCurveTo(i+u,s+u*e,o-u,l-u*n,o,l)}function t1(t){this._context=t}t1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hg(this,this._t0,ck(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hg(this,ck(this,n=lk(this,t,e)),n);break;default:Hg(this,this._t0,n=lk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function uk(t){this._context=new hk(t)}(uk.prototype=Object.create(t1.prototype)).point=function(t,e){t1.prototype.point.call(this,e,t)};function hk(t){this._context=t}hk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,s,o){this._context.bezierCurveTo(e,t,i,n,o,s)}};function CI(t){return new t1(t)}function SI(t){return new uk(t)}function dk(t){this._context=t}dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=fk(t),s=fk(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(i[0][o],s[0][o],i[1][o],s[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fk(t){var e,n=t.length-1,i,s=new Array(n),o=new Array(n),l=new Array(n);for(s[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=s[e]/o[e-1],o[e]-=i,l[e]-=i*l[e-1];for(s[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)s[e]=(l[e]-s[e+1])/o[e];for(o[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-s[e+1];return[s,o]}function AI(t){return new dk(t)}function e1(t,e){this._context=t,this._t=e}e1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function LI(t){return new e1(t,.5)}function II(t){return new e1(t,0)}function MI(t){return new e1(t,1)}function ru(t,e,n){this.k=t,this.x=e,this.y=n}ru.prototype={constructor:ru,scale:function(t){return t===1?this:new ru(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ru(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new ru(1,0,0),ru.prototype;/*! @license DOMPurify 2.4.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.1/LICENSE */function Po(t){return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}function Wg(t,e){return Wg=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Wg(t,e)}function NI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function n1(t,e,n){return NI()?n1=Reflect.construct:n1=function(s,o,l){var u=[null];u.push.apply(u,o);var f=Function.bind.apply(s,u),g=new f;return l&&Wg(g,l.prototype),g},n1.apply(null,arguments)}function Fs(t){return OI(t)||DI(t)||RI(t)||BI()}function OI(t){if(Array.isArray(t))return jg(t)}function DI(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RI(t,e){if(t){if(typeof t=="string")return jg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jg(t,e)}}function jg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function BI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var PI=Object.hasOwnProperty,pk=Object.setPrototypeOf,FI=Object.isFrozen,VI=Object.getPrototypeOf,YI=Object.getOwnPropertyDescriptor,Oi=Object.freeze,Vs=Object.seal,$I=Object.create,gk=typeof Reflect<"u"&&Reflect,r1=gk.apply,qg=gk.construct;r1||(r1=function(e,n,i){return e.apply(n,i)}),Oi||(Oi=function(e){return e}),Vs||(Vs=function(e){return e}),qg||(qg=function(e,n){return n1(e,Fs(n))});var UI=bs(Array.prototype.forEach),mk=bs(Array.prototype.pop),Sh=bs(Array.prototype.push),i1=bs(String.prototype.toLowerCase),Gg=bs(String.prototype.toString),zI=bs(String.prototype.match),Ys=bs(String.prototype.replace),HI=bs(String.prototype.indexOf),WI=bs(String.prototype.trim),Di=bs(RegExp.prototype.test),Xg=jI(TypeError);function bs(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return r1(t,e,i)}}function jI(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return qg(t,n)}}function Vn(t,e,n){n=n||i1,pk&&pk(t,null);for(var i=e.length;i--;){var s=e[i];if(typeof s=="string"){var o=n(s);o!==s&&(FI(e)||(e[i]=o),s=o)}t[s]=!0}return t}function Nl(t){var e=$I(null),n;for(n in t)r1(PI,t,[n])&&(e[n]=t[n]);return e}function s1(t,e){for(;t!==null;){var n=YI(t,e);if(n){if(n.get)return bs(n.get);if(typeof n.value=="function")return bs(n.value)}t=VI(t)}function i(s){return console.warn("fallback value for",s),null}return i}var yk=Oi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Kg=Oi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Zg=Oi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),qI=Oi(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qg=Oi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),GI=Oi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_k=Oi(["#text"]),vk=Oi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Jg=Oi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),bk=Oi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),a1=Oi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),XI=Vs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),KI=Vs(/<%[\w\W]*|[\w\W]*%>/gm),ZI=Vs(/\${[\w\W]*}/gm),QI=Vs(/^data-[\-\w.\u00B7-\uFFFF]/),JI=Vs(/^aria-[\-\w]+$/),tM=Vs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eM=Vs(/^(?:\w+script|data):/i),nM=Vs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rM=Vs(/^html$/i),iM=function(){return typeof window>"u"?null:window},sM=function(e,n){if(Po(e)!=="object"||typeof e.createPolicy!="function")return null;var i=null,s="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(s)&&(i=n.currentScript.getAttribute(s));var o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:function(u){return u},createScriptURL:function(u){return u}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function kk(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:iM(),e=function(gt){return kk(gt)};if(e.version="2.4.1",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,i=t.document,s=t.DocumentFragment,o=t.HTMLTemplateElement,l=t.Node,u=t.Element,f=t.NodeFilter,g=t.NamedNodeMap,_=g===void 0?t.NamedNodeMap||t.MozNamedAttrMap:g,k=t.HTMLFormElement,w=t.DOMParser,x=t.trustedTypes,M=u.prototype,R=s1(M,"cloneNode"),B=s1(M,"nextSibling"),U=s1(M,"childNodes"),Y=s1(M,"parentNode");if(typeof o=="function"){var X=i.createElement("template");X.content&&X.content.ownerDocument&&(i=X.content.ownerDocument)}var Q=sM(x,n),at=Q?Q.createHTML(""):"",lt=i,J=lt.implementation,ot=lt.createNodeIterator,q=lt.createDocumentFragment,H=lt.getElementsByTagName,$=n.importNode,O={};try{O=Nl(i).documentMode?i.documentMode:{}}catch{}var W={};e.isSupported=typeof Y=="function"&&J&&typeof J.createHTMLDocument<"u"&&O!==9;var A=XI,mt=KI,I=ZI,It=QI,le=JI,qt=eM,ut=nM,St=tM,bt=null,kt=Vn({},[].concat(Fs(yk),Fs(Kg),Fs(Zg),Fs(Qg),Fs(_k))),Lt=null,Ht=Vn({},[].concat(Fs(vk),Fs(Jg),Fs(bk),Fs(a1))),pt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_e=null,tt=null,st=!0,dt=!0,Z=!1,G=!1,z=!1,yt=!1,P=!1,Nt=!1,nt=!1,Ee=!1,vt=!0,fe=!1,Zt="user-content-",Pt=!0,Qt=!1,Gt={},Bt=null,xt=Vn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),pn=null,We=Vn({},["audio","video","img","source","image","track"]),ze=null,qe=Vn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ve="http://www.w3.org/1998/Math/MathML",Hn="http://www.w3.org/2000/svg",Re="http://www.w3.org/1999/xhtml",Ce=Re,we=!1,Wt=null,Dt=Vn({},[Ve,Hn,Re],Gg),oe,zt=["application/xhtml+xml","text/html"],Se="text/html",Et,un=null,Ot=i.createElement("form"),nn=function(gt){return gt instanceof RegExp||gt instanceof Function},kn=function(gt){un&&un===gt||((!gt||Po(gt)!=="object")&&(gt={}),gt=Nl(gt),oe=zt.indexOf(gt.PARSER_MEDIA_TYPE)===-1?oe=Se:oe=gt.PARSER_MEDIA_TYPE,Et=oe==="application/xhtml+xml"?Gg:i1,bt="ALLOWED_TAGS"in gt?Vn({},gt.ALLOWED_TAGS,Et):kt,Lt="ALLOWED_ATTR"in gt?Vn({},gt.ALLOWED_ATTR,Et):Ht,Wt="ALLOWED_NAMESPACES"in gt?Vn({},gt.ALLOWED_NAMESPACES,Gg):Dt,ze="ADD_URI_SAFE_ATTR"in gt?Vn(Nl(qe),gt.ADD_URI_SAFE_ATTR,Et):qe,pn="ADD_DATA_URI_TAGS"in gt?Vn(Nl(We),gt.ADD_DATA_URI_TAGS,Et):We,Bt="FORBID_CONTENTS"in gt?Vn({},gt.FORBID_CONTENTS,Et):xt,_e="FORBID_TAGS"in gt?Vn({},gt.FORBID_TAGS,Et):{},tt="FORBID_ATTR"in gt?Vn({},gt.FORBID_ATTR,Et):{},Gt="USE_PROFILES"in gt?gt.USE_PROFILES:!1,st=gt.ALLOW_ARIA_ATTR!==!1,dt=gt.ALLOW_DATA_ATTR!==!1,Z=gt.ALLOW_UNKNOWN_PROTOCOLS||!1,G=gt.SAFE_FOR_TEMPLATES||!1,z=gt.WHOLE_DOCUMENT||!1,Nt=gt.RETURN_DOM||!1,nt=gt.RETURN_DOM_FRAGMENT||!1,Ee=gt.RETURN_TRUSTED_TYPE||!1,P=gt.FORCE_BODY||!1,vt=gt.SANITIZE_DOM!==!1,fe=gt.SANITIZE_NAMED_PROPS||!1,Pt=gt.KEEP_CONTENT!==!1,Qt=gt.IN_PLACE||!1,St=gt.ALLOWED_URI_REGEXP||St,Ce=gt.NAMESPACE||Re,gt.CUSTOM_ELEMENT_HANDLING&&nn(gt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(pt.tagNameCheck=gt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),gt.CUSTOM_ELEMENT_HANDLING&&nn(gt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(pt.attributeNameCheck=gt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),gt.CUSTOM_ELEMENT_HANDLING&&typeof gt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(pt.allowCustomizedBuiltInElements=gt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),G&&(dt=!1),nt&&(Nt=!0),Gt&&(bt=Vn({},Fs(_k)),Lt=[],Gt.html===!0&&(Vn(bt,yk),Vn(Lt,vk)),Gt.svg===!0&&(Vn(bt,Kg),Vn(Lt,Jg),Vn(Lt,a1)),Gt.svgFilters===!0&&(Vn(bt,Zg),Vn(Lt,Jg),Vn(Lt,a1)),Gt.mathMl===!0&&(Vn(bt,Qg),Vn(Lt,bk),Vn(Lt,a1))),gt.ADD_TAGS&&(bt===kt&&(bt=Nl(bt)),Vn(bt,gt.ADD_TAGS,Et)),gt.ADD_ATTR&&(Lt===Ht&&(Lt=Nl(Lt)),Vn(Lt,gt.ADD_ATTR,Et)),gt.ADD_URI_SAFE_ATTR&&Vn(ze,gt.ADD_URI_SAFE_ATTR,Et),gt.FORBID_CONTENTS&&(Bt===xt&&(Bt=Nl(Bt)),Vn(Bt,gt.FORBID_CONTENTS,Et)),Pt&&(bt["#text"]=!0),z&&Vn(bt,["html","head","body"]),bt.table&&(Vn(bt,["tbody"]),delete _e.tbody),Oi&&Oi(gt),un=gt)},Ln=Vn({},["mi","mo","mn","ms","mtext"]),In=Vn({},["foreignobject","desc","title","annotation-xml"]),Pn=Vn({},["title","style","font","a","script"]),He=Vn({},Kg);Vn(He,Zg),Vn(He,qI);var hn=Vn({},Qg);Vn(hn,GI);var En=function(gt){var ie=Y(gt);(!ie||!ie.tagName)&&(ie={namespaceURI:Ce,tagName:"template"});var pe=i1(gt.tagName),wn=i1(ie.tagName);return Wt[gt.namespaceURI]?gt.namespaceURI===Hn?ie.namespaceURI===Re?pe==="svg":ie.namespaceURI===Ve?pe==="svg"&&(wn==="annotation-xml"||Ln[wn]):Boolean(He[pe]):gt.namespaceURI===Ve?ie.namespaceURI===Re?pe==="math":ie.namespaceURI===Hn?pe==="math"&&In[wn]:Boolean(hn[pe]):gt.namespaceURI===Re?ie.namespaceURI===Hn&&!In[wn]||ie.namespaceURI===Ve&&!Ln[wn]?!1:!hn[pe]&&(Pn[pe]||!He[pe]):!!(oe==="application/xhtml+xml"&&Wt[gt.namespaceURI]):!1},Je=function(gt){Sh(e.removed,{element:gt});try{gt.parentNode.removeChild(gt)}catch{try{gt.outerHTML=at}catch{gt.remove()}}},ra=function(gt,ie){try{Sh(e.removed,{attribute:ie.getAttributeNode(gt),from:ie})}catch{Sh(e.removed,{attribute:null,from:ie})}if(ie.removeAttribute(gt),gt==="is"&&!Lt[gt])if(Nt||nt)try{Je(ie)}catch{}else try{ie.setAttribute(gt,"")}catch{}},os=function(gt){var ie,pe;if(P)gt="<remove></remove>"+gt;else{var wn=zI(gt,/^[\r\n\t ]+/);pe=wn&&wn[0]}oe==="application/xhtml+xml"&&Ce===Re&&(gt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+gt+"</body></html>");var lr=Q?Q.createHTML(gt):gt;if(Ce===Re)try{ie=new w().parseFromString(lr,oe)}catch{}if(!ie||!ie.documentElement){ie=J.createDocument(Ce,"template",null);try{ie.documentElement.innerHTML=we?"":lr}catch{}}var nr=ie.body||ie.documentElement;return gt&&pe&&nr.insertBefore(i.createTextNode(pe),nr.childNodes[0]||null),Ce===Re?H.call(ie,z?"html":"body")[0]:z?ie.documentElement:nr},or=function(gt){return ot.call(gt.ownerDocument||gt,gt,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT,null,!1)},dn=function(gt){return gt instanceof k&&(typeof gt.nodeName!="string"||typeof gt.textContent!="string"||typeof gt.removeChild!="function"||!(gt.attributes instanceof _)||typeof gt.removeAttribute!="function"||typeof gt.setAttribute!="function"||typeof gt.namespaceURI!="string"||typeof gt.insertBefore!="function"||typeof gt.hasChildNodes!="function")},mr=function(gt){return Po(l)==="object"?gt instanceof l:gt&&Po(gt)==="object"&&typeof gt.nodeType=="number"&&typeof gt.nodeName=="string"},vr=function(gt,ie,pe){W[gt]&&UI(W[gt],function(wn){wn.call(e,ie,pe,un)})},kr=function(gt){var ie;if(vr("beforeSanitizeElements",gt,null),dn(gt)||Di(/[\u0080-\uFFFF]/,gt.nodeName))return Je(gt),!0;var pe=Et(gt.nodeName);if(vr("uponSanitizeElement",gt,{tagName:pe,allowedTags:bt}),gt.hasChildNodes()&&!mr(gt.firstElementChild)&&(!mr(gt.content)||!mr(gt.content.firstElementChild))&&Di(/<[/\w]/g,gt.innerHTML)&&Di(/<[/\w]/g,gt.textContent)||pe==="select"&&Di(/<template/i,gt.innerHTML))return Je(gt),!0;if(!bt[pe]||_e[pe]){if(!_e[pe]&&yr(pe)&&(pt.tagNameCheck instanceof RegExp&&Di(pt.tagNameCheck,pe)||pt.tagNameCheck instanceof Function&&pt.tagNameCheck(pe)))return!1;if(Pt&&!Bt[pe]){var wn=Y(gt)||gt.parentNode,lr=U(gt)||gt.childNodes;if(lr&&wn)for(var nr=lr.length,Lr=nr-1;Lr>=0;--Lr)wn.insertBefore(R(lr[Lr],!0),B(gt))}return Je(gt),!0}return gt instanceof u&&!En(gt)||(pe==="noscript"||pe==="noembed")&&Di(/<\/no(script|embed)/i,gt.innerHTML)?(Je(gt),!0):(G&&gt.nodeType===3&&(ie=gt.textContent,ie=Ys(ie,A," "),ie=Ys(ie,mt," "),ie=Ys(ie,I," "),gt.textContent!==ie&&(Sh(e.removed,{element:gt.cloneNode()}),gt.textContent=ie)),vr("afterSanitizeElements",gt,null),!1)},wr=function(gt,ie,pe){if(vt&&(ie==="id"||ie==="name")&&(pe in i||pe in Ot))return!1;if(!(dt&&!tt[ie]&&Di(It,ie))){if(!(st&&Di(le,ie))){if(!Lt[ie]||tt[ie]){if(!(yr(gt)&&(pt.tagNameCheck instanceof RegExp&&Di(pt.tagNameCheck,gt)||pt.tagNameCheck instanceof Function&&pt.tagNameCheck(gt))&&(pt.attributeNameCheck instanceof RegExp&&Di(pt.attributeNameCheck,ie)||pt.attributeNameCheck instanceof Function&&pt.attributeNameCheck(ie))||ie==="is"&&pt.allowCustomizedBuiltInElements&&(pt.tagNameCheck instanceof RegExp&&Di(pt.tagNameCheck,pe)||pt.tagNameCheck instanceof Function&&pt.tagNameCheck(pe))))return!1}else if(!ze[ie]){if(!Di(St,Ys(pe,ut,""))){if(!((ie==="src"||ie==="xlink:href"||ie==="href")&&gt!=="script"&&HI(pe,"data:")===0&&pn[gt])){if(!(Z&&!Di(qt,Ys(pe,ut,"")))){if(pe)return!1}}}}}}return!0},yr=function(gt){return gt.indexOf("-")>0},Br=function(gt){var ie,pe,wn,lr;vr("beforeSanitizeAttributes",gt,null);var nr=gt.attributes;if(nr){var Lr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Lt};for(lr=nr.length;lr--;){ie=nr[lr];var On=ie,fr=On.name,Qo=On.namespaceURI;if(pe=fr==="value"?ie.value:WI(ie.value),wn=Et(fr),Lr.attrName=wn,Lr.attrValue=pe,Lr.keepAttr=!0,Lr.forceKeepAttr=void 0,vr("uponSanitizeAttribute",gt,Lr),pe=Lr.attrValue,!Lr.forceKeepAttr&&(ra(fr,gt),!!Lr.keepAttr)){if(Di(/\/>/i,pe)){ra(fr,gt);continue}G&&(pe=Ys(pe,A," "),pe=Ys(pe,mt," "),pe=Ys(pe,I," "));var Jo=Et(gt.nodeName);if(wr(Jo,wn,pe)){if(fe&&(wn==="id"||wn==="name")&&(ra(fr,gt),pe=Zt+pe),Q&&Po(x)==="object"&&typeof x.getAttributeType=="function"&&!Qo)switch(x.getAttributeType(Jo,wn)){case"TrustedHTML":pe=Q.createHTML(pe);break;case"TrustedScriptURL":pe=Q.createScriptURL(pe);break}try{Qo?gt.setAttributeNS(Qo,fr,pe):gt.setAttribute(fr,pe),mk(e.removed)}catch{}}}}vr("afterSanitizeAttributes",gt,null)}},Gr=function Ae(gt){var ie,pe=or(gt);for(vr("beforeSanitizeShadowDOM",gt,null);ie=pe.nextNode();)vr("uponSanitizeShadowNode",ie,null),!kr(ie)&&(ie.content instanceof s&&Ae(ie.content),Br(ie));vr("afterSanitizeShadowDOM",gt,null)};return e.sanitize=function(Ae){var gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie,pe,wn,lr,nr;if(we=!Ae,we&&(Ae="<!-->"),typeof Ae!="string"&&!mr(Ae)){if(typeof Ae.toString!="function")throw Xg("toString is not a function");if(Ae=Ae.toString(),typeof Ae!="string")throw Xg("dirty is not a string, aborting")}if(!e.isSupported){if(Po(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Ae=="string")return t.toStaticHTML(Ae);if(mr(Ae))return t.toStaticHTML(Ae.outerHTML)}return Ae}if(yt||kn(gt),e.removed=[],typeof Ae=="string"&&(Qt=!1),Qt){if(Ae.nodeName){var Lr=Et(Ae.nodeName);if(!bt[Lr]||_e[Lr])throw Xg("root node is forbidden and cannot be sanitized in-place")}}else if(Ae instanceof l)ie=os("<!---->"),pe=ie.ownerDocument.importNode(Ae,!0),pe.nodeType===1&&pe.nodeName==="BODY"||pe.nodeName==="HTML"?ie=pe:ie.appendChild(pe);else{if(!Nt&&!G&&!z&&Ae.indexOf("<")===-1)return Q&&Ee?Q.createHTML(Ae):Ae;if(ie=os(Ae),!ie)return Nt?null:Ee?at:""}ie&&P&&Je(ie.firstChild);for(var On=or(Qt?Ae:ie);wn=On.nextNode();)wn.nodeType===3&&wn===lr||kr(wn)||(wn.content instanceof s&&Gr(wn.content),Br(wn),lr=wn);if(lr=null,Qt)return Ae;if(Nt){if(nt)for(nr=q.call(ie.ownerDocument);ie.firstChild;)nr.appendChild(ie.firstChild);else nr=ie;return Lt.shadowroot&&(nr=$.call(n,nr,!0)),nr}var fr=z?ie.outerHTML:ie.innerHTML;return z&&bt["!doctype"]&&ie.ownerDocument&&ie.ownerDocument.doctype&&ie.ownerDocument.doctype.name&&Di(rM,ie.ownerDocument.doctype.name)&&(fr="<!DOCTYPE "+ie.ownerDocument.doctype.name+`>
`+fr),G&&(fr=Ys(fr,A," "),fr=Ys(fr,mt," "),fr=Ys(fr,I," ")),Q&&Ee?Q.createHTML(fr):fr},e.setConfig=function(Ae){kn(Ae),yt=!0},e.clearConfig=function(){un=null,yt=!1},e.isValidAttribute=function(Ae,gt,ie){un||kn({});var pe=Et(Ae),wn=Et(gt);return wr(pe,wn,ie)},e.addHook=function(Ae,gt){typeof gt=="function"&&(W[Ae]=W[Ae]||[],Sh(W[Ae],gt))},e.removeHook=function(Ae){if(W[Ae])return mk(W[Ae])},e.removeHooks=function(Ae){W[Ae]&&(W[Ae]=[])},e.removeAllHooks=function(){W={}},e}var Ah=kk();const aM=t=>t?Tk(t).replace(/\\n/g,"#br#").split("#br#"):[""],wk=t=>Ah.sanitize(t),xk=(t,e)=>{var n;if(((n=e.flowchart)==null?void 0:n.htmlLabels)!==!1){const i=e.securityLevel;i==="antiscript"||i==="strict"?t=wk(t):i!=="loose"&&(t=Tk(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=uM(t))}return t},$s=(t,e)=>t&&(e.dompurifyConfig?t=Ah.sanitize(xk(t,e),e.dompurifyConfig).toString():t=Ah.sanitize(xk(t,e),{FORBID_TAGS:["style"]}).toString(),t),oM=(t,e)=>typeof t=="string"?$s(t,e):t.flat().map(n=>$s(n,e)),o1=/<br\s*\/?>/gi,lM=t=>o1.test(t),cM=t=>t.split(o1),uM=t=>t.replace(/#br#/g,"<br/>"),Tk=t=>t.replace(o1,"#br#"),hM=t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},li=t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),Fo=function(t){let e=t;return t.includes("~")?(e=e.replace(/~([^~].*)/,"<$1"),e=e.replace(/~([^~]*)$/,">$1"),Fo(e)):e},_n={getRows:aM,sanitizeText:$s,sanitizeTextOrArray:oM,hasBreaks:lM,splitBreaks:cM,lineBreakRegex:o1,removeScript:wk,getUrl:hM,evaluate:li},l1={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},i)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const s=n<.5?n*(1+e):n+e-n*e,o=2*n-s;switch(i){case"r":return l1.hue2rgb(o,s,t+1/3)*255;case"g":return l1.hue2rgb(o,s,t)*255;case"b":return l1.hue2rgb(o,s,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},i)=>{t/=255,e/=255,n/=255;const s=Math.max(t,e,n),o=Math.min(t,e,n),l=(s+o)/2;if(i==="l")return l*100;if(s===o)return 0;const u=s-o,f=l>.5?u/(2-s-o):u/(s+o);if(i==="s")return f*100;switch(s){case t:return((e-n)/u+(e<n?6:0))*60;case e:return((n-t)/u+2)*60;case n:return((t-e)/u+4)*60;default:return-1}}},Nn={channel:l1,lang:{clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},unit:{dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}}},Vo={};for(let t=0;t<=255;t++)Vo[t]=Nn.unit.dec2hex(t);const Ti={ALL:0,RGB:1,HSL:2};class dM{constructor(){this.type=Ti.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Ti.ALL}is(e){return this.type===e}}const fM=dM;class pM{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new fM}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=Ti.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:i,l:s}=e;n===void 0&&(e.h=Nn.channel.rgb2hsl(e,"h")),i===void 0&&(e.s=Nn.channel.rgb2hsl(e,"s")),s===void 0&&(e.l=Nn.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:i,b:s}=e;n===void 0&&(e.r=Nn.channel.hsl2rgb(e,"r")),i===void 0&&(e.g=Nn.channel.hsl2rgb(e,"g")),s===void 0&&(e.b=Nn.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(Ti.HSL)&&n!==void 0?n:(this._ensureHSL(),Nn.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(Ti.HSL)&&n!==void 0?n:(this._ensureHSL(),Nn.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(Ti.HSL)&&n!==void 0?n:(this._ensureHSL(),Nn.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(Ti.RGB)&&n!==void 0?n:(this._ensureRGB(),Nn.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(Ti.RGB)&&n!==void 0?n:(this._ensureRGB(),Nn.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(Ti.RGB)&&n!==void 0?n:(this._ensureRGB(),Nn.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Ti.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Ti.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Ti.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Ti.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Ti.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Ti.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const gM=pM,c1=new gM({r:0,g:0,b:0,a:0},"transparent"),Ek={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(Ek.re);if(!e)return;const n=e[1],i=parseInt(n,16),s=n.length,o=s%4===0,l=s>4,u=l?1:17,f=l?8:4,g=o?0:-1,_=l?255:15;return c1.set({r:(i>>f*(g+3)&_)*u,g:(i>>f*(g+2)&_)*u,b:(i>>f*(g+1)&_)*u,a:o?(i&_)*u/255:1},t)},stringify:t=>{const{r:e,g:n,b:i,a:s}=t;return s<1?`#${Vo[Math.round(e)]}${Vo[Math.round(n)]}${Vo[Math.round(i)]}${Vo[Math.round(s*255)]}`:`#${Vo[Math.round(e)]}${Vo[Math.round(n)]}${Vo[Math.round(i)]}`}},Lh=Ek,u1={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(u1.hueRe);if(e){const[,n,i]=e;switch(i){case"grad":return Nn.channel.clamp.h(parseFloat(n)*.9);case"rad":return Nn.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Nn.channel.clamp.h(parseFloat(n)*360)}}return Nn.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(u1.re);if(!n)return;const[,i,s,o,l,u]=n;return c1.set({h:u1._hue2deg(i),s:Nn.channel.clamp.s(parseFloat(s)),l:Nn.channel.clamp.l(parseFloat(o)),a:l?Nn.channel.clamp.a(u?parseFloat(l)/100:parseFloat(l)):1},t)},stringify:t=>{const{h:e,s:n,l:i,a:s}=t;return s<1?`hsla(${Nn.lang.round(e)}, ${Nn.lang.round(n)}%, ${Nn.lang.round(i)}%, ${s})`:`hsl(${Nn.lang.round(e)}, ${Nn.lang.round(n)}%, ${Nn.lang.round(i)}%)`}},h1=u1,d1={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=d1.colors[t];if(e)return Lh.parse(e)},stringify:t=>{const e=Lh.stringify(t);for(const n in d1.colors)if(d1.colors[n]===e)return n}},Ck=d1,Sk={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(Sk.re);if(!n)return;const[,i,s,o,l,u,f,g,_]=n;return c1.set({r:Nn.channel.clamp.r(s?parseFloat(i)*2.55:parseFloat(i)),g:Nn.channel.clamp.g(l?parseFloat(o)*2.55:parseFloat(o)),b:Nn.channel.clamp.b(f?parseFloat(u)*2.55:parseFloat(u)),a:g?Nn.channel.clamp.a(_?parseFloat(g)/100:parseFloat(g)):1},t)},stringify:t=>{const{r:e,g:n,b:i,a:s}=t;return s<1?`rgba(${Nn.lang.round(e)}, ${Nn.lang.round(n)}, ${Nn.lang.round(i)}, ${Nn.lang.round(s)})`:`rgb(${Nn.lang.round(e)}, ${Nn.lang.round(n)}, ${Nn.lang.round(i)})`}},f1=Sk,ja={format:{keyword:Ck,hex:Lh,rgb:f1,rgba:f1,hsl:h1,hsla:h1},parse:t=>{if(typeof t!="string")return t;const e=Lh.parse(t)||f1.parse(t)||h1.parse(t)||Ck.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Ti.HSL)||t.data.r===void 0?h1.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?f1.stringify(t):Lh.stringify(t)},Ak=(t,e)=>{const n=ja.parse(t);for(const i in e)n[i]=Nn.channel.clamp[i](e[i]);return ja.stringify(n)},Ih=(t,e,n=0,i=1)=>{if(typeof t!="number")return Ak(t,{a:e});const s=c1.set({r:Nn.channel.clamp.r(t),g:Nn.channel.clamp.g(e),b:Nn.channel.clamp.b(n),a:Nn.channel.clamp.a(i)});return ja.stringify(s)},Lk=(t,e,n)=>{const i=ja.parse(t),s=i[e],o=Nn.channel.clamp[e](s+n);return s!==o&&(i[e]=o),ja.stringify(i)},cn=(t,e)=>Lk(t,"l",e),bn=(t,e)=>Lk(t,"l",-e),Vt=(t,e)=>{const n=ja.parse(t),i={};for(const s in e)e[s]&&(i[s]=n[s]+e[s]);return Ak(t,i)},mM=(t,e,n=50)=>{const{r:i,g:s,b:o,a:l}=ja.parse(t),{r:u,g:f,b:g,a:_}=ja.parse(e),k=n/100,w=k*2-1,x=l-_,R=((w*x===-1?w:(w+x)/(1+w*x))+1)/2,B=1-R,U=i*R+u*B,Y=s*R+f*B,X=o*R+g*B,Q=l*k+_*(1-k);return Ih(U,Y,X,Q)},Me=(t,e=100)=>{const n=ja.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,mM(n,t,e)},Ri=(t,e)=>e?Vt(t,{s:-40,l:10}):Vt(t,{s:-40,l:-10}),p1="#ffffff",g1="#f2f2f2";class yM{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Vt(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Vt(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Ri(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Ri(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Ri(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Ri(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Me(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Me(this.tertiaryColor),this.lineColor=this.lineColor||Me(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?bn(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||bn(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Me(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||cn(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Vt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Vt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Vt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Vt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Vt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Vt(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Vt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Vt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Vt(this.primaryColor,{h:330}),this.darkMode)for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bn(this["cScale"+e],75);else for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Me(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||cn(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||bn(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Vt(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Vt(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Vt(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Vt(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Vt(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Vt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Vt(this.primaryColor,{l:-10}),this.pie5=this.pie5||Vt(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Vt(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Vt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Vt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Vt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Vt(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Vt(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Vt(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?bn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Vt(this.primaryColor,{h:-30}),this.git4=this.git4||Vt(this.primaryColor,{h:-60}),this.git5=this.git5||Vt(this.primaryColor,{h:-90}),this.git6=this.git6||Vt(this.primaryColor,{h:60}),this.git7=this.git7||Vt(this.primaryColor,{h:120}),this.darkMode?(this.git0=cn(this.git0,25),this.git1=cn(this.git1,25),this.git2=cn(this.git2,25),this.git3=cn(this.git3,25),this.git4=cn(this.git4,25),this.git5=cn(this.git5,25),this.git6=cn(this.git6,25),this.git7=cn(this.git7,25)):(this.git0=bn(this.git0,25),this.git1=bn(this.git1,25),this.git2=bn(this.git2,25),this.git3=bn(this.git3,25),this.git4=bn(this.git4,25),this.git5=bn(this.git5,25),this.git6=bn(this.git6,25),this.git7=bn(this.git7,25)),this.gitInv0=this.gitInv0||Me(this.git0),this.gitInv1=this.gitInv1||Me(this.git1),this.gitInv2=this.gitInv2||Me(this.git2),this.gitInv3=this.gitInv3||Me(this.git3),this.gitInv4=this.gitInv4||Me(this.git4),this.gitInv5=this.gitInv5||Me(this.git5),this.gitInv6=this.gitInv6||Me(this.git6),this.gitInv7=this.gitInv7||Me(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||p1,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||g1}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}}const _M=t=>{const e=new yM;return e.calculate(t),e};class vM{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=cn(this.primaryColor,16),this.tertiaryColor=Vt(this.primaryColor,{h:-160}),this.primaryBorderColor=Me(this.background),this.secondaryBorderColor=Ri(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ri(this.tertiaryColor,this.darkMode),this.primaryTextColor=Me(this.primaryColor),this.secondaryTextColor=Me(this.secondaryColor),this.tertiaryTextColor=Me(this.tertiaryColor),this.lineColor=Me(this.background),this.textColor=Me(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=cn(Me("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=Ih(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=bn("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=Ih(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Ih(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=cn(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=cn(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=cn(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Vt(this.primaryColor,{h:64}),this.fillType3=Vt(this.secondaryColor,{h:64}),this.fillType4=Vt(this.primaryColor,{h:-64}),this.fillType5=Vt(this.secondaryColor,{h:-64}),this.fillType6=Vt(this.primaryColor,{h:128}),this.fillType7=Vt(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Vt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Vt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Vt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Vt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Vt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Vt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Vt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Vt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Vt(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Me(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||cn(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?bn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=cn(this.secondaryColor,20),this.git1=cn(this.pie2||this.secondaryColor,20),this.git2=cn(this.pie3||this.tertiaryColor,20),this.git3=cn(this.pie4||Vt(this.primaryColor,{h:-30}),20),this.git4=cn(this.pie5||Vt(this.primaryColor,{h:-60}),20),this.git5=cn(this.pie6||Vt(this.primaryColor,{h:-90}),10),this.git6=cn(this.pie7||Vt(this.primaryColor,{h:60}),10),this.git7=cn(this.pie8||Vt(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Me(this.git0),this.gitInv1=this.gitInv1||Me(this.git1),this.gitInv2=this.gitInv2||Me(this.git2),this.gitInv3=this.gitInv3||Me(this.git3),this.gitInv4=this.gitInv4||Me(this.git4),this.gitInv5=this.gitInv5||Me(this.git5),this.gitInv6=this.gitInv6||Me(this.git6),this.gitInv7=this.gitInv7||Me(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cn(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||cn(this.background,2)}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}}const bM=t=>{const e=new vM;return e.calculate(t),e};class kM{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Vt(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Vt(this.primaryColor,{h:-160}),this.primaryBorderColor=Ri(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ri(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ri(this.tertiaryColor,this.darkMode),this.primaryTextColor=Me(this.primaryColor),this.secondaryTextColor=Me(this.secondaryColor),this.tertiaryTextColor=Me(this.tertiaryColor),this.lineColor=Me(this.background),this.textColor=Me(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=Ih(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Vt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Vt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Vt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Vt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Vt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Vt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Vt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Vt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Vt(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||bn(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||bn(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bn(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||bn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Vt(this["cScale"+e],{h:180});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Me(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Me(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=cn(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Vt(this.primaryColor,{h:64}),this.fillType3=Vt(this.secondaryColor,{h:64}),this.fillType4=Vt(this.primaryColor,{h:-64}),this.fillType5=Vt(this.secondaryColor,{h:-64}),this.fillType6=Vt(this.primaryColor,{h:128}),this.fillType7=Vt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Vt(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Vt(this.primaryColor,{l:-10}),this.pie5=this.pie5||Vt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Vt(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Vt(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Vt(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Vt(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Vt(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Vt(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Vt(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Vt(this.primaryColor,{h:-30}),this.git4=this.git4||Vt(this.primaryColor,{h:-60}),this.git5=this.git5||Vt(this.primaryColor,{h:-90}),this.git6=this.git6||Vt(this.primaryColor,{h:60}),this.git7=this.git7||Vt(this.primaryColor,{h:120}),this.darkMode?(this.git0=cn(this.git0,25),this.git1=cn(this.git1,25),this.git2=cn(this.git2,25),this.git3=cn(this.git3,25),this.git4=cn(this.git4,25),this.git5=cn(this.git5,25),this.git6=cn(this.git6,25),this.git7=cn(this.git7,25)):(this.git0=bn(this.git0,25),this.git1=bn(this.git1,25),this.git2=bn(this.git2,25),this.git3=bn(this.git3,25),this.git4=bn(this.git4,25),this.git5=bn(this.git5,25),this.git6=bn(this.git6,25),this.git7=bn(this.git7,25)),this.gitInv0=this.gitInv0||bn(Me(this.git0),25),this.gitInv1=this.gitInv1||Me(this.git1),this.gitInv2=this.gitInv2||Me(this.git2),this.gitInv3=this.gitInv3||Me(this.git3),this.gitInv4=this.gitInv4||Me(this.git4),this.gitInv5=this.gitInv5||Me(this.git5),this.gitInv6=this.gitInv6||Me(this.git6),this.gitInv7=this.gitInv7||Me(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Me(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Me(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||p1,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||g1}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}}const wM=t=>{const e=new kM;return e.calculate(t),e};class xM{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=cn("#cde498",10),this.primaryBorderColor=Ri(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ri(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ri(this.tertiaryColor,this.darkMode),this.primaryTextColor=Me(this.primaryColor),this.secondaryTextColor=Me(this.secondaryColor),this.tertiaryTextColor=Me(this.primaryColor),this.lineColor=Me(this.background),this.textColor=Me(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Vt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Vt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Vt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Vt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Vt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Vt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Vt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Vt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Vt(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||bn(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||bn(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bn(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||bn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Vt(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=bn(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Vt(this.primaryColor,{h:64}),this.fillType3=Vt(this.secondaryColor,{h:64}),this.fillType4=Vt(this.primaryColor,{h:-64}),this.fillType5=Vt(this.secondaryColor,{h:-64}),this.fillType6=Vt(this.primaryColor,{h:128}),this.fillType7=Vt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Vt(this.primaryColor,{l:-30}),this.pie5=this.pie5||Vt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Vt(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Vt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Vt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Vt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Vt(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Vt(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Vt(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Vt(this.primaryColor,{h:-30}),this.git4=this.git4||Vt(this.primaryColor,{h:-60}),this.git5=this.git5||Vt(this.primaryColor,{h:-90}),this.git6=this.git6||Vt(this.primaryColor,{h:60}),this.git7=this.git7||Vt(this.primaryColor,{h:120}),this.darkMode?(this.git0=cn(this.git0,25),this.git1=cn(this.git1,25),this.git2=cn(this.git2,25),this.git3=cn(this.git3,25),this.git4=cn(this.git4,25),this.git5=cn(this.git5,25),this.git6=cn(this.git6,25),this.git7=cn(this.git7,25)):(this.git0=bn(this.git0,25),this.git1=bn(this.git1,25),this.git2=bn(this.git2,25),this.git3=bn(this.git3,25),this.git4=bn(this.git4,25),this.git5=bn(this.git5,25),this.git6=bn(this.git6,25),this.git7=bn(this.git7,25)),this.gitInv0=this.gitInv0||Me(this.git0),this.gitInv1=this.gitInv1||Me(this.git1),this.gitInv2=this.gitInv2||Me(this.git2),this.gitInv3=this.gitInv3||Me(this.git3),this.gitInv4=this.gitInv4||Me(this.git4),this.gitInv5=this.gitInv5||Me(this.git5),this.gitInv6=this.gitInv6||Me(this.git6),this.gitInv7=this.gitInv7||Me(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||p1,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||g1}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}}const TM=t=>{const e=new xM;return e.calculate(t),e};class EM{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=cn(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Vt(this.primaryColor,{h:-160}),this.primaryBorderColor=Ri(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ri(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ri(this.tertiaryColor,this.darkMode),this.primaryTextColor=Me(this.primaryColor),this.secondaryTextColor=Me(this.secondaryColor),this.tertiaryTextColor=Me(this.tertiaryColor),this.lineColor=Me(this.background),this.textColor=Me(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=cn(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Me(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||cn(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||bn(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=cn(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=cn(this.contrast,30),this.sectionBkgColor2=cn(this.contrast,30),this.taskBorderColor=bn(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=cn(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=bn(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Vt(this.primaryColor,{h:64}),this.fillType3=Vt(this.secondaryColor,{h:64}),this.fillType4=Vt(this.primaryColor,{h:-64}),this.fillType5=Vt(this.secondaryColor,{h:-64}),this.fillType6=Vt(this.primaryColor,{h:128}),this.fillType7=Vt(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=bn(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Vt(this.primaryColor,{h:-30}),this.git4=this.pie5||Vt(this.primaryColor,{h:-60}),this.git5=this.pie6||Vt(this.primaryColor,{h:-90}),this.git6=this.pie7||Vt(this.primaryColor,{h:60}),this.git7=this.pie8||Vt(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Me(this.git0),this.gitInv1=this.gitInv1||Me(this.git1),this.gitInv2=this.gitInv2||Me(this.git2),this.gitInv3=this.gitInv3||Me(this.git3),this.gitInv4=this.gitInv4||Me(this.git4),this.gitInv5=this.gitInv5||Me(this.git5),this.gitInv6=this.gitInv6||Me(this.git6),this.gitInv7=this.gitInv7||Me(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||p1,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||g1}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}}const qa={base:{getThemeVariables:_M},dark:{getThemeVariables:bM},default:{getThemeVariables:wM},forest:{getThemeVariables:TM},neutral:{getThemeVariables:t=>{const e=new EM;return e.calculate(t),e}}},Yo={theme:"default",themeVariables:qa.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};Yo.class&&(Yo.class.arrowMarkerAbsolute=Yo.arrowMarkerAbsolute),Yo.gitGraph&&(Yo.gitGraph.arrowMarkerAbsolute=Yo.arrowMarkerAbsolute);const Ik=(t,e="")=>Object.keys(t).reduce((n,i)=>Array.isArray(t[i])?n:typeof t[i]=="object"&&t[i]!==null?[...n,e+i,...Ik(t[i],"")]:[...n,e+i],[]),CM=Ik(Yo,""),SM=Yo;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Mk(t){return typeof t>"u"||t===null}function AM(t){return typeof t=="object"&&t!==null}function LM(t){return Array.isArray(t)?t:Mk(t)?[]:[t]}function IM(t,e){var n,i,s,o;if(e)for(o=Object.keys(e),n=0,i=o.length;n<i;n+=1)s=o[n],t[s]=e[s];return t}function MM(t,e){var n="",i;for(i=0;i<e;i+=1)n+=t;return n}function NM(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var OM=Mk,DM=AM,RM=LM,BM=MM,PM=NM,FM=IM,Bi={isNothing:OM,isObject:DM,toArray:RM,repeat:BM,isNegativeZero:PM,extend:FM};function Nk(t,e){var n="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),i+" "+n):i}function Mh(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=Nk(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Mh.prototype=Object.create(Error.prototype),Mh.prototype.constructor=Mh,Mh.prototype.toString=function(e){return this.name+": "+Nk(this,e)};var Ga=Mh;function tm(t,e,n,i,s){var o="",l="",u=Math.floor(s/2)-1;return i-e>u&&(o=" ... ",e=i-u+o.length),n-i>u&&(l=" ...",n=i+u-l.length),{str:o+t.slice(e,n).replace(/\t/g,"→")+l,pos:i-e+o.length}}function em(t,e){return Bi.repeat(" ",e-t.length)+t}function VM(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],s=[],o,l=-1;o=n.exec(t.buffer);)s.push(o.index),i.push(o.index+o[0].length),t.position<=o.index&&l<0&&(l=i.length-2);l<0&&(l=i.length-1);var u="",f,g,_=Math.min(t.line+e.linesAfter,s.length).toString().length,k=e.maxLength-(e.indent+_+3);for(f=1;f<=e.linesBefore&&!(l-f<0);f++)g=tm(t.buffer,i[l-f],s[l-f],t.position-(i[l]-i[l-f]),k),u=Bi.repeat(" ",e.indent)+em((t.line-f+1).toString(),_)+" | "+g.str+`
`+u;for(g=tm(t.buffer,i[l],s[l],t.position,k),u+=Bi.repeat(" ",e.indent)+em((t.line+1).toString(),_)+" | "+g.str+`
`,u+=Bi.repeat("-",e.indent+_+3+g.pos)+`^
`,f=1;f<=e.linesAfter&&!(l+f>=s.length);f++)g=tm(t.buffer,i[l+f],s[l+f],t.position-(i[l]-i[l+f]),k),u+=Bi.repeat(" ",e.indent)+em((t.line+f+1).toString(),_)+" | "+g.str+`
`;return u.replace(/\n$/,"")}var YM=VM,$M=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],UM=["scalar","sequence","mapping"];function zM(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(i){e[String(i)]=n})}),e}function HM(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if($M.indexOf(n)===-1)throw new Ga('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=zM(e.styleAliases||null),UM.indexOf(this.kind)===-1)throw new Ga('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Ei=HM;function Ok(t,e){var n=[];return t[e].forEach(function(i){var s=n.length;n.forEach(function(o,l){o.tag===i.tag&&o.kind===i.kind&&o.multi===i.multi&&(s=l)}),n[s]=i}),n}function WM(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function i(s){s.multi?(t.multi[s.kind].push(s),t.multi.fallback.push(s)):t[s.kind][s.tag]=t.fallback[s.tag]=s}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(i);return t}function nm(t){return this.extend(t)}nm.prototype.extend=function(e){var n=[],i=[];if(e instanceof Ei)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new Ga("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof Ei))throw new Ga("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Ga("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Ga("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(o){if(!(o instanceof Ei))throw new Ga("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create(nm.prototype);return s.implicit=(this.implicit||[]).concat(n),s.explicit=(this.explicit||[]).concat(i),s.compiledImplicit=Ok(s,"implicit"),s.compiledExplicit=Ok(s,"explicit"),s.compiledTypeMap=WM(s.compiledImplicit,s.compiledExplicit),s};var jM=nm,qM=new Ei("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),GM=new Ei("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),XM=new Ei("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),Dk=new jM({explicit:[qM,GM,XM]});function KM(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function ZM(){return null}function QM(t){return t===null}var JM=new Ei("tag:yaml.org,2002:null",{kind:"scalar",resolve:KM,construct:ZM,predicate:QM,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function tN(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function eN(t){return t==="true"||t==="True"||t==="TRUE"}function nN(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var rN=new Ei("tag:yaml.org,2002:bool",{kind:"scalar",resolve:tN,construct:eN,predicate:nN,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function iN(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function sN(t){return 48<=t&&t<=55}function aN(t){return 48<=t&&t<=57}function oN(t){if(t===null)return!1;var e=t.length,n=0,i=!1,s;if(!e)return!1;if(s=t[n],(s==="-"||s==="+")&&(s=t[++n]),s==="0"){if(n+1===e)return!0;if(s=t[++n],s==="b"){for(n++;n<e;n++)if(s=t[n],s!=="_"){if(s!=="0"&&s!=="1")return!1;i=!0}return i&&s!=="_"}if(s==="x"){for(n++;n<e;n++)if(s=t[n],s!=="_"){if(!iN(t.charCodeAt(n)))return!1;i=!0}return i&&s!=="_"}if(s==="o"){for(n++;n<e;n++)if(s=t[n],s!=="_"){if(!sN(t.charCodeAt(n)))return!1;i=!0}return i&&s!=="_"}}if(s==="_")return!1;for(;n<e;n++)if(s=t[n],s!=="_"){if(!aN(t.charCodeAt(n)))return!1;i=!0}return!(!i||s==="_")}function lN(t){var e=t,n=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function cN(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Bi.isNegativeZero(t)}var uN=new Ei("tag:yaml.org,2002:int",{kind:"scalar",resolve:oN,construct:lN,predicate:cN,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),hN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function dN(t){return!(t===null||!hN.test(t)||t[t.length-1]==="_")}function fN(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var pN=/^[-+]?[0-9]+e/;function gN(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Bi.isNegativeZero(t))return"-0.0";return n=t.toString(10),pN.test(n)?n.replace("e",".e"):n}function mN(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Bi.isNegativeZero(t))}var yN=new Ei("tag:yaml.org,2002:float",{kind:"scalar",resolve:dN,construct:fN,predicate:mN,represent:gN,defaultStyle:"lowercase"}),_N=Dk.extend({implicit:[JM,rN,uN,yN]}),vN=_N,Rk=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Bk=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function bN(t){return t===null?!1:Rk.exec(t)!==null||Bk.exec(t)!==null}function kN(t){var e,n,i,s,o,l,u,f=0,g=null,_,k,w;if(e=Rk.exec(t),e===null&&(e=Bk.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],i=+e[2]-1,s=+e[3],!e[4])return new Date(Date.UTC(n,i,s));if(o=+e[4],l=+e[5],u=+e[6],e[7]){for(f=e[7].slice(0,3);f.length<3;)f+="0";f=+f}return e[9]&&(_=+e[10],k=+(e[11]||0),g=(_*60+k)*6e4,e[9]==="-"&&(g=-g)),w=new Date(Date.UTC(n,i,s,o,l,u,f)),g&&w.setTime(w.getTime()-g),w}function wN(t){return t.toISOString()}var xN=new Ei("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:bN,construct:kN,instanceOf:Date,represent:wN});function TN(t){return t==="<<"||t===null}var EN=new Ei("tag:yaml.org,2002:merge",{kind:"scalar",resolve:TN}),rm=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function CN(t){if(t===null)return!1;var e,n,i=0,s=t.length,o=rm;for(n=0;n<s;n++)if(e=o.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function SN(t){var e,n,i=t.replace(/[\r\n=]/g,""),s=i.length,o=rm,l=0,u=[];for(e=0;e<s;e++)e%4===0&&e&&(u.push(l>>16&255),u.push(l>>8&255),u.push(l&255)),l=l<<6|o.indexOf(i.charAt(e));return n=s%4*6,n===0?(u.push(l>>16&255),u.push(l>>8&255),u.push(l&255)):n===18?(u.push(l>>10&255),u.push(l>>2&255)):n===12&&u.push(l>>4&255),new Uint8Array(u)}function AN(t){var e="",n=0,i,s,o=t.length,l=rm;for(i=0;i<o;i++)i%3===0&&i&&(e+=l[n>>18&63],e+=l[n>>12&63],e+=l[n>>6&63],e+=l[n&63]),n=(n<<8)+t[i];return s=o%3,s===0?(e+=l[n>>18&63],e+=l[n>>12&63],e+=l[n>>6&63],e+=l[n&63]):s===2?(e+=l[n>>10&63],e+=l[n>>4&63],e+=l[n<<2&63],e+=l[64]):s===1&&(e+=l[n>>2&63],e+=l[n<<4&63],e+=l[64],e+=l[64]),e}function LN(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var IN=new Ei("tag:yaml.org,2002:binary",{kind:"scalar",resolve:CN,construct:SN,predicate:LN,represent:AN}),MN=Object.prototype.hasOwnProperty,NN=Object.prototype.toString;function ON(t){if(t===null)return!0;var e=[],n,i,s,o,l,u=t;for(n=0,i=u.length;n<i;n+=1){if(s=u[n],l=!1,NN.call(s)!=="[object Object]")return!1;for(o in s)if(MN.call(s,o))if(!l)l=!0;else return!1;if(!l)return!1;if(e.indexOf(o)===-1)e.push(o);else return!1}return!0}function DN(t){return t!==null?t:[]}var RN=new Ei("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ON,construct:DN}),BN=Object.prototype.toString;function PN(t){if(t===null)return!0;var e,n,i,s,o,l=t;for(o=new Array(l.length),e=0,n=l.length;e<n;e+=1){if(i=l[e],BN.call(i)!=="[object Object]"||(s=Object.keys(i),s.length!==1))return!1;o[e]=[s[0],i[s[0]]]}return!0}function FN(t){if(t===null)return[];var e,n,i,s,o,l=t;for(o=new Array(l.length),e=0,n=l.length;e<n;e+=1)i=l[e],s=Object.keys(i),o[e]=[s[0],i[s[0]]];return o}var VN=new Ei("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:PN,construct:FN}),YN=Object.prototype.hasOwnProperty;function $N(t){if(t===null)return!0;var e,n=t;for(e in n)if(YN.call(n,e)&&n[e]!==null)return!1;return!0}function UN(t){return t!==null?t:{}}var zN=new Ei("tag:yaml.org,2002:set",{kind:"mapping",resolve:$N,construct:UN}),HN=vN.extend({implicit:[xN,EN],explicit:[IN,RN,VN,zN]}),$o=Object.prototype.hasOwnProperty,m1=1,Pk=2,Fk=3,y1=4,im=1,WN=2,Vk=3,jN=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,qN=/[\x85\u2028\u2029]/,GN=/[,\[\]\{\}]/,Yk=/^(?:!|!!|![a-z\-]+!)$/i,$k=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Uk(t){return Object.prototype.toString.call(t)}function va(t){return t===10||t===13}function Ol(t){return t===9||t===32}function qi(t){return t===9||t===32||t===10||t===13}function iu(t){return t===44||t===91||t===93||t===123||t===125}function XN(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function KN(t){return t===120?2:t===117?4:t===85?8:0}function ZN(t){return 48<=t&&t<=57?t-48:-1}function zk(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}function QN(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}for(var Hk=new Array(256),Wk=new Array(256),su=0;su<256;su++)Hk[su]=zk(su)?1:0,Wk[su]=zk(su);function JN(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||HN,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function jk(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=YM(n),new Ga(e,n)}function Qe(t,e){throw jk(t,e)}function _1(t,e){t.onWarning&&t.onWarning.call(null,jk(t,e))}var qk={YAML:function(e,n,i){var s,o,l;e.version!==null&&Qe(e,"duplication of %YAML directive"),i.length!==1&&Qe(e,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),s===null&&Qe(e,"ill-formed argument of the YAML directive"),o=parseInt(s[1],10),l=parseInt(s[2],10),o!==1&&Qe(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=l<2,l!==1&&l!==2&&_1(e,"unsupported YAML version of the document")},TAG:function(e,n,i){var s,o;i.length!==2&&Qe(e,"TAG directive accepts exactly two arguments"),s=i[0],o=i[1],Yk.test(s)||Qe(e,"ill-formed tag handle (first argument) of the TAG directive"),$o.call(e.tagMap,s)&&Qe(e,'there is a previously declared suffix for "'+s+'" tag handle'),$k.test(o)||Qe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Qe(e,"tag prefix is malformed: "+o)}e.tagMap[s]=o}};function Uo(t,e,n,i){var s,o,l,u;if(e<n){if(u=t.input.slice(e,n),i)for(s=0,o=u.length;s<o;s+=1)l=u.charCodeAt(s),l===9||32<=l&&l<=1114111||Qe(t,"expected valid JSON character");else jN.test(u)&&Qe(t,"the stream contains non-printable characters");t.result+=u}}function Gk(t,e,n,i){var s,o,l,u;for(Bi.isObject(n)||Qe(t,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(n),l=0,u=s.length;l<u;l+=1)o=s[l],$o.call(e,o)||(e[o]=n[o],i[o]=!0)}function au(t,e,n,i,s,o,l,u,f){var g,_;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),g=0,_=s.length;g<_;g+=1)Array.isArray(s[g])&&Qe(t,"nested arrays are not supported inside keys"),typeof s=="object"&&Uk(s[g])==="[object Object]"&&(s[g]="[object Object]");if(typeof s=="object"&&Uk(s)==="[object Object]"&&(s="[object Object]"),s=String(s),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(g=0,_=o.length;g<_;g+=1)Gk(t,e,o[g],n);else Gk(t,e,o,n);else!t.json&&!$o.call(n,s)&&$o.call(e,s)&&(t.line=l||t.line,t.lineStart=u||t.lineStart,t.position=f||t.position,Qe(t,"duplicated mapping key")),s==="__proto__"?Object.defineProperty(e,s,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[s]=o,delete n[s];return e}function sm(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Qe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Ur(t,e,n){for(var i=0,s=t.input.charCodeAt(t.position);s!==0;){for(;Ol(s);)s===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),s=t.input.charCodeAt(++t.position);if(e&&s===35)do s=t.input.charCodeAt(++t.position);while(s!==10&&s!==13&&s!==0);if(va(s))for(sm(t),s=t.input.charCodeAt(t.position),i++,t.lineIndent=0;s===32;)t.lineIndent++,s=t.input.charCodeAt(++t.position);else break}return n!==-1&&i!==0&&t.lineIndent<n&&_1(t,"deficient indentation"),i}function v1(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||qi(n)))}function am(t,e){e===1?t.result+=" ":e>1&&(t.result+=Bi.repeat(`
`,e-1))}function tO(t,e,n){var i,s,o,l,u,f,g,_,k=t.kind,w=t.result,x;if(x=t.input.charCodeAt(t.position),qi(x)||iu(x)||x===35||x===38||x===42||x===33||x===124||x===62||x===39||x===34||x===37||x===64||x===96||(x===63||x===45)&&(s=t.input.charCodeAt(t.position+1),qi(s)||n&&iu(s)))return!1;for(t.kind="scalar",t.result="",o=l=t.position,u=!1;x!==0;){if(x===58){if(s=t.input.charCodeAt(t.position+1),qi(s)||n&&iu(s))break}else if(x===35){if(i=t.input.charCodeAt(t.position-1),qi(i))break}else{if(t.position===t.lineStart&&v1(t)||n&&iu(x))break;if(va(x))if(f=t.line,g=t.lineStart,_=t.lineIndent,Ur(t,!1,-1),t.lineIndent>=e){u=!0,x=t.input.charCodeAt(t.position);continue}else{t.position=l,t.line=f,t.lineStart=g,t.lineIndent=_;break}}u&&(Uo(t,o,l,!1),am(t,t.line-f),o=l=t.position,u=!1),Ol(x)||(l=t.position+1),x=t.input.charCodeAt(++t.position)}return Uo(t,o,l,!1),t.result?!0:(t.kind=k,t.result=w,!1)}function eO(t,e){var n,i,s;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,i=s=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Uo(t,i,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)i=t.position,t.position++,s=t.position;else return!0;else va(n)?(Uo(t,i,s,!0),am(t,Ur(t,!1,e)),i=s=t.position):t.position===t.lineStart&&v1(t)?Qe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,s=t.position);Qe(t,"unexpected end of the stream within a single quoted scalar")}function nO(t,e){var n,i,s,o,l,u;if(u=t.input.charCodeAt(t.position),u!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(u=t.input.charCodeAt(t.position))!==0;){if(u===34)return Uo(t,n,t.position,!0),t.position++,!0;if(u===92){if(Uo(t,n,t.position,!0),u=t.input.charCodeAt(++t.position),va(u))Ur(t,!1,e);else if(u<256&&Hk[u])t.result+=Wk[u],t.position++;else if((l=KN(u))>0){for(s=l,o=0;s>0;s--)u=t.input.charCodeAt(++t.position),(l=XN(u))>=0?o=(o<<4)+l:Qe(t,"expected hexadecimal character");t.result+=QN(o),t.position++}else Qe(t,"unknown escape sequence");n=i=t.position}else va(u)?(Uo(t,n,i,!0),am(t,Ur(t,!1,e)),n=i=t.position):t.position===t.lineStart&&v1(t)?Qe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}Qe(t,"unexpected end of the stream within a double quoted scalar")}function rO(t,e){var n=!0,i,s,o,l=t.tag,u,f=t.anchor,g,_,k,w,x,M=Object.create(null),R,B,U,Y;if(Y=t.input.charCodeAt(t.position),Y===91)_=93,x=!1,u=[];else if(Y===123)_=125,x=!0,u={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=u),Y=t.input.charCodeAt(++t.position);Y!==0;){if(Ur(t,!0,e),Y=t.input.charCodeAt(t.position),Y===_)return t.position++,t.tag=l,t.anchor=f,t.kind=x?"mapping":"sequence",t.result=u,!0;n?Y===44&&Qe(t,"expected the node content, but found ','"):Qe(t,"missed comma between flow collection entries"),B=R=U=null,k=w=!1,Y===63&&(g=t.input.charCodeAt(t.position+1),qi(g)&&(k=w=!0,t.position++,Ur(t,!0,e))),i=t.line,s=t.lineStart,o=t.position,ou(t,e,m1,!1,!0),B=t.tag,R=t.result,Ur(t,!0,e),Y=t.input.charCodeAt(t.position),(w||t.line===i)&&Y===58&&(k=!0,Y=t.input.charCodeAt(++t.position),Ur(t,!0,e),ou(t,e,m1,!1,!0),U=t.result),x?au(t,u,M,B,R,U,i,s,o):k?u.push(au(t,null,M,B,R,U,i,s,o)):u.push(R),Ur(t,!0,e),Y=t.input.charCodeAt(t.position),Y===44?(n=!0,Y=t.input.charCodeAt(++t.position)):n=!1}Qe(t,"unexpected end of the stream within a flow collection")}function iO(t,e){var n,i,s=im,o=!1,l=!1,u=e,f=0,g=!1,_,k;if(k=t.input.charCodeAt(t.position),k===124)i=!1;else if(k===62)i=!0;else return!1;for(t.kind="scalar",t.result="";k!==0;)if(k=t.input.charCodeAt(++t.position),k===43||k===45)im===s?s=k===43?Vk:WN:Qe(t,"repeat of a chomping mode identifier");else if((_=ZN(k))>=0)_===0?Qe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?Qe(t,"repeat of an indentation width identifier"):(u=e+_-1,l=!0);else break;if(Ol(k)){do k=t.input.charCodeAt(++t.position);while(Ol(k));if(k===35)do k=t.input.charCodeAt(++t.position);while(!va(k)&&k!==0)}for(;k!==0;){for(sm(t),t.lineIndent=0,k=t.input.charCodeAt(t.position);(!l||t.lineIndent<u)&&k===32;)t.lineIndent++,k=t.input.charCodeAt(++t.position);if(!l&&t.lineIndent>u&&(u=t.lineIndent),va(k)){f++;continue}if(t.lineIndent<u){s===Vk?t.result+=Bi.repeat(`
`,o?1+f:f):s===im&&o&&(t.result+=`
`);break}for(i?Ol(k)?(g=!0,t.result+=Bi.repeat(`
`,o?1+f:f)):g?(g=!1,t.result+=Bi.repeat(`
`,f+1)):f===0?o&&(t.result+=" "):t.result+=Bi.repeat(`
`,f):t.result+=Bi.repeat(`
`,o?1+f:f),o=!0,l=!0,f=0,n=t.position;!va(k)&&k!==0;)k=t.input.charCodeAt(++t.position);Uo(t,n,t.position,!1)}return!0}function Xk(t,e){var n,i=t.tag,s=t.anchor,o=[],l,u=!1,f;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),f=t.input.charCodeAt(t.position);f!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Qe(t,"tab characters must not be used in indentation")),!(f!==45||(l=t.input.charCodeAt(t.position+1),!qi(l))));){if(u=!0,t.position++,Ur(t,!0,-1)&&t.lineIndent<=e){o.push(null),f=t.input.charCodeAt(t.position);continue}if(n=t.line,ou(t,e,Fk,!1,!0),o.push(t.result),Ur(t,!0,-1),f=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&f!==0)Qe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return u?(t.tag=i,t.anchor=s,t.kind="sequence",t.result=o,!0):!1}function sO(t,e,n){var i,s,o,l,u,f,g=t.tag,_=t.anchor,k={},w=Object.create(null),x=null,M=null,R=null,B=!1,U=!1,Y;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=k),Y=t.input.charCodeAt(t.position);Y!==0;){if(!B&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Qe(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),o=t.line,(Y===63||Y===58)&&qi(i))Y===63?(B&&(au(t,k,w,x,M,null,l,u,f),x=M=R=null),U=!0,B=!0,s=!0):B?(B=!1,s=!0):Qe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,Y=i;else{if(l=t.line,u=t.lineStart,f=t.position,!ou(t,n,Pk,!1,!0))break;if(t.line===o){for(Y=t.input.charCodeAt(t.position);Ol(Y);)Y=t.input.charCodeAt(++t.position);if(Y===58)Y=t.input.charCodeAt(++t.position),qi(Y)||Qe(t,"a whitespace character is expected after the key-value separator within a block mapping"),B&&(au(t,k,w,x,M,null,l,u,f),x=M=R=null),U=!0,B=!1,s=!1,x=t.tag,M=t.result;else if(U)Qe(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=g,t.anchor=_,!0}else if(U)Qe(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=g,t.anchor=_,!0}if((t.line===o||t.lineIndent>e)&&(B&&(l=t.line,u=t.lineStart,f=t.position),ou(t,e,y1,!0,s)&&(B?M=t.result:R=t.result),B||(au(t,k,w,x,M,R,l,u,f),x=M=R=null),Ur(t,!0,-1),Y=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&Y!==0)Qe(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return B&&au(t,k,w,x,M,null,l,u,f),U&&(t.tag=g,t.anchor=_,t.kind="mapping",t.result=k),U}function aO(t){var e,n=!1,i=!1,s,o,l;if(l=t.input.charCodeAt(t.position),l!==33)return!1;if(t.tag!==null&&Qe(t,"duplication of a tag property"),l=t.input.charCodeAt(++t.position),l===60?(n=!0,l=t.input.charCodeAt(++t.position)):l===33?(i=!0,s="!!",l=t.input.charCodeAt(++t.position)):s="!",e=t.position,n){do l=t.input.charCodeAt(++t.position);while(l!==0&&l!==62);t.position<t.length?(o=t.input.slice(e,t.position),l=t.input.charCodeAt(++t.position)):Qe(t,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!qi(l);)l===33&&(i?Qe(t,"tag suffix cannot contain exclamation marks"):(s=t.input.slice(e-1,t.position+1),Yk.test(s)||Qe(t,"named tag handle cannot contain such characters"),i=!0,e=t.position+1)),l=t.input.charCodeAt(++t.position);o=t.input.slice(e,t.position),GN.test(o)&&Qe(t,"tag suffix cannot contain flow indicator characters")}o&&!$k.test(o)&&Qe(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Qe(t,"tag name is malformed: "+o)}return n?t.tag=o:$o.call(t.tagMap,s)?t.tag=t.tagMap[s]+o:s==="!"?t.tag="!"+o:s==="!!"?t.tag="tag:yaml.org,2002:"+o:Qe(t,'undeclared tag handle "'+s+'"'),!0}function oO(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Qe(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!qi(n)&&!iu(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Qe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function lO(t){var e,n,i;if(i=t.input.charCodeAt(t.position),i!==42)return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!qi(i)&&!iu(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&Qe(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),$o.call(t.anchorMap,n)||Qe(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Ur(t,!0,-1),!0}function ou(t,e,n,i,s){var o,l,u,f=1,g=!1,_=!1,k,w,x,M,R,B;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=l=u=y1===n||Fk===n,i&&Ur(t,!0,-1)&&(g=!0,t.lineIndent>e?f=1:t.lineIndent===e?f=0:t.lineIndent<e&&(f=-1)),f===1)for(;aO(t)||oO(t);)Ur(t,!0,-1)?(g=!0,u=o,t.lineIndent>e?f=1:t.lineIndent===e?f=0:t.lineIndent<e&&(f=-1)):u=!1;if(u&&(u=g||s),(f===1||y1===n)&&(m1===n||Pk===n?R=e:R=e+1,B=t.position-t.lineStart,f===1?u&&(Xk(t,B)||sO(t,B,R))||rO(t,R)?_=!0:(l&&iO(t,R)||eO(t,R)||nO(t,R)?_=!0:lO(t)?(_=!0,(t.tag!==null||t.anchor!==null)&&Qe(t,"alias node should not have any properties")):tO(t,R,m1===n)&&(_=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):f===0&&(_=u&&Xk(t,B))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Qe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),k=0,w=t.implicitTypes.length;k<w;k+=1)if(M=t.implicitTypes[k],M.resolve(t.result)){t.result=M.construct(t.result),t.tag=M.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if($o.call(t.typeMap[t.kind||"fallback"],t.tag))M=t.typeMap[t.kind||"fallback"][t.tag];else for(M=null,x=t.typeMap.multi[t.kind||"fallback"],k=0,w=x.length;k<w;k+=1)if(t.tag.slice(0,x[k].tag.length)===x[k].tag){M=x[k];break}M||Qe(t,"unknown tag !<"+t.tag+">"),t.result!==null&&M.kind!==t.kind&&Qe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+M.kind+'", not "'+t.kind+'"'),M.resolve(t.result,t.tag)?(t.result=M.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Qe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||_}function cO(t){var e=t.position,n,i,s,o=!1,l;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(l=t.input.charCodeAt(t.position))!==0&&(Ur(t,!0,-1),l=t.input.charCodeAt(t.position),!(t.lineIndent>0||l!==37));){for(o=!0,l=t.input.charCodeAt(++t.position),n=t.position;l!==0&&!qi(l);)l=t.input.charCodeAt(++t.position);for(i=t.input.slice(n,t.position),s=[],i.length<1&&Qe(t,"directive name must not be less than one character in length");l!==0;){for(;Ol(l);)l=t.input.charCodeAt(++t.position);if(l===35){do l=t.input.charCodeAt(++t.position);while(l!==0&&!va(l));break}if(va(l))break;for(n=t.position;l!==0&&!qi(l);)l=t.input.charCodeAt(++t.position);s.push(t.input.slice(n,t.position))}l!==0&&sm(t),$o.call(qk,i)?qk[i](t,i,s):_1(t,'unknown document directive "'+i+'"')}if(Ur(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Ur(t,!0,-1)):o&&Qe(t,"directives end mark is expected"),ou(t,t.lineIndent-1,y1,!1,!0),Ur(t,!0,-1),t.checkLineBreaks&&qN.test(t.input.slice(e,t.position))&&_1(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&v1(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Ur(t,!0,-1));return}if(t.position<t.length-1)Qe(t,"end of the stream or a document separator is expected");else return}function Kk(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new JN(t,e),i=t.indexOf("\0");for(i!==-1&&(n.position=i,Qe(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)cO(n);return n.documents}function uO(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var i=Kk(t,n);if(typeof e!="function")return i;for(var s=0,o=i.length;s<o;s+=1)e(i[s])}function hO(t,e){var n=Kk(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Ga("expected a single document in the stream, but found more")}}var dO=uO,fO=hO,pO={loadAll:dO,load:fO},gO=Dk,mO=pO.load;const Zk=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function yO(t,e){var n;const i=t.match(Zk);if(i){const s=mO(i[1],{schema:gO});return s!=null&&s.title&&((n=e.setDiagramTitle)==null||n.call(e,s.title)),t.slice(i[0].length)}else return t}const _O=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,vO=/\s*%%.*\n/gm,b1={},om=function(t,e){t=t.replace(Zk,"").replace(_O,"").replace(vO,`
`);for(const[n,{detector:i}]of Object.entries(b1))if(i(t,e))return n;throw new Error(`No diagram type detected for text: ${t}`)},Qk=(t,e,n)=>{if(b1[t])throw new Error(`Detector with key ${t} already exists`);b1[t]={detector:e,loader:n},C.debug(`Detector with key ${t} added${n?" with loader":""}`)},bO=t=>b1[t].loader,lm=function(t,e,n){const{depth:i,clobber:s}=Object.assign({depth:2,clobber:!1},n);return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(o=>lm(t,o,n)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(o=>{t.includes(o)||t.push(o)}),t):t===void 0||i<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(o=>{typeof e[o]=="object"&&(t[o]===void 0||typeof t[o]=="object")?(t[o]===void 0&&(t[o]=Array.isArray(e[o])?[]:{}),t[o]=lm(t[o],e[o],{depth:i-1,clobber:s})):(s||typeof t[o]!="object"&&typeof e[o]!="object")&&(t[o]=e[o])}),t)},ci=lm;var kO=typeof ac=="object"&&ac&&ac.Object===Object&&ac;const Jk=kO;var wO=typeof self=="object"&&self&&self.Object===Object&&self,xO=Jk||wO||Function("return this")();const Us=xO;var TO=Us.Symbol;const ks=TO;var t4=Object.prototype,EO=t4.hasOwnProperty,CO=t4.toString,Nh=ks?ks.toStringTag:void 0;function SO(t){var e=EO.call(t,Nh),n=t[Nh];try{t[Nh]=void 0;var i=!0}catch{}var s=CO.call(t);return i&&(e?t[Nh]=n:delete t[Nh]),s}var AO=Object.prototype,LO=AO.toString;function IO(t){return LO.call(t)}var MO="[object Null]",NO="[object Undefined]",e4=ks?ks.toStringTag:void 0;function Dl(t){return t==null?t===void 0?NO:MO:e4&&e4 in Object(t)?SO(t):IO(t)}function rs(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var OO="[object AsyncFunction]",DO="[object Function]",RO="[object GeneratorFunction]",BO="[object Proxy]";function lu(t){if(!rs(t))return!1;var e=Dl(t);return e==DO||e==RO||e==OO||e==BO}var PO=Us["__core-js_shared__"];const cm=PO;var n4=function(){var t=/[^.]+$/.exec(cm&&cm.keys&&cm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function FO(t){return!!n4&&n4 in t}var VO=Function.prototype,YO=VO.toString;function Rl(t){if(t!=null){try{return YO.call(t)}catch{}try{return t+""}catch{}}return""}var $O=/[\\^$.*+?()[\]{}|]/g,UO=/^\[object .+?Constructor\]$/,zO=Function.prototype,HO=Object.prototype,WO=zO.toString,jO=HO.hasOwnProperty,qO=RegExp("^"+WO.call(jO).replace($O,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function GO(t){if(!rs(t)||FO(t))return!1;var e=lu(t)?qO:UO;return e.test(Rl(t))}function XO(t,e){return t==null?void 0:t[e]}function Bl(t,e){var n=XO(t,e);return GO(n)?n:void 0}var KO=Bl(Object,"create");const Oh=KO;function ZO(){this.__data__=Oh?Oh(null):{},this.size=0}function QO(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var JO="__lodash_hash_undefined__",tD=Object.prototype,eD=tD.hasOwnProperty;function nD(t){var e=this.__data__;if(Oh){var n=e[t];return n===JO?void 0:n}return eD.call(e,t)?e[t]:void 0}var rD=Object.prototype,iD=rD.hasOwnProperty;function sD(t){var e=this.__data__;return Oh?e[t]!==void 0:iD.call(e,t)}var aD="__lodash_hash_undefined__";function oD(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Oh&&e===void 0?aD:e,this}function Pl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Pl.prototype.clear=ZO,Pl.prototype.delete=QO,Pl.prototype.get=nD,Pl.prototype.has=sD,Pl.prototype.set=oD;function lD(){this.__data__=[],this.size=0}function cu(t,e){return t===e||t!==t&&e!==e}function k1(t,e){for(var n=t.length;n--;)if(cu(t[n][0],e))return n;return-1}var cD=Array.prototype,uD=cD.splice;function hD(t){var e=this.__data__,n=k1(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():uD.call(e,n,1),--this.size,!0}function dD(t){var e=this.__data__,n=k1(e,t);return n<0?void 0:e[n][1]}function fD(t){return k1(this.__data__,t)>-1}function pD(t,e){var n=this.__data__,i=k1(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Xa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Xa.prototype.clear=lD,Xa.prototype.delete=hD,Xa.prototype.get=dD,Xa.prototype.has=fD,Xa.prototype.set=pD;var gD=Bl(Us,"Map");const Dh=gD;function mD(){this.size=0,this.__data__={hash:new Pl,map:new(Dh||Xa),string:new Pl}}function yD(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function w1(t,e){var n=t.__data__;return yD(e)?n[typeof e=="string"?"string":"hash"]:n.map}function _D(t){var e=w1(this,t).delete(t);return this.size-=e?1:0,e}function vD(t){return w1(this,t).get(t)}function bD(t){return w1(this,t).has(t)}function kD(t,e){var n=w1(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Ka(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ka.prototype.clear=mD,Ka.prototype.delete=_D,Ka.prototype.get=vD,Ka.prototype.has=bD,Ka.prototype.set=kD;var wD="Expected a function";function uu(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(wD);var n=function(){var i=arguments,s=e?e.apply(this,i):i[0],o=n.cache;if(o.has(s))return o.get(s);var l=t.apply(this,i);return n.cache=o.set(s,l)||o,l};return n.cache=new(uu.Cache||Ka),n}uu.Cache=Ka;const xD={curveBasis:nu,curveBasisClosed:xI,curveBasisOpen:TI,curveLinear:ns,curveLinearClosed:EI,curveMonotoneX:CI,curveMonotoneY:SI,curveNatural:AI,curveStep:LI,curveStepAfter:MI,curveStepBefore:II},um=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,TD=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,ED=function(t,e){const n=r4(t,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(n)){const s=n.map(o=>o.args);Fl(s),i=ci(i,[...s])}else i=n.args;if(i){let s=om(t,e);["config"].forEach(o=>{i[o]!==void 0&&(s==="flowchart-v2"&&(s="flowchart"),i[s]=i[o],delete i[o])})}return i},r4=function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${TD.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),C.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let i;const s=[];for(;(i=um.exec(t))!==null;)if(i.index===um.lastIndex&&um.lastIndex++,i&&!e||e&&i[1]&&i[1].match(e)||e&&i[2]&&i[2].match(e)){const o=i[1]?i[1]:i[2],l=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;s.push({type:o,args:l})}return s.length===0&&s.push({type:t,args:null}),s.length===1?s[0]:s}catch(n){return C.error(`ERROR: ${n.message} - Unable to parse directive
      ${e!==null?" type:"+e:""} based on the text:${t}`),{type:null,args:null}}},CD=function(t,e){for(const[n,i]of e.entries())if(i.match(t))return n;return-1};function zs(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return xD[n]||e}function SD(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?it(n):n}const AD=(t,...e)=>{const n=t.split("."),i=n.length-1,s=n[i];let o=window;for(let l=0;l<i;l++)if(o=o[n[l]],!o)return;o[s](...e)};function x1(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function LD(t){let e,n=0;t.forEach(o=>{n+=x1(o,e),e=o});let i=n/2,s;return e=void 0,t.forEach(o=>{if(e&&!s){const l=x1(o,e);if(l<i)i-=l;else{const u=i/l;u<=0&&(s=e),u>=1&&(s={x:o.x,y:o.y}),u>0&&u<1&&(s={x:(1-u)*e.x+u*o.x,y:(1-u)*e.y+u*o.y})}}e=o}),s}function ID(t){return t.length===1?t[0]:LD(t)}const MD=(t,e,n)=>{let i;C.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());let o=25,l;i=void 0,e.forEach(_=>{if(i&&!l){const k=x1(_,i);if(k<o)o-=k;else{const w=o/k;w<=0&&(l=i),w>=1&&(l={x:_.x,y:_.y}),w>0&&w<1&&(l={x:(1-w)*i.x+w*_.x,y:(1-w)*i.y+w*_.y})}}i=_});const u=t?10:5,f=Math.atan2(e[0].y-l.y,e[0].x-l.x),g={x:0,y:0};return g.x=Math.sin(f)*u+(e[0].x+l.x)/2,g.y=-Math.cos(f)*u+(e[0].y+l.y)/2,g};function ND(t,e,n){let i=JSON.parse(JSON.stringify(n)),s;C.info("our points",i),e!=="start_left"&&e!=="start_right"&&(i=i.reverse()),i.forEach(k=>{s=k});let l=25+t,u;s=void 0,i.forEach(k=>{if(s&&!u){const w=x1(k,s);if(w<l)l-=w;else{const x=l/w;x<=0&&(u=s),x>=1&&(u={x:k.x,y:k.y}),x>0&&x<1&&(u={x:(1-x)*s.x+x*k.x,y:(1-x)*s.y+x*k.y})}}s=k});const f=10+t*.5,g=Math.atan2(i[0].y-u.y,i[0].x-u.x),_={x:0,y:0};return _.x=Math.sin(g)*f+(i[0].x+u.x)/2,_.y=-Math.cos(g)*f+(i[0].y+u.y)/2,e==="start_left"&&(_.x=Math.sin(g+Math.PI)*f+(i[0].x+u.x)/2,_.y=-Math.cos(g+Math.PI)*f+(i[0].y+u.y)/2),e==="end_right"&&(_.x=Math.sin(g-Math.PI)*f+(i[0].x+u.x)/2-5,_.y=-Math.cos(g-Math.PI)*f+(i[0].y+u.y)/2-5),e==="end_left"&&(_.x=Math.sin(g)*f+(i[0].x+u.x)/2-5,_.y=-Math.cos(g)*f+(i[0].y+u.y)/2-5),_}function zo(t){let e="",n="";for(const i of t)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?n=n+i+";":e=e+i+";");return{style:e,labelStyle:n}}let i4=0;const s4=()=>(i4++,"id-"+Math.random().toString(36).substr(2,12)+"-"+i4);function OD(t){let e="";const n="0123456789abcdef",i=n.length;for(let s=0;s<t;s++)e+=n.charAt(Math.floor(Math.random()*i));return e}const a4=t=>OD(t.length),DD=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},RD=function(t,e){const n=e.text.replace(_n.lineBreakRegex," "),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",e.fontSize),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(n),i},o4=uu((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),_n.lineBreakRegex.test(t)))return t;const i=t.split(" "),s=[];let o="";return i.forEach((l,u)=>{const f=ba(`${l} `,n),g=ba(o,n);if(f>e){const{hyphenatedStrings:w,remainingWord:x}=BD(l,e,"-",n);s.push(o,...w),o=x}else g+f>=e?(s.push(o),o=l):o=[o,l].filter(Boolean).join(" ");u+1===i.length&&s.push(o)}),s.filter(l=>l!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),BD=uu((t,e,n="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const s=[...t],o=[];let l="";return s.forEach((u,f)=>{const g=`${l}${u}`;if(ba(g,i)>=e){const k=f+1,w=s.length===k,x=`${g}${n}`;o.push(w?g:x),l=""}else l=g}),{hyphenatedStrings:o,remainingWord:l}},(t,e,n="-",i)=>`${t}${e}${n}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function hm(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},e),dm(t,e).height}function ba(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),dm(t,e).width}const dm=uu((t,e)=>{e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e);const{fontSize:n,fontFamily:i,fontWeight:s}=e;if(!t)return{width:0,height:0};const o=["sans-serif",i],l=t.split(_n.lineBreakRegex),u=[],f=re("body");if(!f.remove)return{width:0,height:0,lineHeight:0};const g=f.append("svg");for(const k of o){let w=0;const x={width:0,height:0,lineHeight:0};for(const M of l){const R=DD();R.text=M;const B=RD(g,R).style("font-size",n).style("font-weight",s).style("font-family",k),U=(B._groups||B)[0][0].getBBox();x.width=Math.round(Math.max(x.width,U.width)),w=Math.round(U.height),x.height+=w,x.lineHeight=Math.round(Math.max(x.lineHeight,w))}u.push(x)}g.remove();const _=isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1;return u[_]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),PD=class{constructor(e,n){this.deterministic=e,this.seed=n,this.count=n?n.length:0}next(){return this.deterministic?this.count++:Date.now()}};let T1;const FD=function(t){return T1=T1||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),T1.innerHTML=t,unescape(T1.textContent)},Fl=t=>{if(C.debug("directiveSanitizer called with",t),typeof t=="object"&&(t.length?t.forEach(e=>Fl(e)):Object.keys(t).forEach(e=>{C.debug("Checking key",e),e.startsWith("__")&&(C.debug("sanitize deleting __ option",e),delete t[e]),e.includes("proto")&&(C.debug("sanitize deleting proto option",e),delete t[e]),e.includes("constr")&&(C.debug("sanitize deleting constr option",e),delete t[e]),e.includes("themeCSS")&&(C.debug("sanitizing themeCss option"),t[e]=E1(t[e])),e.includes("fontFamily")&&(C.debug("sanitizing fontFamily option"),t[e]=E1(t[e])),e.includes("altFontFamily")&&(C.debug("sanitizing altFontFamily option"),t[e]=E1(t[e])),CM.includes(e)?typeof t[e]=="object"&&(C.debug("sanitize deleting object",e),Fl(t[e])):(C.debug("sanitize deleting option",e),delete t[e])})),t.themeVariables){const e=Object.keys(t.themeVariables);for(const n of e){const i=t.themeVariables[n];i&&i.match&&!i.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[n]="")}}C.debug("After sanitization",t)},E1=t=>{let e=0,n=0;for(const i of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?e++:i==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t};function fm(t){return"str"in t}function VD(t){return t instanceof Error?t.message:String(t)}const Tn={assignWithDepth:ci,wrapLabel:o4,calculateTextHeight:hm,calculateTextWidth:ba,calculateTextDimensions:dm,detectInit:ED,detectDirective:r4,isSubstringInArray:CD,interpolateToCurve:zs,calcLabelPosition:ID,calcCardinalityPosition:MD,calcTerminalLabelPosition:ND,formatUrl:SD,getStylesFromArray:zo,generateId:s4,random:a4,runFunc:AD,entityDecode:FD,initIdGenerator:PD,directiveSanitizer:Fl,sanitizeCss:E1,insertTitle:(t,e,n,i)=>{if(!i)return;const s=t.node().getBBox();t.append("text").text(i).attr("x",s.x+s.width/2).attr("y",-n).attr("class",e)}};var l4="comm",c4="rule",u4="decl",YD="@import",$D="@keyframes",UD=Math.abs,pm=String.fromCharCode;function h4(t){return t.trim()}function gm(t,e,n){return t.replace(e,n)}function zD(t,e){return t.indexOf(e)}function C1(t,e){return t.charCodeAt(e)|0}function Rh(t,e,n){return t.slice(e,n)}function Ho(t){return t.length}function d4(t){return t.length}function S1(t,e){return e.push(t),t}var A1=1,hu=1,f4=0,ws=0,zr=0,du="";function mm(t,e,n,i,s,o,l){return{value:t,root:e,parent:n,type:i,props:s,children:o,line:A1,column:hu,length:l,return:""}}function HD(){return zr}function WD(){return zr=ws>0?C1(du,--ws):0,hu--,zr===10&&(hu=1,A1--),zr}function Hs(){return zr=ws<f4?C1(du,ws++):0,hu++,zr===10&&(hu=1,A1++),zr}function Vl(){return C1(du,ws)}function L1(){return ws}function I1(t,e){return Rh(du,t,e)}function ym(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function jD(t){return A1=hu=1,f4=Ho(du=t),ws=0,[]}function qD(t){return du="",t}function _m(t){return h4(I1(ws-1,vm(t===91?t+2:t===40?t+1:t)))}function GD(t){for(;(zr=Vl())&&zr<33;)Hs();return ym(t)>2||ym(zr)>3?"":" "}function XD(t,e){for(;--e&&Hs()&&!(zr<48||zr>102||zr>57&&zr<65||zr>70&&zr<97););return I1(t,L1()+(e<6&&Vl()==32&&Hs()==32))}function vm(t){for(;Hs();)switch(zr){case t:return ws;case 34:case 39:t!==34&&t!==39&&vm(zr);break;case 40:t===41&&vm(t);break;case 92:Hs();break}return ws}function KD(t,e){for(;Hs()&&t+zr!==47+10;)if(t+zr===42+42&&Vl()===47)break;return"/*"+I1(e,ws-1)+"*"+pm(t===47?t:Hs())}function ZD(t){for(;!ym(Vl());)Hs();return I1(t,ws)}function QD(t){return qD(M1("",null,null,null,[""],t=jD(t),0,[0],t))}function M1(t,e,n,i,s,o,l,u,f){for(var g=0,_=0,k=l,w=0,x=0,M=0,R=1,B=1,U=1,Y=0,X="",Q=s,at=o,lt=i,J=X;B;)switch(M=Y,Y=Hs()){case 40:if(M!=108&&C1(J,k-1)==58){zD(J+=gm(_m(Y),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:J+=_m(Y);break;case 9:case 10:case 13:case 32:J+=GD(M);break;case 92:J+=XD(L1()-1,7);continue;case 47:switch(Vl()){case 42:case 47:S1(JD(KD(Hs(),L1()),e,n),f);break;default:J+="/"}break;case 123*R:u[g++]=Ho(J)*U;case 125*R:case 59:case 0:switch(Y){case 0:case 125:B=0;case 59+_:x>0&&Ho(J)-k&&S1(x>32?g4(J+";",i,n,k-1):g4(gm(J," ","")+";",i,n,k-2),f);break;case 59:J+=";";default:if(S1(lt=p4(J,e,n,g,_,s,u,X,Q=[],at=[],k),o),Y===123)if(_===0)M1(J,e,lt,lt,Q,o,k,u,at);else switch(w){case 100:case 109:case 115:M1(t,lt,lt,i&&S1(p4(t,lt,lt,0,0,s,u,X,s,Q=[],k),at),s,at,k,u,i?Q:at);break;default:M1(J,lt,lt,lt,[""],at,0,u,at)}}g=_=x=0,R=U=1,X=J="",k=l;break;case 58:k=1+Ho(J),x=M;default:if(R<1){if(Y==123)--R;else if(Y==125&&R++==0&&WD()==125)continue}switch(J+=pm(Y),Y*R){case 38:U=_>0?1:(J+="\f",-1);break;case 44:u[g++]=(Ho(J)-1)*U,U=1;break;case 64:Vl()===45&&(J+=_m(Hs())),w=Vl(),_=k=Ho(X=J+=ZD(L1())),Y++;break;case 45:M===45&&Ho(J)==2&&(R=0)}}return o}function p4(t,e,n,i,s,o,l,u,f,g,_){for(var k=s-1,w=s===0?o:[""],x=d4(w),M=0,R=0,B=0;M<i;++M)for(var U=0,Y=Rh(t,k+1,k=UD(R=l[M])),X=t;U<x;++U)(X=h4(R>0?w[U]+" "+Y:gm(Y,/&\f/g,w[U])))&&(f[B++]=X);return mm(t,e,n,s===0?c4:u,f,g,_)}function JD(t,e,n){return mm(t,e,n,l4,pm(HD()),Rh(t,2,-2),0)}function g4(t,e,n,i){return mm(t,e,n,u4,Rh(t,0,i),Rh(t,i+1,-1),i)}function bm(t,e){for(var n="",i=d4(t),s=0;s<i;s++)n+=e(t[s],s,t,e)||"";return n}function tR(t,e,n,i){switch(t.type){case YD:case u4:return t.return=t.return||t.value;case l4:return"";case $D:return t.return=t.value+"{"+bm(t.children,i)+"}";case c4:t.value=t.props.join(",")}return Ho(n=bm(t.children,i))?t.return=t.value+"{"+n+"}":""}const N1={name:"mermaid",version:"9.3.0",description:"Markdown-ish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.",main:"./dist/mermaid.min.js",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{require:"./dist/mermaid.min.js",import:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],scripts:{clean:"rimraf dist","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaidAPI.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts","docs:verify":"pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts --verify","docs:pre:vitepress":"rimraf src/vitepress && pnpm docs:code && ts-node-esm src/docs.mts --vitepress","docs:build:vitepress":"pnpm docs:pre:vitepress && vitepress build src/vitepress","docs:dev":'pnpm docs:pre:vitepress && concurrently "vitepress dev src/vitepress" "ts-node-esm src/docs.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell --config ../../cSpell.json "src/docs/**/*.md"',release:"pnpm build",prepublishOnly:"pnpm -w run build"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^6.0.0",d3:"^7.0.0","dagre-d3-es":"7.0.6",dompurify:"2.4.1",khroma:"^2.0.0","lodash-es":"^4.17.21","moment-mini":"^2.24.0","non-layered-tidy-tree-layout":"^2.0.2",stylis:"^4.1.2",uuid:"^9.0.0"},devDependencies:{"@types/d3":"^7.4.0","@types/dompurify":"^2.4.0","@types/jsdom":"^20.0.1","@types/lodash-es":"^4.17.6","@types/micromatch":"^4.0.2","@types/prettier":"^2.7.1","@types/stylis":"^4.0.2","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.42.1","@typescript-eslint/parser":"^5.42.1",chokidar:"^3.5.3",concurrently:"^7.5.0",coveralls:"^3.1.1",cspell:"^6.14.3",globby:"^13.1.2",jison:"^0.4.18","js-base64":"^3.7.2",jsdom:"^20.0.2",micromatch:"^4.0.5",moment:"^2.29.4","path-browserify":"^1.0.1",prettier:"^2.7.1",remark:"^14.0.2",rimraf:"^3.0.2","start-server-and-test":"^1.14.0",typedoc:"^0.23.18","typedoc-plugin-markdown":"^3.13.6",typescript:"^4.8.4","unist-util-flatmap":"^1.0.0",vitepress:"^1.0.0-alpha.28","vitepress-plugin-search":"^1.0.4-alpha.15"},files:["dist","README.md"],sideEffects:["**/*.css","**/*.scss"]},fu=Object.freeze(SM);let Gi=ci({},fu),m4,pu=[],Bh=ci({},fu);const O1=(t,e)=>{let n=ci({},t),i={};for(const s of e)v4(s),i=ci(i,s);if(n=ci(n,i),i.theme&&i.theme in qa){const s=ci({},m4),o=ci(s.themeVariables||{},i.themeVariables);n.theme&&n.theme in qa&&(n.themeVariables=qa[n.theme].getThemeVariables(o))}return Bh=n,w4(Bh),Bh},eR=t=>(Gi=ci({},fu),Gi=ci(Gi,t),t.theme&&qa[t.theme]&&(Gi.themeVariables=qa[t.theme].getThemeVariables(t.themeVariables)),O1(Gi,pu),Gi),nR=t=>{m4=ci({},t)},rR=t=>(Gi=ci(Gi,t),O1(Gi,pu),Gi),y4=()=>ci({},Gi),_4=t=>(w4(t),ci(Bh,t),ht()),ht=()=>ci({},Bh),v4=t=>{var e;["secure",...(e=Gi.secure)!=null?e:[]].forEach(n=>{t[n]!==void 0&&(C.debug(`Denied attempt to modify a secure key ${n}`,t[n]),delete t[n])}),Object.keys(t).forEach(n=>{n.indexOf("__")===0&&delete t[n]}),Object.keys(t).forEach(n=>{typeof t[n]=="string"&&(t[n].includes("<")||t[n].includes(">")||t[n].includes("url(data:"))&&delete t[n],typeof t[n]=="object"&&v4(t[n])})},km=t=>{t.fontFamily&&(t.themeVariables?t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily}):t.themeVariables={fontFamily:t.fontFamily}),pu.push(t),O1(Gi,pu)},Ph=(t=Gi)=>{pu=[],O1(t,pu)};var b4=(t=>(t.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",t))(b4||{});const k4={},iR=t=>{k4[t]||(C.warn(b4[t]),k4[t]=!0)},w4=t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&iR("LAZY_LOAD_DEPRECATED")},sR=function(t,e){for(let n of e)t.attr(n[0],n[1])},aR=function(t,e,n){let i=new Map;return n?(i.set("width","100%"),i.set("style",`max-width: ${e}px;`)):(i.set("height",t),i.set("width",e)),i},Ws=function(t,e,n,i){const s=aR(e,n,i);sR(t,s)},D1=function(t,e,n,i){const s=e.node().getBBox(),o=s.width,l=s.height;C.info(`SVG bounds: ${o}x${l}`,s);let u=0,f=0;C.info(`Graph bounds: ${u}x${f}`,t),u=o+n*2,f=l+n*2,C.info(`Calculated bounds: ${u}x${f}`),Ws(e,f,u,i);const g=`${s.x-n} ${s.y-n} ${s.width+2*n} ${s.height+2*n}`;e.attr("viewBox",g)},Fh=t=>`g.classGroup text {
  fill: ${t.nodeBorder};
  fill: ${t.classText};
  stroke: none;
  font-family: ${t.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t.classText};
}
.edgeLabel .label rect {
  fill: ${t.mainBkg};
}
.label text {
  fill: ${t.classText};
}
.edgeLabel .label span {
  background: ${t.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.classGroup line {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,x4=t=>`
  .entityBox {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${t.attributeBackgroundColorOdd};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${t.attributeBackgroundColorEven};
    stroke: ${t.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t.tertiaryColor};
    opacity: 0.7;
    background-color: ${t.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${t.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }    
`,T4=()=>"",R1=t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span {
    color: ${t.titleColor};
  }

  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${t.clusterBkg};
    stroke: ${t.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,E4=t=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${t.fontFamily};
      fill: ${t.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${t.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${t.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,C4=()=>"",S4=t=>`
  .pieCircle{
    stroke: ${t.pieStrokeColor};
    stroke-width : ${t.pieStrokeWidth};
    opacity : ${t.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t.pieTitleTextSize};
    fill: ${t.pieTitleTextColor};
    font-family: ${t.fontFamily};
  }
  .slice {
    font-family: ${t.fontFamily};
    fill: ${t.pieSectionTextColor};
    font-size:${t.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t.pieLegendTextColor};
    font-family: ${t.fontFamily};
    font-size: ${t.pieLegendTextSize};
  }
`,A4=t=>`

  marker {
    fill: ${t.relationColor};
    stroke: ${t.relationColor};
  }

  marker.cross {
    stroke: ${t.lineColor};
  }

  svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }

  .reqBox {
    fill: ${t.requirementBackground};
    fill-opacity: 100%;
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t.relationLabelColor};
  }

`,L4=t=>`.actor {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }

  text.actor > tspan {
    fill: ${t.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t.signalColor};
  }

  #arrowhead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .sequenceNumber {
    fill: ${t.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t.signalColor};
  }

  #crosshead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .messageText {
    fill: ${t.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t.noteBorderColor};
    fill: ${t.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation1 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation2 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
    stroke-width: 2px;
  }
`,B1=t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,I4=t=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${t.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t.textColor}
  }

  .legend {
    fill: ${t.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t.textColor}
  }

  .face {
    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t.fillType0?`fill: ${t.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${t.fillType0?`fill: ${t.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${t.fillType0?`fill: ${t.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${t.fillType0?`fill: ${t.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${t.fillType0?`fill: ${t.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${t.fillType0?`fill: ${t.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${t.fillType0?`fill: ${t.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${t.fillType0?`fill: ${t.fillType7}`:""};
  }

  .actor-0 {
    ${t.actor0?`fill: ${t.actor0}`:""};
  }
  .actor-1 {
    ${t.actor1?`fill: ${t.actor1}`:""};
  }
  .actor-2 {
    ${t.actor2?`fill: ${t.actor2}`:""};
  }
  .actor-3 {
    ${t.actor3?`fill: ${t.actor3}`:""};
  }
  .actor-4 {
    ${t.actor4?`fill: ${t.actor4}`:""};
  }
  .actor-5 {
    ${t.actor5?`fill: ${t.actor5}`:""};
  }
`,M4=t=>`.person {
    stroke: ${t.personBorder};
    fill: ${t.personBkg};
  }
`,P1={flowchart:R1,"flowchart-v2":R1,sequence:L4,gantt:E4,classDiagram:Fh,"classDiagram-v2":Fh,class:Fh,stateDiagram:B1,state:B1,info:C4,pie:S4,er:x4,error:T4,journey:I4,requirement:A4,c4:M4},oR=(t,e,n)=>{let i="";return t in P1&&P1[t]?i=P1[t](n):C.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }

  ${i}

  ${e}
`},lR=(t,e)=>{P1[t]=e},cR=oR,uR=C,hR=V,Vh=ht,dR=t=>$s(t,Vh()),N4=D1,F1={},ui=(t,e,n)=>{if(F1[t])throw new Error(`Diagram ${t} already registered.`);F1[t]=e,n&&Qk(t,n),lR(t,e.styles),e.injectUtils&&e.injectUtils(uR,hR,Vh,dR,N4)},O4=t=>{if(t in F1)return F1[t];throw new Error(`Diagram ${t} not found.`)};var wm=function(){var t=function(ot,q,H,$){for(H=H||{},$=ot.length;$--;H[ot[$]]=q);return H},e=[1,4],n=[1,7],i=[1,5],s=[1,9],o=[1,6],l=[2,6],u=[1,16],f=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],g=[8,14,20,22,24,25,27,29,32,37,40],_=[8,13,14,20,22,24,25,27,29,32,37,40],k=[1,26],w=[6,8,14,50,55],x=[8,14,55],M=[1,53],R=[1,52],B=[8,14,30,33,35,38,55],U=[1,67],Y=[1,68],X=[1,69],Q=[8,14,33,35,42,55],at={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(q,H,$,O,W,A,mt){var I=A.length-1;switch(W){case 3:return A[I];case 4:return A[I-1];case 5:return O.setDirection(A[I-3]),A[I-1];case 7:O.setOptions(A[I-1]),this.$=A[I];break;case 8:A[I-1]+=A[I],this.$=A[I-1];break;case 10:this.$=[];break;case 11:A[I-1].push(A[I]),this.$=A[I-1];break;case 12:this.$=A[I-1];break;case 17:this.$=A[I].trim(),O.setAccTitle(this.$);break;case 18:case 19:this.$=A[I].trim(),O.setAccDescription(this.$);break;case 20:O.addSection(A[I].substr(8)),this.$=A[I].substr(8);break;case 22:O.checkout(A[I]);break;case 23:O.branch(A[I]);break;case 24:O.branch(A[I-2],A[I]);break;case 25:O.cherryPick(A[I],"",void 0);break;case 26:O.cherryPick(A[I-2],"",A[I]);break;case 27:case 29:O.cherryPick(A[I-2],"","");break;case 28:O.cherryPick(A[I],"",A[I-2]);break;case 30:O.merge(A[I],"","","");break;case 31:O.merge(A[I-2],A[I],"","");break;case 32:O.merge(A[I-2],"",A[I],"");break;case 33:O.merge(A[I-2],"","",A[I]);break;case 34:O.merge(A[I-4],A[I],"",A[I-2]);break;case 35:O.merge(A[I-4],"",A[I],A[I-2]);break;case 36:O.merge(A[I-4],"",A[I-2],A[I]);break;case 37:O.merge(A[I-4],A[I-2],A[I],"");break;case 38:O.merge(A[I-4],A[I-2],"",A[I]);break;case 39:O.merge(A[I-4],A[I],A[I-2],"");break;case 40:O.merge(A[I-6],A[I-4],A[I-2],A[I]);break;case 41:O.merge(A[I-6],A[I],A[I-4],A[I-2]);break;case 42:O.merge(A[I-6],A[I-4],A[I],A[I-2]);break;case 43:O.merge(A[I-6],A[I-2],A[I-4],A[I]);break;case 44:O.merge(A[I-6],A[I],A[I-2],A[I-4]);break;case 45:O.merge(A[I-6],A[I-2],A[I],A[I-4]);break;case 46:O.commit(A[I]);break;case 47:O.commit("","",O.commitType.NORMAL,A[I]);break;case 48:O.commit("","",A[I],"");break;case 49:O.commit("","",A[I],A[I-2]);break;case 50:O.commit("","",A[I-2],A[I]);break;case 51:O.commit("",A[I],O.commitType.NORMAL,"");break;case 52:O.commit("",A[I-2],O.commitType.NORMAL,A[I]);break;case 53:O.commit("",A[I],O.commitType.NORMAL,A[I-2]);break;case 54:O.commit("",A[I-2],A[I],"");break;case 55:O.commit("",A[I],A[I-2],"");break;case 56:O.commit("",A[I-4],A[I-2],A[I]);break;case 57:O.commit("",A[I-4],A[I],A[I-2]);break;case 58:O.commit("",A[I-2],A[I-4],A[I]);break;case 59:O.commit("",A[I],A[I-4],A[I-2]);break;case 60:O.commit("",A[I],A[I-2],A[I-4]);break;case 61:O.commit("",A[I-2],A[I],A[I-4]);break;case 62:O.commit(A[I],"",O.commitType.NORMAL,"");break;case 63:O.commit(A[I],"",O.commitType.NORMAL,A[I-2]);break;case 64:O.commit(A[I-2],"",O.commitType.NORMAL,A[I]);break;case 65:O.commit(A[I-2],"",A[I],"");break;case 66:O.commit(A[I],"",A[I-2],"");break;case 67:O.commit(A[I],A[I-2],O.commitType.NORMAL,"");break;case 68:O.commit(A[I-2],A[I],O.commitType.NORMAL,"");break;case 69:O.commit(A[I-4],"",A[I-2],A[I]);break;case 70:O.commit(A[I-4],"",A[I],A[I-2]);break;case 71:O.commit(A[I-2],"",A[I-4],A[I]);break;case 72:O.commit(A[I],"",A[I-4],A[I-2]);break;case 73:O.commit(A[I],"",A[I-2],A[I-4]);break;case 74:O.commit(A[I-2],"",A[I],A[I-4]);break;case 75:O.commit(A[I-4],A[I],A[I-2],"");break;case 76:O.commit(A[I-4],A[I-2],A[I],"");break;case 77:O.commit(A[I-2],A[I],A[I-4],"");break;case 78:O.commit(A[I],A[I-2],A[I-4],"");break;case 79:O.commit(A[I],A[I-4],A[I-2],"");break;case 80:O.commit(A[I-2],A[I-4],A[I],"");break;case 81:O.commit(A[I-4],A[I],O.commitType.NORMAL,A[I-2]);break;case 82:O.commit(A[I-4],A[I-2],O.commitType.NORMAL,A[I]);break;case 83:O.commit(A[I-2],A[I],O.commitType.NORMAL,A[I-4]);break;case 84:O.commit(A[I],A[I-2],O.commitType.NORMAL,A[I-4]);break;case 85:O.commit(A[I],A[I-4],O.commitType.NORMAL,A[I-2]);break;case 86:O.commit(A[I-2],A[I-4],O.commitType.NORMAL,A[I]);break;case 87:O.commit(A[I-6],A[I-4],A[I-2],A[I]);break;case 88:O.commit(A[I-6],A[I-4],A[I],A[I-2]);break;case 89:O.commit(A[I-6],A[I-2],A[I-4],A[I]);break;case 90:O.commit(A[I-6],A[I],A[I-4],A[I-2]);break;case 91:O.commit(A[I-6],A[I-2],A[I],A[I-4]);break;case 92:O.commit(A[I-6],A[I],A[I-2],A[I-4]);break;case 93:O.commit(A[I-4],A[I-6],A[I-2],A[I]);break;case 94:O.commit(A[I-4],A[I-6],A[I],A[I-2]);break;case 95:O.commit(A[I-2],A[I-6],A[I-4],A[I]);break;case 96:O.commit(A[I],A[I-6],A[I-4],A[I-2]);break;case 97:O.commit(A[I-2],A[I-6],A[I],A[I-4]);break;case 98:O.commit(A[I],A[I-6],A[I-2],A[I-4]);break;case 99:O.commit(A[I],A[I-4],A[I-2],A[I-6]);break;case 100:O.commit(A[I-2],A[I-4],A[I],A[I-6]);break;case 101:O.commit(A[I],A[I-2],A[I-4],A[I-6]);break;case 102:O.commit(A[I-2],A[I],A[I-4],A[I-6]);break;case 103:O.commit(A[I-4],A[I-2],A[I],A[I-6]);break;case 104:O.commit(A[I-4],A[I],A[I-2],A[I-6]);break;case 105:O.commit(A[I-2],A[I-4],A[I-6],A[I]);break;case 106:O.commit(A[I],A[I-4],A[I-6],A[I-2]);break;case 107:O.commit(A[I-2],A[I],A[I-6],A[I-4]);break;case 108:O.commit(A[I],A[I-2],A[I-6],A[I-4]);break;case 109:O.commit(A[I-4],A[I-2],A[I-6],A[I]);break;case 110:O.commit(A[I-4],A[I],A[I-6],A[I-2]);break;case 111:this.$="";break;case 112:this.$=A[I];break;case 113:this.$=O.commitType.NORMAL;break;case 114:this.$=O.commitType.REVERSE;break;case 115:this.$=O.commitType.HIGHLIGHT;break;case 118:O.parseDirective("%%{","open_directive");break;case 119:O.parseDirective(A[I],"type_directive");break;case 120:A[I]=A[I].trim().replace(/'/g,'"'),O.parseDirective(A[I],"arg_directive");break;case 121:O.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:e,8:n,14:i,46:8,50:s,55:o},{1:[3]},{3:10,4:2,5:3,6:e,8:n,14:i,46:8,50:s,55:o},{3:11,4:2,5:3,6:e,8:n,14:i,46:8,50:s,55:o},{7:12,8:l,9:[1,13],10:[1,14],11:15,14:u},t(f,[2,124]),t(f,[2,125]),t(f,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:l,11:15,14:u},{9:[1,21]},t(g,[2,10],{12:22,13:[1,23]}),t(_,[2,9]),{9:[1,25],48:24,53:k},t([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:l,11:15,14:u},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},t(_,[2,8]),t(w,[2,116]),{49:45,52:[1,46]},t(w,[2,121]),{1:[2,4]},{8:[1,47]},t(g,[2,11]),{4:48,8:n,14:i,55:o},t(g,[2,13]),t(x,[2,14]),t(x,[2,15]),t(x,[2,16]),{21:[1,49]},{23:[1,50]},t(x,[2,19]),t(x,[2,20]),t(x,[2,21]),{28:51,34:M,54:R},t(x,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:M,54:R},{33:[1,61],35:[1,62]},{28:63,34:M,54:R},{48:64,53:k},{53:[2,120]},{1:[2,5]},t(g,[2,12]),t(x,[2,17]),t(x,[2,18]),t(x,[2,22]),t(B,[2,122]),t(B,[2,123]),t(x,[2,46]),{34:[1,65]},{39:66,43:U,44:Y,45:X},{34:[1,70]},{34:[1,71]},t(x,[2,112]),t(x,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},t(x,[2,23],{30:[1,78]}),t(w,[2,117]),t(x,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),t(x,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),t(Q,[2,113]),t(Q,[2,114]),t(Q,[2,115]),t(x,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),t(x,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:U,44:Y,45:X},{34:[1,93]},t(x,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:U,44:Y,45:X},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:U,44:Y,45:X},{34:[1,106]},{34:[1,107]},{39:108,43:U,44:Y,45:X},{34:[1,109]},t(x,[2,31],{35:[1,111],38:[1,110]}),t(x,[2,32],{33:[1,113],35:[1,112]}),t(x,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},t(x,[2,24]),t(x,[2,49],{33:[1,120],42:[1,121]}),t(x,[2,53],{38:[1,122],42:[1,123]}),t(x,[2,63],{33:[1,125],38:[1,124]}),t(x,[2,50],{33:[1,126],42:[1,127]}),t(x,[2,55],{35:[1,128],42:[1,129]}),t(x,[2,66],{33:[1,131],35:[1,130]}),t(x,[2,52],{38:[1,132],42:[1,133]}),t(x,[2,54],{35:[1,134],42:[1,135]}),t(x,[2,67],{35:[1,137],38:[1,136]}),t(x,[2,64],{33:[1,139],38:[1,138]}),t(x,[2,65],{33:[1,141],35:[1,140]}),t(x,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:U,44:Y,45:X},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:U,44:Y,45:X},t(x,[2,26]),t(x,[2,27]),t(x,[2,28]),t(x,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:U,44:Y,45:X},{34:[1,153]},{39:154,43:U,44:Y,45:X},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:U,44:Y,45:X},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:U,44:Y,45:X},{34:[1,167]},{39:168,43:U,44:Y,45:X},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:U,44:Y,45:X},{34:[1,173]},t(x,[2,37],{35:[1,174]}),t(x,[2,38],{38:[1,175]}),t(x,[2,36],{33:[1,176]}),t(x,[2,39],{35:[1,177]}),t(x,[2,34],{38:[1,178]}),t(x,[2,35],{33:[1,179]}),t(x,[2,60],{42:[1,180]}),t(x,[2,73],{33:[1,181]}),t(x,[2,61],{42:[1,182]}),t(x,[2,84],{38:[1,183]}),t(x,[2,74],{33:[1,184]}),t(x,[2,83],{38:[1,185]}),t(x,[2,59],{42:[1,186]}),t(x,[2,72],{33:[1,187]}),t(x,[2,58],{42:[1,188]}),t(x,[2,78],{35:[1,189]}),t(x,[2,71],{33:[1,190]}),t(x,[2,77],{35:[1,191]}),t(x,[2,57],{42:[1,192]}),t(x,[2,85],{38:[1,193]}),t(x,[2,56],{42:[1,194]}),t(x,[2,79],{35:[1,195]}),t(x,[2,80],{35:[1,196]}),t(x,[2,86],{38:[1,197]}),t(x,[2,70],{33:[1,198]}),t(x,[2,81],{38:[1,199]}),t(x,[2,69],{33:[1,200]}),t(x,[2,75],{35:[1,201]}),t(x,[2,76],{35:[1,202]}),t(x,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:U,44:Y,45:X},{34:[1,206]},{34:[1,207]},{39:208,43:U,44:Y,45:X},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:U,44:Y,45:X},{34:[1,214]},{39:215,43:U,44:Y,45:X},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:U,44:Y,45:X},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:U,44:Y,45:X},{34:[1,228]},{39:229,43:U,44:Y,45:X},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:U,44:Y,45:X},t(x,[2,40]),t(x,[2,42]),t(x,[2,41]),t(x,[2,43]),t(x,[2,45]),t(x,[2,44]),t(x,[2,101]),t(x,[2,102]),t(x,[2,99]),t(x,[2,100]),t(x,[2,104]),t(x,[2,103]),t(x,[2,108]),t(x,[2,107]),t(x,[2,106]),t(x,[2,105]),t(x,[2,110]),t(x,[2,109]),t(x,[2,98]),t(x,[2,97]),t(x,[2,96]),t(x,[2,95]),t(x,[2,93]),t(x,[2,94]),t(x,[2,92]),t(x,[2,91]),t(x,[2,90]),t(x,[2,89]),t(x,[2,87]),t(x,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(q,H){if(H.recoverable)this.trace(q);else{var $=new Error(q);throw $.hash=H,$}},parse:function(q){var H=this,$=[0],O=[],W=[null],A=[],mt=this.table,I="",It=0,le=0,qt=2,ut=1,St=A.slice.call(arguments,1),bt=Object.create(this.lexer),kt={yy:{}};for(var Lt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Lt)&&(kt.yy[Lt]=this.yy[Lt]);bt.setInput(q,kt.yy),kt.yy.lexer=bt,kt.yy.parser=this,typeof bt.yylloc>"u"&&(bt.yylloc={});var Ht=bt.yylloc;A.push(Ht);var pt=bt.options&&bt.options.ranges;typeof kt.yy.parseError=="function"?this.parseError=kt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _e(){var Ee;return Ee=O.pop()||bt.lex()||ut,typeof Ee!="number"&&(Ee instanceof Array&&(O=Ee,Ee=O.pop()),Ee=H.symbols_[Ee]||Ee),Ee}for(var tt,st,dt,Z,G={},z,yt,P,Nt;;){if(st=$[$.length-1],this.defaultActions[st]?dt=this.defaultActions[st]:((tt===null||typeof tt>"u")&&(tt=_e()),dt=mt[st]&&mt[st][tt]),typeof dt>"u"||!dt.length||!dt[0]){var nt="";Nt=[];for(z in mt[st])this.terminals_[z]&&z>qt&&Nt.push("'"+this.terminals_[z]+"'");bt.showPosition?nt="Parse error on line "+(It+1)+`:
`+bt.showPosition()+`
Expecting `+Nt.join(", ")+", got '"+(this.terminals_[tt]||tt)+"'":nt="Parse error on line "+(It+1)+": Unexpected "+(tt==ut?"end of input":"'"+(this.terminals_[tt]||tt)+"'"),this.parseError(nt,{text:bt.match,token:this.terminals_[tt]||tt,line:bt.yylineno,loc:Ht,expected:Nt})}if(dt[0]instanceof Array&&dt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+st+", token: "+tt);switch(dt[0]){case 1:$.push(tt),W.push(bt.yytext),A.push(bt.yylloc),$.push(dt[1]),tt=null,le=bt.yyleng,I=bt.yytext,It=bt.yylineno,Ht=bt.yylloc;break;case 2:if(yt=this.productions_[dt[1]][1],G.$=W[W.length-yt],G._$={first_line:A[A.length-(yt||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(yt||1)].first_column,last_column:A[A.length-1].last_column},pt&&(G._$.range=[A[A.length-(yt||1)].range[0],A[A.length-1].range[1]]),Z=this.performAction.apply(G,[I,le,It,kt.yy,dt[1],W,A].concat(St)),typeof Z<"u")return Z;yt&&($=$.slice(0,-1*yt*2),W=W.slice(0,-1*yt),A=A.slice(0,-1*yt)),$.push(this.productions_[dt[1]][0]),W.push(G.$),A.push(G._$),P=mt[$[$.length-2]][$[$.length-1]],$.push(P);break;case 3:return!0}}return!0}},lt=function(){var ot={EOF:1,parseError:function(H,$){if(this.yy.parser)this.yy.parser.parseError(H,$);else throw new Error(H)},setInput:function(q,H){return this.yy=H||this.yy||{},this._input=q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var q=this._input[0];this.yytext+=q,this.yyleng++,this.offset++,this.match+=q,this.matched+=q;var H=q.match(/(?:\r\n?|\n).*/g);return H?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),q},unput:function(q){var H=q.length,$=q.split(/(?:\r\n?|\n)/g);this._input=q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-H),this.offset-=H;var O=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$.length-1&&(this.yylineno-=$.length-1);var W=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$?($.length===O.length?this.yylloc.first_column:0)+O[O.length-$.length].length-$[0].length:this.yylloc.first_column-H},this.options.ranges&&(this.yylloc.range=[W[0],W[0]+this.yyleng-H]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(q){this.unput(this.match.slice(q))},pastInput:function(){var q=this.matched.substr(0,this.matched.length-this.match.length);return(q.length>20?"...":"")+q.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var q=this.match;return q.length<20&&(q+=this._input.substr(0,20-q.length)),(q.substr(0,20)+(q.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var q=this.pastInput(),H=new Array(q.length+1).join("-");return q+this.upcomingInput()+`
`+H+"^"},test_match:function(q,H){var $,O,W;if(this.options.backtrack_lexer&&(W={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(W.yylloc.range=this.yylloc.range.slice(0))),O=q[0].match(/(?:\r\n?|\n).*/g),O&&(this.yylineno+=O.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+q[0].length},this.yytext+=q[0],this.match+=q[0],this.matches=q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(q[0].length),this.matched+=q[0],$=this.performAction.call(this,this.yy,this,H,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$)return $;if(this._backtrack){for(var A in W)this[A]=W[A];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var q,H,$,O;this._more||(this.yytext="",this.match="");for(var W=this._currentRules(),A=0;A<W.length;A++)if($=this._input.match(this.rules[W[A]]),$&&(!H||$[0].length>H[0].length)){if(H=$,O=A,this.options.backtrack_lexer){if(q=this.test_match($,W[A]),q!==!1)return q;if(this._backtrack){H=!1;continue}else return!1}else if(!this.options.flex)break}return H?(q=this.test_match(H,W[O]),q!==!1?q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var H=this.next();return H||this.lex()},begin:function(H){this.conditionStack.push(H)},popState:function(){var H=this.conditionStack.length-1;return H>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(H){return H=this.conditionStack.length-1-Math.abs(H||0),H>=0?this.conditionStack[H]:"INITIAL"},pushState:function(H){this.begin(H)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(H,$,O,W){switch(O){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return ot}();at.lexer=lt;function J(){this.yy={}}return J.prototype=at,at.Parser=J,new J}();wm.parser=wm;const fR=wm,pR=t=>t.match(/^\s*gitGraph/)!==null;let xm="",V1="",Tm="";const Em=t=>$s(t,ht()),js=function(){xm="",Tm="",V1=""},xs=function(t){xm=Em(t).replace(/^\s+/g,"")},qs=function(){return xm||V1},Gs=function(t){Tm=Em(t).replace(/\n\s+/g,`
`)},Xs=function(){return Tm},Za=function(t){V1=Em(t)},Qa=function(){return V1};let Y1=ht().gitGraph.mainBranchName,gR=ht().gitGraph.mainBranchOrder,Qr={},Pi=null,Yh={};Yh[Y1]={name:Y1,order:gR};let Hr={};Hr[Y1]=Pi;let hi=Y1,D4="LR",Yl=0;function Cm(){return a4({length:7})}const mR=function(t,e,n){Sr.parseDirective(this,t,e,n)};function yR(t,e){const n=Object.create(null);return t.reduce((i,s)=>{const o=e(s);return n[o]||(n[o]=!0,i.push(s)),i},[])}const _R=function(t){D4=t};let R4={};const vR=function(t){C.debug("options str",t),t=t&&t.trim(),t=t||"{}";try{R4=JSON.parse(t)}catch(e){C.error("error while parsing gitGraph options",e.message)}},bR=function(){return R4},kR=function(t,e,n,i){C.debug("Entering commit:",t,e,n,i),e=_n.sanitizeText(e,ht()),t=_n.sanitizeText(t,ht()),i=_n.sanitizeText(i,ht());const s={id:e||Yl+"-"+Cm(),message:t,seq:Yl++,type:n||$h.NORMAL,tag:i||"",parents:Pi==null?[]:[Pi.id],branch:hi};Pi=s,Qr[s.id]=s,Hr[hi]=s.id,C.debug("in pushCommit "+s.id)},wR=function(t,e){if(t=_n.sanitizeText(t,ht()),Hr[t]===void 0)Hr[t]=Pi!=null?Pi.id:null,Yh[t]={name:t,order:e?parseInt(e,10):null},B4(t),C.debug("in createBranch");else{let n=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+t+'")');throw n.hash={text:"branch "+t,token:"branch "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+t+'"']},n}},xR=function(t,e,n,i){t=_n.sanitizeText(t,ht()),e=_n.sanitizeText(e,ht());const s=Qr[Hr[hi]],o=Qr[Hr[t]];if(hi===t){let u=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw u.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},u}else if(s===void 0||!s){let u=new Error('Incorrect usage of "merge". Current branch ('+hi+")has no commits");throw u.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},u}else if(Hr[t]===void 0){let u=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw u.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+t]},u}else if(o===void 0||!o){let u=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw u.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},u}else if(s===o){let u=new Error('Incorrect usage of "merge". Both branches have same head');throw u.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},u}else if(e&&Qr[e]!==void 0){let u=new Error('Incorrect usage of "merge". Commit with id:'+e+" already exists, use different custom Id");throw u.hash={text:"merge "+t+e+n+i,token:"merge "+t+e+n+i,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+t+" "+e+"_UNIQUE "+n+" "+i]},u}const l={id:e||Yl+"-"+Cm(),message:"merged branch "+t+" into "+hi,seq:Yl++,parents:[Pi==null?null:Pi.id,Hr[t]],branch:hi,type:$h.MERGE,customType:n,customId:!!e,tag:i||""};Pi=l,Qr[l.id]=l,Hr[hi]=l.id,C.debug(Hr),C.debug("in mergeBranch")},TR=function(t,e,n){if(C.debug("Entering cherryPick:",t,e,n),t=_n.sanitizeText(t,ht()),e=_n.sanitizeText(e,ht()),n=_n.sanitizeText(n,ht()),!t||Qr[t]===void 0){let o=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw o.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},o}let i=Qr[t],s=i.branch;if(i.type===$h.MERGE){let o=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw o.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},o}if(!e||Qr[e]===void 0){if(s===hi){let u=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw u.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},u}const o=Qr[Hr[hi]];if(o===void 0||!o){let u=new Error('Incorrect usage of "cherry-pick". Current branch ('+hi+")has no commits");throw u.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},u}const l={id:Yl+"-"+Cm(),message:"cherry-picked "+i+" into "+hi,seq:Yl++,parents:[Pi==null?null:Pi.id,i.id],branch:hi,type:$h.CHERRY_PICK,tag:n??"cherry-pick:"+i.id};Pi=l,Qr[l.id]=l,Hr[hi]=l.id,C.debug(Hr),C.debug("in cherryPick")}},B4=function(t){if(t=_n.sanitizeText(t,ht()),Hr[t]===void 0){let e=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+t+'")');throw e.hash={text:"checkout "+t,token:"checkout "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+t+'"']},e}else{hi=t;const e=Hr[hi];Pi=Qr[e]}};function P4(t,e,n){const i=t.indexOf(e);i===-1?t.push(n):t.splice(i,1,n)}function F4(t){const e=t.reduce((s,o)=>s.seq>o.seq?s:o,t[0]);let n="";t.forEach(function(s){s===e?n+="	*":n+="	|"});const i=[n,e.id,e.seq];for(let s in Hr)Hr[s]===e.id&&i.push(s);if(C.debug(i.join(" ")),e.parents&&e.parents.length==2){const s=Qr[e.parents[0]];P4(t,e,s),t.push(Qr[e.parents[1]])}else{if(e.parents.length==0)return;{const s=Qr[e.parents];P4(t,e,s)}}t=yR(t,s=>s.id),F4(t)}const ER=function(){C.debug(Qr);const t=V4()[0];F4([t])},CR=function(){Qr={},Pi=null;let t=ht().gitGraph.mainBranchName,e=ht().gitGraph.mainBranchOrder;Hr={},Hr[t]=null,Yh={},Yh[t]={name:t,order:e},hi=t,Yl=0,js()},SR=function(){return Object.values(Yh).map((e,n)=>e.order!==null?e:{...e,order:parseFloat(`0.${n}`,10)}).sort((e,n)=>e.order-n.order).map(({name:e})=>({name:e}))},AR=function(){return Hr},LR=function(){return Qr},V4=function(){const t=Object.keys(Qr).map(function(e){return Qr[e]});return t.forEach(function(e){C.debug(e.id)}),t.sort((e,n)=>e.seq-n.seq),t},IR=function(){return hi},MR=function(){return D4},NR=function(){return Pi},$h={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},OR={parseDirective:mR,getConfig:()=>ht().gitGraph,setDirection:_R,setOptions:vR,getOptions:bR,commit:kR,branch:wR,merge:xR,cherryPick:TR,checkout:B4,prettyPrint:ER,clear:CR,getBranchesAsObjArray:SR,getBranches:AR,getCommits:LR,getCommitsArray:V4,getCurrentBranch:IR,getDirection:MR,getHead:NR,setAccTitle:xs,getAccTitle:qs,getAccDescription:Xs,setAccDescription:Gs,setDiagramTitle:Za,getDiagramTitle:Qa,commitType:$h};let Uh={};const is={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},$l=8;let Xi={},$1={},U1=[],z1=0;const DR=()=>{Xi={},$1={},Uh={},z1=0,U1=[]},RR=t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");let n=[];typeof t=="string"?n=t.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(t)?n=t:n=[];for(const i of n){const s=document.createElementNS("http://www.w3.org/2000/svg","tspan");s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),s.setAttribute("dy","1em"),s.setAttribute("x","0"),s.setAttribute("class","row"),s.textContent=i.trim(),e.appendChild(s)}return e},Y4=(t,e,n)=>{const i=Vh().gitGraph,s=t.append("g").attr("class","commit-bullets"),o=t.append("g").attr("class","commit-labels");let l=0;Object.keys(e).sort((g,_)=>e[g].seq-e[_].seq).forEach(g=>{const _=e[g],k=Xi[_.branch].pos,w=l+10;if(n){let x,M=_.customType!==void 0&&_.customType!==""?_.customType:_.type;switch(M){case is.NORMAL:x="commit-normal";break;case is.REVERSE:x="commit-reverse";break;case is.HIGHLIGHT:x="commit-highlight";break;case is.MERGE:x="commit-merge";break;case is.CHERRY_PICK:x="commit-cherry-pick";break;default:x="commit-normal"}if(M===is.HIGHLIGHT){const R=s.append("rect");R.attr("x",w-10),R.attr("y",k-10),R.attr("height",20),R.attr("width",20),R.attr("class",`commit ${_.id} commit-highlight${Xi[_.branch].index%$l} ${x}-outer`),s.append("rect").attr("x",w-6).attr("y",k-6).attr("height",12).attr("width",12).attr("class",`commit ${_.id} commit${Xi[_.branch].index%$l} ${x}-inner`)}else if(M===is.CHERRY_PICK)s.append("circle").attr("cx",w).attr("cy",k).attr("r",10).attr("class",`commit ${_.id} ${x}`),s.append("circle").attr("cx",w-3).attr("cy",k+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${_.id} ${x}`),s.append("circle").attr("cx",w+3).attr("cy",k+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${_.id} ${x}`),s.append("line").attr("x1",w+3).attr("y1",k+1).attr("x2",w).attr("y2",k-5).attr("stroke","#fff").attr("class",`commit ${_.id} ${x}`),s.append("line").attr("x1",w-3).attr("y1",k+1).attr("x2",w).attr("y2",k-5).attr("stroke","#fff").attr("class",`commit ${_.id} ${x}`);else{const R=s.append("circle");if(R.attr("cx",w),R.attr("cy",k),R.attr("r",_.type===is.MERGE?9:10),R.attr("class",`commit ${_.id} commit${Xi[_.branch].index%$l}`),M===is.MERGE){const B=s.append("circle");B.attr("cx",w),B.attr("cy",k),B.attr("r",6),B.attr("class",`commit ${x} ${_.id} commit${Xi[_.branch].index%$l}`)}M===is.REVERSE&&s.append("path").attr("d",`M ${w-5},${k-5}L${w+5},${k+5}M${w-5},${k+5}L${w+5},${k-5}`).attr("class",`commit ${x} ${_.id} commit${Xi[_.branch].index%$l}`)}}if($1[_.id]={x:l+10,y:k},n){if(_.type!==is.CHERRY_PICK&&(_.customId&&_.type===is.MERGE||_.type!==is.MERGE)&&i.showCommitLabel){const R=o.append("g"),B=R.insert("rect").attr("class","commit-label-bkg"),U=R.append("text").attr("x",l).attr("y",k+25).attr("class","commit-label").text(_.id);let Y=U.node().getBBox();if(B.attr("x",l+10-Y.width/2-2).attr("y",k+13.5).attr("width",Y.width+2*2).attr("height",Y.height+2*2),U.attr("x",l+10-Y.width/2),i.rotateCommitLabel){let X=-7.5-(Y.width+10)/25*9.5,Q=10+Y.width/25*8.5;R.attr("transform","translate("+X+", "+Q+") rotate("+-45+", "+l+", "+k+")")}}if(_.tag){const R=o.insert("polygon"),B=o.append("circle"),U=o.append("text").attr("y",k-16).attr("class","tag-label").text(_.tag);let Y=U.node().getBBox();U.attr("x",l+10-Y.width/2);const X=Y.height/2,Q=k-19.2;R.attr("class","tag-label-bkg").attr("points",`
          ${l-Y.width/2-4/2},${Q+2}
          ${l-Y.width/2-4/2},${Q-2}
          ${l+10-Y.width/2-4},${Q-X-2}
          ${l+10+Y.width/2+4},${Q-X-2}
          ${l+10+Y.width/2+4},${Q+X+2}
          ${l+10-Y.width/2-4},${Q+X+2}`),B.attr("cx",l-Y.width/2+4/2).attr("cy",Q).attr("r",1.5).attr("class","tag-hole")}}l+=50,l>z1&&(z1=l)})},BR=(t,e,n)=>Object.keys(n).filter(o=>n[o].branch===e.branch&&n[o].seq>t.seq&&n[o].seq<e.seq).length>0,Sm=(t,e,n=0)=>{const i=t+Math.abs(t-e)/2;if(n>5)return i;if(U1.every(l=>Math.abs(l-i)>=10))return U1.push(i),i;const o=Math.abs(t-e);return Sm(t,e-o/5,n+1)},PR=(t,e,n,i)=>{const s=$1[e.id],o=$1[n.id],l=BR(e,n,i);let u="",f="",g=0,_=0,k=Xi[n.branch].index,w;if(l){u="A 10 10, 0, 0, 0,",f="A 10 10, 0, 0, 1,",g=10,_=10,k=Xi[n.branch].index;const x=s.y<o.y?Sm(s.y,o.y):Sm(o.y,s.y);s.y<o.y?w=`M ${s.x} ${s.y} L ${s.x} ${x-g} ${u} ${s.x+_} ${x} L ${o.x-g} ${x} ${f} ${o.x} ${x+_} L ${o.x} ${o.y}`:w=`M ${s.x} ${s.y} L ${s.x} ${x+g} ${f} ${s.x+_} ${x} L ${o.x-g} ${x} ${u} ${o.x} ${x-_} L ${o.x} ${o.y}`}else s.y<o.y&&(u="A 20 20, 0, 0, 0,",g=20,_=20,k=Xi[n.branch].index,w=`M ${s.x} ${s.y} L ${s.x} ${o.y-g} ${u} ${s.x+_} ${o.y} L ${o.x} ${o.y}`),s.y>o.y&&(u="A 20 20, 0, 0, 0,",g=20,_=20,k=Xi[e.branch].index,w=`M ${s.x} ${s.y} L ${o.x-g} ${s.y} ${u} ${o.x} ${s.y-_} L ${o.x} ${o.y}`),s.y===o.y&&(k=Xi[e.branch].index,w=`M ${s.x} ${s.y} L ${s.x} ${o.y-g} ${u} ${s.x+_} ${o.y} L ${o.x} ${o.y}`);t.append("path").attr("d",w).attr("class","arrow arrow"+k%$l)},FR=(t,e)=>{const n=t.append("g").attr("class","commit-arrows");Object.keys(e).forEach(i=>{const s=e[i];s.parents&&s.parents.length>0&&s.parents.forEach(o=>{PR(n,e[o],s,e)})})},VR=(t,e)=>{const n=Vh().gitGraph,i=t.append("g");e.forEach((s,o)=>{const l=o%$l,u=Xi[s.name].pos,f=i.append("line");f.attr("x1",0),f.attr("y1",u),f.attr("x2",z1),f.attr("y2",u),f.attr("class","branch branch"+l),U1.push(u);let g=s.name;const _=RR(g),k=i.insert("rect"),x=i.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+l);x.node().appendChild(_);let M=_.getBBox();k.attr("class","branchLabelBkg label"+l).attr("rx",4).attr("ry",4).attr("x",-M.width-4-(n.rotateCommitLabel===!0?30:0)).attr("y",-M.height/2+8).attr("width",M.width+18).attr("height",M.height+4),x.attr("transform","translate("+(-M.width-14-(n.rotateCommitLabel===!0?30:0))+", "+(u-M.height/2-1)+")"),k.attr("transform","translate("+-19+", "+(u-M.height/2)+")")})},YR={draw:function(t,e,n,i){var s;DR();const o=Vh(),l=o.gitGraph;C.debug("in gitgraph renderer",t+`
`,"id:",e,n),Uh=i.db.getCommits();const u=i.db.getBranchesAsObjArray();let f=0;u.forEach((_,k)=>{Xi[_.name]={pos:f,index:k},f+=50+(l.rotateCommitLabel?40:0)});const g=re(`[id="${e}"]`);Y4(g,Uh,!1),l.showBranches&&VR(g,u),FR(g,Uh),Y4(g,Uh,!0),Tn.insertTitle(g,"gitTitleText",l.titleTopMargin,i.db.getDiagramTitle()),N4(void 0,g,l.diagramPadding,(s=l.useMaxWidth)!=null?s:o.useMaxWidth)}},$R=t=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(e=>`
        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }
        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }
        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }
        .label${e}  { fill: ${t["git"+e]}; }
        .arrow${e} { stroke: ${t["git"+e]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${t.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}
  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}
  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }
  .tag-hole { fill: ${t.textColor}; }

  .commit-merge {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }
  .commit-reverse {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
  }
`;var H1=function(){var t=function(we,Wt,Dt,oe){for(Dt=Dt||{},oe=we.length;oe--;Dt[we[oe]]=Wt);return Dt},e=[1,6],n=[1,7],i=[1,8],s=[1,9],o=[1,16],l=[1,11],u=[1,12],f=[1,13],g=[1,14],_=[1,15],k=[1,27],w=[1,33],x=[1,34],M=[1,35],R=[1,36],B=[1,37],U=[1,72],Y=[1,73],X=[1,74],Q=[1,75],at=[1,76],lt=[1,77],J=[1,78],ot=[1,38],q=[1,39],H=[1,40],$=[1,41],O=[1,42],W=[1,43],A=[1,44],mt=[1,45],I=[1,46],It=[1,47],le=[1,48],qt=[1,49],ut=[1,50],St=[1,51],bt=[1,52],kt=[1,53],Lt=[1,54],Ht=[1,55],pt=[1,56],_e=[1,57],tt=[1,59],st=[1,60],dt=[1,61],Z=[1,62],G=[1,63],z=[1,64],yt=[1,65],P=[1,66],Nt=[1,67],nt=[1,68],Ee=[1,69],vt=[24,52],fe=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Zt=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Pt=[1,94],Qt=[1,95],Gt=[1,96],Bt=[1,97],xt=[15,24,52],pn=[7,8,9,10,18,22,25,26,27,28],We=[15,24,43,52],ze=[15,24,43,52,86,87,89,90],qe=[15,43],Ve=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Hn={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(Wt,Dt,oe,zt,Se,Et,un){var Ot=Et.length-1;switch(Se){case 4:zt.setDirection("TB");break;case 5:zt.setDirection("BT");break;case 6:zt.setDirection("RL");break;case 7:zt.setDirection("LR");break;case 11:zt.parseDirective("%%{","open_directive");break;case 12:break;case 13:Et[Ot]=Et[Ot].trim().replace(/'/g,'"'),zt.parseDirective(Et[Ot],"arg_directive");break;case 14:zt.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:zt.setC4Type(Et[Ot-3]);break;case 26:zt.setTitle(Et[Ot].substring(6)),this.$=Et[Ot].substring(6);break;case 27:zt.setAccDescription(Et[Ot].substring(15)),this.$=Et[Ot].substring(15);break;case 28:this.$=Et[Ot].trim(),zt.setTitle(this.$);break;case 29:case 30:this.$=Et[Ot].trim(),zt.setAccDescription(this.$);break;case 35:case 36:Et[Ot].splice(2,0,"ENTERPRISE"),zt.addPersonOrSystemBoundary(...Et[Ot]),this.$=Et[Ot];break;case 37:zt.addPersonOrSystemBoundary(...Et[Ot]),this.$=Et[Ot];break;case 38:Et[Ot].splice(2,0,"CONTAINER"),zt.addContainerBoundary(...Et[Ot]),this.$=Et[Ot];break;case 39:zt.addDeploymentNode("node",...Et[Ot]),this.$=Et[Ot];break;case 40:zt.addDeploymentNode("nodeL",...Et[Ot]),this.$=Et[Ot];break;case 41:zt.addDeploymentNode("nodeR",...Et[Ot]),this.$=Et[Ot];break;case 42:zt.popBoundaryParseStack();break;case 46:zt.addPersonOrSystem("person",...Et[Ot]),this.$=Et[Ot];break;case 47:zt.addPersonOrSystem("external_person",...Et[Ot]),this.$=Et[Ot];break;case 48:zt.addPersonOrSystem("system",...Et[Ot]),this.$=Et[Ot];break;case 49:zt.addPersonOrSystem("system_db",...Et[Ot]),this.$=Et[Ot];break;case 50:zt.addPersonOrSystem("system_queue",...Et[Ot]),this.$=Et[Ot];break;case 51:zt.addPersonOrSystem("external_system",...Et[Ot]),this.$=Et[Ot];break;case 52:zt.addPersonOrSystem("external_system_db",...Et[Ot]),this.$=Et[Ot];break;case 53:zt.addPersonOrSystem("external_system_queue",...Et[Ot]),this.$=Et[Ot];break;case 54:zt.addContainer("container",...Et[Ot]),this.$=Et[Ot];break;case 55:zt.addContainer("container_db",...Et[Ot]),this.$=Et[Ot];break;case 56:zt.addContainer("container_queue",...Et[Ot]),this.$=Et[Ot];break;case 57:zt.addContainer("external_container",...Et[Ot]),this.$=Et[Ot];break;case 58:zt.addContainer("external_container_db",...Et[Ot]),this.$=Et[Ot];break;case 59:zt.addContainer("external_container_queue",...Et[Ot]),this.$=Et[Ot];break;case 60:zt.addComponent("component",...Et[Ot]),this.$=Et[Ot];break;case 61:zt.addComponent("component_db",...Et[Ot]),this.$=Et[Ot];break;case 62:zt.addComponent("component_queue",...Et[Ot]),this.$=Et[Ot];break;case 63:zt.addComponent("external_component",...Et[Ot]),this.$=Et[Ot];break;case 64:zt.addComponent("external_component_db",...Et[Ot]),this.$=Et[Ot];break;case 65:zt.addComponent("external_component_queue",...Et[Ot]),this.$=Et[Ot];break;case 67:zt.addRel("rel",...Et[Ot]),this.$=Et[Ot];break;case 68:zt.addRel("birel",...Et[Ot]),this.$=Et[Ot];break;case 69:zt.addRel("rel_u",...Et[Ot]),this.$=Et[Ot];break;case 70:zt.addRel("rel_d",...Et[Ot]),this.$=Et[Ot];break;case 71:zt.addRel("rel_l",...Et[Ot]),this.$=Et[Ot];break;case 72:zt.addRel("rel_r",...Et[Ot]),this.$=Et[Ot];break;case 73:zt.addRel("rel_b",...Et[Ot]),this.$=Et[Ot];break;case 74:Et[Ot].splice(0,1),zt.addRel("rel",...Et[Ot]),this.$=Et[Ot];break;case 75:zt.updateElStyle("update_el_style",...Et[Ot]),this.$=Et[Ot];break;case 76:zt.updateRelStyle("update_rel_style",...Et[Ot]),this.$=Et[Ot];break;case 77:zt.updateLayoutConfig("update_layout_config",...Et[Ot]),this.$=Et[Ot];break;case 78:this.$=[Et[Ot]];break;case 79:Et[Ot].unshift(Et[Ot-1]),this.$=Et[Ot];break;case 80:case 82:this.$=Et[Ot].trim();break;case 81:let nn={};nn[Et[Ot-1].trim()]=Et[Ot].trim(),this.$=nn;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:e,8:n,9:i,10:s,11:5,12:10,18:o,22:l,25:u,26:f,27:g,28:_},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:e,8:n,9:i,10:s,11:5,12:10,18:o,22:l,25:u,26:f,27:g,28:_},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:k},t([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:w,33:x,34:M,36:R,38:B,39:58,40:70,42:71,44:U,46:Y,47:X,48:Q,49:at,50:lt,51:J,53:32,54:ot,55:q,56:H,57:$,58:O,59:W,60:A,61:mt,62:I,63:It,64:le,65:qt,66:ut,67:St,68:bt,69:kt,70:Lt,71:Ht,72:pt,73:_e,74:tt,75:st,76:dt,77:Z,78:G,79:z,80:yt,81:P,82:Nt,83:nt,84:Ee},{23:79,29:29,30:30,31:31,32:w,33:x,34:M,36:R,38:B,39:58,40:70,42:71,44:U,46:Y,47:X,48:Q,49:at,50:lt,51:J,53:32,54:ot,55:q,56:H,57:$,58:O,59:W,60:A,61:mt,62:I,63:It,64:le,65:qt,66:ut,67:St,68:bt,69:kt,70:Lt,71:Ht,72:pt,73:_e,74:tt,75:st,76:dt,77:Z,78:G,79:z,80:yt,81:P,82:Nt,83:nt,84:Ee},{23:80,29:29,30:30,31:31,32:w,33:x,34:M,36:R,38:B,39:58,40:70,42:71,44:U,46:Y,47:X,48:Q,49:at,50:lt,51:J,53:32,54:ot,55:q,56:H,57:$,58:O,59:W,60:A,61:mt,62:I,63:It,64:le,65:qt,66:ut,67:St,68:bt,69:kt,70:Lt,71:Ht,72:pt,73:_e,74:tt,75:st,76:dt,77:Z,78:G,79:z,80:yt,81:P,82:Nt,83:nt,84:Ee},{23:81,29:29,30:30,31:31,32:w,33:x,34:M,36:R,38:B,39:58,40:70,42:71,44:U,46:Y,47:X,48:Q,49:at,50:lt,51:J,53:32,54:ot,55:q,56:H,57:$,58:O,59:W,60:A,61:mt,62:I,63:It,64:le,65:qt,66:ut,67:St,68:bt,69:kt,70:Lt,71:Ht,72:pt,73:_e,74:tt,75:st,76:dt,77:Z,78:G,79:z,80:yt,81:P,82:Nt,83:nt,84:Ee},{23:82,29:29,30:30,31:31,32:w,33:x,34:M,36:R,38:B,39:58,40:70,42:71,44:U,46:Y,47:X,48:Q,49:at,50:lt,51:J,53:32,54:ot,55:q,56:H,57:$,58:O,59:W,60:A,61:mt,62:I,63:It,64:le,65:qt,66:ut,67:St,68:bt,69:kt,70:Lt,71:Ht,72:pt,73:_e,74:tt,75:st,76:dt,77:Z,78:G,79:z,80:yt,81:P,82:Nt,83:nt,84:Ee},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},t(vt,[2,20],{53:32,39:58,40:70,42:71,30:87,44:U,46:Y,47:X,48:Q,49:at,50:lt,51:J,54:ot,55:q,56:H,57:$,58:O,59:W,60:A,61:mt,62:I,63:It,64:le,65:qt,66:ut,67:St,68:bt,69:kt,70:Lt,71:Ht,72:pt,73:_e,74:tt,75:st,76:dt,77:Z,78:G,79:z,80:yt,81:P,82:Nt,83:nt,84:Ee}),t(vt,[2,21]),t(fe,[2,23],{15:[1,88]}),t(vt,[2,43],{15:[1,89]}),t(Zt,[2,26]),t(Zt,[2,27]),{35:[1,90]},{37:[1,91]},t(Zt,[2,30]),{45:92,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:98,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:99,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:100,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:101,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:102,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:103,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:104,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:105,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:106,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:107,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:108,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:109,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:110,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:111,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:112,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:113,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:114,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:115,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:116,85:93,86:Pt,87:Qt,89:Gt,90:Bt},t(xt,[2,66]),{45:117,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:118,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:119,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:120,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:121,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:122,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:123,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:124,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:125,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:126,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:127,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{30:128,39:58,40:70,42:71,44:U,46:Y,47:X,48:Q,49:at,50:lt,51:J,53:32,54:ot,55:q,56:H,57:$,58:O,59:W,60:A,61:mt,62:I,63:It,64:le,65:qt,66:ut,67:St,68:bt,69:kt,70:Lt,71:Ht,72:pt,73:_e,74:tt,75:st,76:dt,77:Z,78:G,79:z,80:yt,81:P,82:Nt,83:nt,84:Ee},{15:[1,130],43:[1,129]},{45:131,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:132,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:133,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:134,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:135,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:136,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{45:137,85:93,86:Pt,87:Qt,89:Gt,90:Bt},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},t(pn,[2,9]),{14:142,21:k},{21:[2,13]},{1:[2,15]},t(vt,[2,22]),t(fe,[2,24],{31:31,29:143,32:w,33:x,34:M,36:R,38:B}),t(vt,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:w,33:x,34:M,36:R,38:B,44:U,46:Y,47:X,48:Q,49:at,50:lt,51:J,54:ot,55:q,56:H,57:$,58:O,59:W,60:A,61:mt,62:I,63:It,64:le,65:qt,66:ut,67:St,68:bt,69:kt,70:Lt,71:Ht,72:pt,73:_e,74:tt,75:st,76:dt,77:Z,78:G,79:z,80:yt,81:P,82:Nt,83:nt,84:Ee}),t(Zt,[2,28]),t(Zt,[2,29]),t(xt,[2,46]),t(We,[2,78],{85:93,45:145,86:Pt,87:Qt,89:Gt,90:Bt}),t(ze,[2,80]),{88:[1,146]},t(ze,[2,82]),t(ze,[2,83]),t(xt,[2,47]),t(xt,[2,48]),t(xt,[2,49]),t(xt,[2,50]),t(xt,[2,51]),t(xt,[2,52]),t(xt,[2,53]),t(xt,[2,54]),t(xt,[2,55]),t(xt,[2,56]),t(xt,[2,57]),t(xt,[2,58]),t(xt,[2,59]),t(xt,[2,60]),t(xt,[2,61]),t(xt,[2,62]),t(xt,[2,63]),t(xt,[2,64]),t(xt,[2,65]),t(xt,[2,67]),t(xt,[2,68]),t(xt,[2,69]),t(xt,[2,70]),t(xt,[2,71]),t(xt,[2,72]),t(xt,[2,73]),t(xt,[2,74]),t(xt,[2,75]),t(xt,[2,76]),t(xt,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},t(qe,[2,35]),t(qe,[2,36]),t(qe,[2,37]),t(qe,[2,38]),t(qe,[2,39]),t(qe,[2,40]),t(qe,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},t(fe,[2,25]),t(vt,[2,45]),t(We,[2,79]),t(ze,[2,81]),t(xt,[2,31]),t(xt,[2,42]),t(Ve,[2,32]),t(Ve,[2,33],{15:[1,152]}),t(pn,[2,10]),t(Ve,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(Wt,Dt){if(Dt.recoverable)this.trace(Wt);else{var oe=new Error(Wt);throw oe.hash=Dt,oe}},parse:function(Wt){var Dt=this,oe=[0],zt=[],Se=[null],Et=[],un=this.table,Ot="",nn=0,kn=0,Ln=2,In=1,Pn=Et.slice.call(arguments,1),He=Object.create(this.lexer),hn={yy:{}};for(var En in this.yy)Object.prototype.hasOwnProperty.call(this.yy,En)&&(hn.yy[En]=this.yy[En]);He.setInput(Wt,hn.yy),hn.yy.lexer=He,hn.yy.parser=this,typeof He.yylloc>"u"&&(He.yylloc={});var Je=He.yylloc;Et.push(Je);var ra=He.options&&He.options.ranges;typeof hn.yy.parseError=="function"?this.parseError=hn.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function os(){var gt;return gt=zt.pop()||He.lex()||In,typeof gt!="number"&&(gt instanceof Array&&(zt=gt,gt=zt.pop()),gt=Dt.symbols_[gt]||gt),gt}for(var or,dn,mr,vr,kr={},wr,yr,Br,Gr;;){if(dn=oe[oe.length-1],this.defaultActions[dn]?mr=this.defaultActions[dn]:((or===null||typeof or>"u")&&(or=os()),mr=un[dn]&&un[dn][or]),typeof mr>"u"||!mr.length||!mr[0]){var Ae="";Gr=[];for(wr in un[dn])this.terminals_[wr]&&wr>Ln&&Gr.push("'"+this.terminals_[wr]+"'");He.showPosition?Ae="Parse error on line "+(nn+1)+`:
`+He.showPosition()+`
Expecting `+Gr.join(", ")+", got '"+(this.terminals_[or]||or)+"'":Ae="Parse error on line "+(nn+1)+": Unexpected "+(or==In?"end of input":"'"+(this.terminals_[or]||or)+"'"),this.parseError(Ae,{text:He.match,token:this.terminals_[or]||or,line:He.yylineno,loc:Je,expected:Gr})}if(mr[0]instanceof Array&&mr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+dn+", token: "+or);switch(mr[0]){case 1:oe.push(or),Se.push(He.yytext),Et.push(He.yylloc),oe.push(mr[1]),or=null,kn=He.yyleng,Ot=He.yytext,nn=He.yylineno,Je=He.yylloc;break;case 2:if(yr=this.productions_[mr[1]][1],kr.$=Se[Se.length-yr],kr._$={first_line:Et[Et.length-(yr||1)].first_line,last_line:Et[Et.length-1].last_line,first_column:Et[Et.length-(yr||1)].first_column,last_column:Et[Et.length-1].last_column},ra&&(kr._$.range=[Et[Et.length-(yr||1)].range[0],Et[Et.length-1].range[1]]),vr=this.performAction.apply(kr,[Ot,kn,nn,hn.yy,mr[1],Se,Et].concat(Pn)),typeof vr<"u")return vr;yr&&(oe=oe.slice(0,-1*yr*2),Se=Se.slice(0,-1*yr),Et=Et.slice(0,-1*yr)),oe.push(this.productions_[mr[1]][0]),Se.push(kr.$),Et.push(kr._$),Br=un[oe[oe.length-2]][oe[oe.length-1]],oe.push(Br);break;case 3:return!0}}return!0}},Re=function(){var we={EOF:1,parseError:function(Dt,oe){if(this.yy.parser)this.yy.parser.parseError(Dt,oe);else throw new Error(Dt)},setInput:function(Wt,Dt){return this.yy=Dt||this.yy||{},this._input=Wt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Wt=this._input[0];this.yytext+=Wt,this.yyleng++,this.offset++,this.match+=Wt,this.matched+=Wt;var Dt=Wt.match(/(?:\r\n?|\n).*/g);return Dt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Wt},unput:function(Wt){var Dt=Wt.length,oe=Wt.split(/(?:\r\n?|\n)/g);this._input=Wt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Dt),this.offset-=Dt;var zt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),oe.length-1&&(this.yylineno-=oe.length-1);var Se=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:oe?(oe.length===zt.length?this.yylloc.first_column:0)+zt[zt.length-oe.length].length-oe[0].length:this.yylloc.first_column-Dt},this.options.ranges&&(this.yylloc.range=[Se[0],Se[0]+this.yyleng-Dt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Wt){this.unput(this.match.slice(Wt))},pastInput:function(){var Wt=this.matched.substr(0,this.matched.length-this.match.length);return(Wt.length>20?"...":"")+Wt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Wt=this.match;return Wt.length<20&&(Wt+=this._input.substr(0,20-Wt.length)),(Wt.substr(0,20)+(Wt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Wt=this.pastInput(),Dt=new Array(Wt.length+1).join("-");return Wt+this.upcomingInput()+`
`+Dt+"^"},test_match:function(Wt,Dt){var oe,zt,Se;if(this.options.backtrack_lexer&&(Se={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Se.yylloc.range=this.yylloc.range.slice(0))),zt=Wt[0].match(/(?:\r\n?|\n).*/g),zt&&(this.yylineno+=zt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:zt?zt[zt.length-1].length-zt[zt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Wt[0].length},this.yytext+=Wt[0],this.match+=Wt[0],this.matches=Wt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Wt[0].length),this.matched+=Wt[0],oe=this.performAction.call(this,this.yy,this,Dt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),oe)return oe;if(this._backtrack){for(var Et in Se)this[Et]=Se[Et];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Wt,Dt,oe,zt;this._more||(this.yytext="",this.match="");for(var Se=this._currentRules(),Et=0;Et<Se.length;Et++)if(oe=this._input.match(this.rules[Se[Et]]),oe&&(!Dt||oe[0].length>Dt[0].length)){if(Dt=oe,zt=Et,this.options.backtrack_lexer){if(Wt=this.test_match(oe,Se[Et]),Wt!==!1)return Wt;if(this._backtrack){Dt=!1;continue}else return!1}else if(!this.options.flex)break}return Dt?(Wt=this.test_match(Dt,Se[zt]),Wt!==!1?Wt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Dt=this.next();return Dt||this.lex()},begin:function(Dt){this.conditionStack.push(Dt)},popState:function(){var Dt=this.conditionStack.length-1;return Dt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Dt){return Dt=this.conditionStack.length-1-Math.abs(Dt||0),Dt>=0?this.conditionStack[Dt]:"INITIAL"},pushState:function(Dt){this.begin(Dt)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Dt,oe,zt,Se){switch(zt){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return we}();Hn.lexer=Re;function Ce(){this.yy={}}return Ce.prototype=Hn,Hn.Parser=Ce,new Ce}();H1.parser=H1;const UR=H1,zR=t=>t.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null;let Ks=[],Wo=[""],Fi="global",Zs="",ka=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],zh=[],Am="",Lm=!1,W1=4,j1=2;var $4;const HR=function(){return $4},WR=function(t){$4=$s(t,ht())},jR=function(t,e,n){Sr.parseDirective(this,t,e,n)},qR=function(t,e,n,i,s,o,l,u,f){if(t==null||e===void 0||e===null||n===void 0||n===null||i===void 0||i===null)return;let g={};const _=zh.find(k=>k.from===e&&k.to===n);if(_?g=_:zh.push(g),g.type=t,g.from=e,g.to=n,g.label={text:i},s==null)g.techn={text:""};else if(typeof s=="object"){let[k,w]=Object.entries(s)[0];g[k]={text:w}}else g.techn={text:s};if(o==null)g.descr={text:""};else if(typeof o=="object"){let[k,w]=Object.entries(o)[0];g[k]={text:w}}else g.descr={text:o};if(typeof l=="object"){let[k,w]=Object.entries(l)[0];g[k]=w}else g.sprite=l;if(typeof u=="object"){let[k,w]=Object.entries(u)[0];g[k]=w}else g.tags=u;if(typeof f=="object"){let[k,w]=Object.entries(f)[0];g[k]=w}else g.link=f;g.wrap=jo()},GR=function(t,e,n,i,s,o,l){if(e===null||n===null)return;let u={};const f=Ks.find(g=>g.alias===e);if(f&&e===f.alias?u=f:(u.alias=e,Ks.push(u)),n==null?u.label={text:""}:u.label={text:n},i==null)u.descr={text:""};else if(typeof i=="object"){let[g,_]=Object.entries(i)[0];u[g]={text:_}}else u.descr={text:i};if(typeof s=="object"){let[g,_]=Object.entries(s)[0];u[g]=_}else u.sprite=s;if(typeof o=="object"){let[g,_]=Object.entries(o)[0];u[g]=_}else u.tags=o;if(typeof l=="object"){let[g,_]=Object.entries(l)[0];u[g]=_}else u.link=l;u.typeC4Shape={text:t},u.parentBoundary=Fi,u.wrap=jo()},XR=function(t,e,n,i,s,o,l,u){if(e===null||n===null)return;let f={};const g=Ks.find(_=>_.alias===e);if(g&&e===g.alias?f=g:(f.alias=e,Ks.push(f)),n==null?f.label={text:""}:f.label={text:n},i==null)f.techn={text:""};else if(typeof i=="object"){let[_,k]=Object.entries(i)[0];f[_]={text:k}}else f.techn={text:i};if(s==null)f.descr={text:""};else if(typeof s=="object"){let[_,k]=Object.entries(s)[0];f[_]={text:k}}else f.descr={text:s};if(typeof o=="object"){let[_,k]=Object.entries(o)[0];f[_]=k}else f.sprite=o;if(typeof l=="object"){let[_,k]=Object.entries(l)[0];f[_]=k}else f.tags=l;if(typeof u=="object"){let[_,k]=Object.entries(u)[0];f[_]=k}else f.link=u;f.wrap=jo(),f.typeC4Shape={text:t},f.parentBoundary=Fi},KR=function(t,e,n,i,s,o,l,u){if(e===null||n===null)return;let f={};const g=Ks.find(_=>_.alias===e);if(g&&e===g.alias?f=g:(f.alias=e,Ks.push(f)),n==null?f.label={text:""}:f.label={text:n},i==null)f.techn={text:""};else if(typeof i=="object"){let[_,k]=Object.entries(i)[0];f[_]={text:k}}else f.techn={text:i};if(s==null)f.descr={text:""};else if(typeof s=="object"){let[_,k]=Object.entries(s)[0];f[_]={text:k}}else f.descr={text:s};if(typeof o=="object"){let[_,k]=Object.entries(o)[0];f[_]=k}else f.sprite=o;if(typeof l=="object"){let[_,k]=Object.entries(l)[0];f[_]=k}else f.tags=l;if(typeof u=="object"){let[_,k]=Object.entries(u)[0];f[_]=k}else f.link=u;f.wrap=jo(),f.typeC4Shape={text:t},f.parentBoundary=Fi},ZR=function(t,e,n,i,s){if(t===null||e===null)return;let o={};const l=ka.find(u=>u.alias===t);if(l&&t===l.alias?o=l:(o.alias=t,ka.push(o)),e==null?o.label={text:""}:o.label={text:e},n==null)o.type={text:"system"};else if(typeof n=="object"){let[u,f]=Object.entries(n)[0];o[u]={text:f}}else o.type={text:n};if(typeof i=="object"){let[u,f]=Object.entries(i)[0];o[u]=f}else o.tags=i;if(typeof s=="object"){let[u,f]=Object.entries(s)[0];o[u]=f}else o.link=s;o.parentBoundary=Fi,o.wrap=jo(),Zs=Fi,Fi=t,Wo.push(Zs)},QR=function(t,e,n,i,s){if(t===null||e===null)return;let o={};const l=ka.find(u=>u.alias===t);if(l&&t===l.alias?o=l:(o.alias=t,ka.push(o)),e==null?o.label={text:""}:o.label={text:e},n==null)o.type={text:"container"};else if(typeof n=="object"){let[u,f]=Object.entries(n)[0];o[u]={text:f}}else o.type={text:n};if(typeof i=="object"){let[u,f]=Object.entries(i)[0];o[u]=f}else o.tags=i;if(typeof s=="object"){let[u,f]=Object.entries(s)[0];o[u]=f}else o.link=s;o.parentBoundary=Fi,o.wrap=jo(),Zs=Fi,Fi=t,Wo.push(Zs)},JR=function(t,e,n,i,s,o,l,u){if(e===null||n===null)return;let f={};const g=ka.find(_=>_.alias===e);if(g&&e===g.alias?f=g:(f.alias=e,ka.push(f)),n==null?f.label={text:""}:f.label={text:n},i==null)f.type={text:"node"};else if(typeof i=="object"){let[_,k]=Object.entries(i)[0];f[_]={text:k}}else f.type={text:i};if(s==null)f.descr={text:""};else if(typeof s=="object"){let[_,k]=Object.entries(s)[0];f[_]={text:k}}else f.descr={text:s};if(typeof l=="object"){let[_,k]=Object.entries(l)[0];f[_]=k}else f.tags=l;if(typeof u=="object"){let[_,k]=Object.entries(u)[0];f[_]=k}else f.link=u;f.nodeType=t,f.parentBoundary=Fi,f.wrap=jo(),Zs=Fi,Fi=e,Wo.push(Zs)},tB=function(){Fi=Zs,Wo.pop(),Zs=Wo.pop(),Wo.push(Zs)},eB=function(t,e,n,i,s,o,l,u,f,g,_){let k=Ks.find(w=>w.alias===e);if(!(k===void 0&&(k=ka.find(w=>w.alias===e),k===void 0))){if(n!=null)if(typeof n=="object"){let[w,x]=Object.entries(n)[0];k[w]=x}else k.bgColor=n;if(i!=null)if(typeof i=="object"){let[w,x]=Object.entries(i)[0];k[w]=x}else k.fontColor=i;if(s!=null)if(typeof s=="object"){let[w,x]=Object.entries(s)[0];k[w]=x}else k.borderColor=s;if(o!=null)if(typeof o=="object"){let[w,x]=Object.entries(o)[0];k[w]=x}else k.shadowing=o;if(l!=null)if(typeof l=="object"){let[w,x]=Object.entries(l)[0];k[w]=x}else k.shape=l;if(u!=null)if(typeof u=="object"){let[w,x]=Object.entries(u)[0];k[w]=x}else k.sprite=u;if(f!=null)if(typeof f=="object"){let[w,x]=Object.entries(f)[0];k[w]=x}else k.techn=f;if(g!=null)if(typeof g=="object"){let[w,x]=Object.entries(g)[0];k[w]=x}else k.legendText=g;if(_!=null)if(typeof _=="object"){let[w,x]=Object.entries(_)[0];k[w]=x}else k.legendSprite=_}},nB=function(t,e,n,i,s,o,l){const u=zh.find(f=>f.from===e&&f.to===n);if(u!==void 0){if(i!=null)if(typeof i=="object"){let[f,g]=Object.entries(i)[0];u[f]=g}else u.textColor=i;if(s!=null)if(typeof s=="object"){let[f,g]=Object.entries(s)[0];u[f]=g}else u.lineColor=s;if(o!=null)if(typeof o=="object"){let[f,g]=Object.entries(o)[0];u[f]=parseInt(g)}else u.offsetX=parseInt(o);if(l!=null)if(typeof l=="object"){let[f,g]=Object.entries(l)[0];u[f]=parseInt(g)}else u.offsetY=parseInt(l)}},rB=function(t,e,n){let i=W1,s=j1;if(typeof e=="object"){const o=Object.values(e)[0];i=parseInt(o)}else i=parseInt(e);if(typeof n=="object"){const o=Object.values(n)[0];s=parseInt(o)}else s=parseInt(n);i>=1&&(W1=i),s>=1&&(j1=s)},iB=function(){return W1},sB=function(){return j1},aB=function(){return Fi},oB=function(){return Zs},U4=function(t){return t==null?Ks:Ks.filter(e=>e.parentBoundary===t)},lB=function(t){return Ks.find(e=>e.alias===t)},cB=function(t){return Object.keys(U4(t))},uB=function(t){return t==null?ka:ka.filter(e=>e.parentBoundary===t)},hB=function(){return zh},dB=function(){return Am},fB=function(t){Lm=t},jo=function(){return Lm},z4={addPersonOrSystem:GR,addPersonOrSystemBoundary:ZR,addContainer:XR,addContainerBoundary:QR,addComponent:KR,addDeploymentNode:JR,popBoundaryParseStack:tB,addRel:qR,updateElStyle:eB,updateRelStyle:nB,updateLayoutConfig:rB,autoWrap:jo,setWrap:fB,getC4ShapeArray:U4,getC4Shape:lB,getC4ShapeKeys:cB,getBoundarys:uB,getCurrentBoundaryParse:aB,getParentBoundaryParse:oB,getRels:hB,getTitle:dB,getC4Type:HR,getC4ShapeInRow:iB,getC4BoundaryInRow:sB,setAccTitle:xs,getAccTitle:qs,getAccDescription:Xs,setAccDescription:Gs,parseDirective:jR,getConfig:()=>ht().c4,clear:function(){Ks=[],ka=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Zs="",Fi="global",Wo=[""],zh=[],Wo=[""],Am="",Lm=!1,W1=4,j1=2},LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:function(t){Am=$s(t,ht())},setC4Type:WR},Im=function(t,e){const n=t.append("rect");if(n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.attrs!=="undefined"&&e.attrs!==null)for(let i in e.attrs)n.attr(i,e.attrs[i]);return e.class!=="undefined"&&n.attr("class",e.class),n},H4=function(t,e,n,i,s,o){const l=t.append("image");l.attr("width",e),l.attr("height",n),l.attr("x",i),l.attr("y",s);let u=o.startsWith("data:image/png;base64")?o:it(o);l.attr("xlink:href",u)},pB=(t,e,n)=>{const i=t.append("g");let s=0;for(let o of e){let l=o.textColor?o.textColor:"#444444",u=o.lineColor?o.lineColor:"#444444",f=o.offsetX?parseInt(o.offsetX):0,g=o.offsetY?parseInt(o.offsetY):0,_="";if(s===0){let w=i.append("line");w.attr("x1",o.startPoint.x),w.attr("y1",o.startPoint.y),w.attr("x2",o.endPoint.x),w.attr("y2",o.endPoint.y),w.attr("stroke-width","1"),w.attr("stroke",u),w.style("fill","none"),o.type!=="rel_b"&&w.attr("marker-end","url("+_+"#arrowhead)"),(o.type==="birel"||o.type==="rel_b")&&w.attr("marker-start","url("+_+"#arrowend)"),s=-1}else{let w=i.append("path");w.attr("fill","none").attr("stroke-width","1").attr("stroke",u).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",o.startPoint.x).replaceAll("starty",o.startPoint.y).replaceAll("controlx",o.startPoint.x+(o.endPoint.x-o.startPoint.x)/2-(o.endPoint.x-o.startPoint.x)/4).replaceAll("controly",o.startPoint.y+(o.endPoint.y-o.startPoint.y)/2).replaceAll("stopx",o.endPoint.x).replaceAll("stopy",o.endPoint.y)),o.type!=="rel_b"&&w.attr("marker-end","url("+_+"#arrowhead)"),(o.type==="birel"||o.type==="rel_b")&&w.attr("marker-start","url("+_+"#arrowend)")}let k=n.messageFont();Ja(n)(o.label.text,i,Math.min(o.startPoint.x,o.endPoint.x)+Math.abs(o.endPoint.x-o.startPoint.x)/2+f,Math.min(o.startPoint.y,o.endPoint.y)+Math.abs(o.endPoint.y-o.startPoint.y)/2+g,o.label.width,o.label.height,{fill:l},k),o.techn&&o.techn.text!==""&&(k=n.messageFont(),Ja(n)("["+o.techn.text+"]",i,Math.min(o.startPoint.x,o.endPoint.x)+Math.abs(o.endPoint.x-o.startPoint.x)/2+f,Math.min(o.startPoint.y,o.endPoint.y)+Math.abs(o.endPoint.y-o.startPoint.y)/2+n.messageFontSize+5+g,Math.max(o.label.width,o.techn.width),o.techn.height,{fill:l,"font-style":"italic"},k))}},gB=function(t,e,n){const i=t.append("g");let s=e.bgColor?e.bgColor:"none",o=e.borderColor?e.borderColor:"#444444",l=e.fontColor?e.fontColor:"black",u={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(u={"stroke-width":1});let f={x:e.x,y:e.y,fill:s,stroke:o,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:u};Im(i,f);let g=n.boundaryFont();g.fontWeight="bold",g.fontSize=g.fontSize+2,g.fontColor=l,Ja(n)(e.label.text,i,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},g),e.type&&e.type.text!==""&&(g=n.boundaryFont(),g.fontColor=l,Ja(n)(e.type.text,i,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},g)),e.descr&&e.descr.text!==""&&(g=n.boundaryFont(),g.fontSize=g.fontSize-2,g.fontColor=l,Ja(n)(e.descr.text,i,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},g))},mB=function(t,e,n){let i=e.bgColor?e.bgColor:n[e.typeC4Shape.text+"_bg_color"],s=e.borderColor?e.borderColor:n[e.typeC4Shape.text+"_border_color"],o=e.fontColor?e.fontColor:"#FFFFFF",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const u=t.append("g");u.attr("class","person-man");const f=W4();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":f.x=e.x,f.y=e.y,f.fill=i,f.width=e.width,f.height=e.height,f.style="stroke:"+s+";stroke-width:0.5;",f.rx=2.5,f.ry=2.5,Im(u,f);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":u.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),u.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":u.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),u.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2));break}let g=EB(n,e.typeC4Shape.text);switch(u.append("text").attr("fill",o).attr("font-family",g.fontFamily).attr("font-size",g.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":H4(u,48,48,e.x+e.width/2-24,e.y+e.image.Y,l);break}let _=n[e.typeC4Shape.text+"Font"]();return _.fontWeight="bold",_.fontSize=_.fontSize+2,_.fontColor=o,Ja(n)(e.label.text,u,e.x,e.y+e.label.Y,e.width,e.height,{fill:o},_),_=n[e.typeC4Shape.text+"Font"](),_.fontColor=o,e.thchn&&e.thchn.text!==""?Ja(n)(e.thchn.text,u,e.x,e.y+e.thchn.Y,e.width,e.height,{fill:o,"font-style":"italic"},_):e.type&&e.type.text!==""&&Ja(n)(e.type.text,u,e.x,e.y+e.type.Y,e.width,e.height,{fill:o,"font-style":"italic"},_),e.descr&&e.descr.text!==""&&(_=n.personFont(),_.fontColor=o,Ja(n)(e.descr.text,u,e.x,e.y+e.descr.Y,e.width,e.height,{fill:o},_)),e.height},yB=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},_B=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},vB=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},bB=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},kB=function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},wB=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},xB=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},TB=function(t){const n=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);n.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),n.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},W4=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},EB=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),Ja=function(){function t(s,o,l,u,f,g,_){const k=o.append("text").attr("x",l+f/2).attr("y",u+g/2+5).style("text-anchor","middle").text(s);i(k,_)}function e(s,o,l,u,f,g,_,k){const{fontSize:w,fontFamily:x,fontWeight:M}=k,R=s.split(_n.lineBreakRegex);for(let B=0;B<R.length;B++){const U=B*w-w*(R.length-1)/2,Y=o.append("text").attr("x",l+f/2).attr("y",u).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",w).style("font-weight",M).style("font-family",x);Y.append("tspan").attr("dy",U).text(R[B]).attr("alignment-baseline","mathematical"),i(Y,_)}}function n(s,o,l,u,f,g,_,k){const w=o.append("switch"),M=w.append("foreignObject").attr("x",l).attr("y",u).attr("width",f).attr("height",g).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");M.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(s),e(s,w,l,u,f,g,_,k),i(M,_)}function i(s,o){for(const l in o)o.hasOwnProperty(l)&&s.attr(l,o[l])}return function(s){return s.textPlacement==="fo"?n:s.textPlacement==="old"?t:e}}(),wa={drawRect:Im,drawBoundary:gB,drawC4Shape:mB,drawRels:pB,drawImage:H4,insertArrowHead:bB,insertArrowEnd:kB,insertArrowFilledHead:wB,insertDynamicNumber:xB,insertArrowCrossHead:TB,insertDatabaseIcon:yB,insertComputerIcon:_B,insertClockIcon:vB,getNoteRect:W4,sanitizeUrl:it};let q1=0,G1=0,j4=4,Mm=2;H1.yy=z4;let Ge={};class q4{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,Nm(e.db.getConfig())}setData(e,n,i,s){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=n,this.nextData.starty=this.data.starty=i,this.nextData.stopy=this.data.stopy=s}updateVal(e,n,i,s){e[n]===void 0?e[n]=i:e[n]=s(i,e[n])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let n=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,i=n+e.width,s=this.nextData.starty+e.margin*2,o=s+e.height;(n>=this.data.widthLimit||i>=this.data.widthLimit||this.nextData.cnt>j4)&&(n=this.nextData.startx+e.margin+Ge.nextLinePaddingX,s=this.nextData.stopy+e.margin*2,this.nextData.stopx=i=n+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=o=s+e.height,this.nextData.cnt=1),e.x=n,e.y=s,this.updateVal(this.data,"startx",n,Math.min),this.updateVal(this.data,"starty",s,Math.min),this.updateVal(this.data,"stopx",i,Math.max),this.updateVal(this.data,"stopy",o,Math.max),this.updateVal(this.nextData,"startx",n,Math.min),this.updateVal(this.nextData,"starty",s,Math.min),this.updateVal(this.nextData,"stopx",i,Math.max),this.updateVal(this.nextData,"stopy",o,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},Nm(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}}const Nm=function(t){ci(Ge,t),t.fontFamily&&(Ge.personFontFamily=Ge.systemFontFamily=Ge.messageFontFamily=t.fontFamily),t.fontSize&&(Ge.personFontSize=Ge.systemFontSize=Ge.messageFontSize=t.fontSize),t.fontWeight&&(Ge.personFontWeight=Ge.systemFontWeight=Ge.messageFontWeight=t.fontWeight)},Hh=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),X1=t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),CB=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight});function Qs(t,e,n,i,s){if(!e[t].width)if(n)e[t].text=o4(e[t].text,s,i),e[t].textLines=e[t].text.split(_n.lineBreakRegex).length,e[t].width=s,e[t].height=hm(e[t].text,i);else{let o=e[t].text.split(_n.lineBreakRegex);e[t].textLines=o.length;let l=0;e[t].height=0,e[t].width=0;for(const u of o)e[t].width=Math.max(ba(u,i),e[t].width),l=hm(u,i),e[t].height=e[t].height+l}}const G4=function(t,e,n){e.x=n.data.startx,e.y=n.data.starty,e.width=n.data.stopx-n.data.startx,e.height=n.data.stopy-n.data.starty,e.label.y=Ge.c4ShapeMargin-35;let i=e.wrap&&Ge.wrap,s=X1(Ge);s.fontSize=s.fontSize+2,s.fontWeight="bold";let o=ba(e.label.text,s);Qs("label",e,i,s,o),wa.drawBoundary(t,e,Ge)},X4=function(t,e,n,i){let s=0;for(const o of i){s=0;const l=n[o];let u=Hh(Ge,l.typeC4Shape.text);switch(u.fontSize=u.fontSize-2,l.typeC4Shape.width=ba("<<"+l.typeC4Shape.text+">>",u),l.typeC4Shape.height=u.fontSize+2,l.typeC4Shape.Y=Ge.c4ShapePadding,s=l.typeC4Shape.Y+l.typeC4Shape.height-4,l.image={width:0,height:0,Y:0},l.typeC4Shape.text){case"person":case"external_person":l.image.width=48,l.image.height=48,l.image.Y=s,s=l.image.Y+l.image.height;break}l.sprite&&(l.image.width=48,l.image.height=48,l.image.Y=s,s=l.image.Y+l.image.height);let f=l.wrap&&Ge.wrap,g=Ge.width-Ge.c4ShapePadding*2,_=Hh(Ge,l.typeC4Shape.text);if(_.fontSize=_.fontSize+2,_.fontWeight="bold",Qs("label",l,f,_,g),l.label.Y=s+8,s=l.label.Y+l.label.height,l.type&&l.type.text!==""){l.type.text="["+l.type.text+"]";let x=Hh(Ge,l.typeC4Shape.text);Qs("type",l,f,x,g),l.type.Y=s+5,s=l.type.Y+l.type.height}else if(l.techn&&l.techn.text!==""){l.techn.text="["+l.techn.text+"]";let x=Hh(Ge,l.techn.text);Qs("techn",l,f,x,g),l.techn.Y=s+5,s=l.techn.Y+l.techn.height}let k=s,w=l.label.width;if(l.descr&&l.descr.text!==""){let x=Hh(Ge,l.typeC4Shape.text);Qs("descr",l,f,x,g),l.descr.Y=s+20,s=l.descr.Y+l.descr.height,w=Math.max(l.label.width,l.descr.width),k=s-l.descr.textLines*5}w=w+Ge.c4ShapePadding,l.width=Math.max(l.width||Ge.width,w,Ge.width),l.height=Math.max(l.height||Ge.height,k,Ge.height),l.margin=l.margin||Ge.c4ShapeMargin,t.insert(l),wa.drawC4Shape(e,l,Ge)}t.bumpLastMargin(Ge.c4ShapeMargin)};class Ts{constructor(e,n){this.x=e,this.y=n}}let K4=function(t,e){let n=t.x,i=t.y,s=e.x,o=e.y,l=n+t.width/2,u=i+t.height/2,f=Math.abs(n-s),g=Math.abs(i-o),_=g/f,k=t.height/t.width,w=null;return i==o&&n<s?w=new Ts(n+t.width,u):i==o&&n>s?w=new Ts(n,u):n==s&&i<o?w=new Ts(l,i+t.height):n==s&&i>o&&(w=new Ts(l,i)),n>s&&i<o?k>=_?w=new Ts(n,u+_*t.width/2):w=new Ts(l-f/g*t.height/2,i+t.height):n<s&&i<o?k>=_?w=new Ts(n+t.width,u+_*t.width/2):w=new Ts(l+f/g*t.height/2,i+t.height):n<s&&i>o?k>=_?w=new Ts(n+t.width,u-_*t.width/2):w=new Ts(l+t.height/2*f/g,i):n>s&&i>o&&(k>=_?w=new Ts(n,u-t.width/2*_):w=new Ts(l-t.height/2*f/g,i)),w},SB=function(t,e){let n={x:0,y:0};n.x=e.x+e.width/2,n.y=e.y+e.height/2;let i=K4(t,n);n.x=t.x+t.width/2,n.y=t.y+t.height/2;let s=K4(e,n);return{startPoint:i,endPoint:s}};const AB=function(t,e,n,i){let s=0;for(let o of e){s=s+1;let l=o.wrap&&Ge.wrap,u=CB(Ge);i.db.getC4Type()==="C4Dynamic"&&(o.label.text=s+": "+o.label.text);let g=ba(o.label.text,u);Qs("label",o,l,u,g),o.techn&&o.techn.text!==""&&(g=ba(o.techn.text,u),Qs("techn",o,l,u,g)),o.descr&&o.descr.text!==""&&(g=ba(o.descr.text,u),Qs("descr",o,l,u,g));let _=n(o.from),k=n(o.to),w=SB(_,k);o.startPoint=w.startPoint,o.endPoint=w.endPoint}wa.drawRels(t,e,Ge)};function Z4(t,e,n,i,s){let o=new q4(s);o.data.widthLimit=n.data.widthLimit/Math.min(Mm,i.length);for(let[l,u]of i.entries()){let f=0;u.image={width:0,height:0,Y:0},u.sprite&&(u.image.width=48,u.image.height=48,u.image.Y=f,f=u.image.Y+u.image.height);let g=u.wrap&&Ge.wrap,_=X1(Ge);if(_.fontSize=_.fontSize+2,_.fontWeight="bold",Qs("label",u,g,_,o.data.widthLimit),u.label.Y=f+8,f=u.label.Y+u.label.height,u.type&&u.type.text!==""){u.type.text="["+u.type.text+"]";let M=X1(Ge);Qs("type",u,g,M,o.data.widthLimit),u.type.Y=f+5,f=u.type.Y+u.type.height}if(u.descr&&u.descr.text!==""){let M=X1(Ge);M.fontSize=M.fontSize-2,Qs("descr",u,g,M,o.data.widthLimit),u.descr.Y=f+20,f=u.descr.Y+u.descr.height}if(l==0||l%Mm===0){let M=n.data.startx+Ge.diagramMarginX,R=n.data.stopy+Ge.diagramMarginY+f;o.setData(M,M,R,R)}else{let M=o.data.stopx!==o.data.startx?o.data.stopx+Ge.diagramMarginX:o.data.startx,R=o.data.starty;o.setData(M,M,R,R)}o.name=u.alias;let k=s.db.getC4ShapeArray(u.alias),w=s.db.getC4ShapeKeys(u.alias);w.length>0&&X4(o,t,k,w),e=u.alias;let x=s.db.getBoundarys(e);x.length>0&&Z4(t,e,o,x,s),u.alias!=="global"&&G4(t,u,o),n.data.stopy=Math.max(o.data.stopy+Ge.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(o.data.stopx+Ge.c4ShapeMargin,n.data.stopx),q1=Math.max(q1,n.data.stopx),G1=Math.max(G1,n.data.stopy)}}const Q4={drawPersonOrSystemArray:X4,drawBoundary:G4,setConf:Nm,draw:function(t,e,n,i){Ge=ht().c4;const s=ht().securityLevel;let o;s==="sandbox"&&(o=re("#i"+e));const l=re(s==="sandbox"?o.nodes()[0].contentDocument.body:"body");let u=i.db;i.db.setWrap(Ge.wrap),j4=u.getC4ShapeInRow(),Mm=u.getC4BoundaryInRow(),C.debug(`C:${JSON.stringify(Ge,null,2)}`);const f=s==="sandbox"?l.select(`[id="${e}"]`):re(`[id="${e}"]`);wa.insertComputerIcon(f),wa.insertDatabaseIcon(f),wa.insertClockIcon(f);let g=new q4(i);g.setData(Ge.diagramMarginX,Ge.diagramMarginX,Ge.diagramMarginY,Ge.diagramMarginY),g.data.widthLimit=screen.availWidth,q1=Ge.diagramMarginX,G1=Ge.diagramMarginY;const _=i.db.getTitle();let k=i.db.getBoundarys("");Z4(f,"",g,k,i),wa.insertArrowHead(f),wa.insertArrowEnd(f),wa.insertArrowCrossHead(f),wa.insertArrowFilledHead(f),AB(f,i.db.getRels(),i.db.getC4Shape,i),g.data.stopx=q1,g.data.stopy=G1;const w=g.data;let M=w.stopy-w.starty+2*Ge.diagramMarginY;const B=w.stopx-w.startx+2*Ge.diagramMarginX;_&&f.append("text").text(_).attr("x",(w.stopx-w.startx)/2-4*Ge.diagramMarginX).attr("y",w.starty+Ge.diagramMarginY),Ws(f,M,B,Ge.useMaxWidth);const U=_?60:0;f.attr("viewBox",w.startx-Ge.diagramMarginX+" -"+(Ge.diagramMarginY+U)+" "+B+" "+(M+U)),C.debug("models:",w)}};var Om=function(){var t=function(Z,G,z,yt){for(z=z||{},yt=Z.length;yt--;z[Z[yt]]=G);return z},e=[1,3],n=[1,7],i=[1,8],s=[1,9],o=[1,10],l=[1,13],u=[1,12],f=[1,16,25],g=[1,20],_=[1,32],k=[1,33],w=[1,34],x=[1,36],M=[1,39],R=[1,37],B=[1,38],U=[1,44],Y=[1,45],X=[1,40],Q=[1,41],at=[1,42],lt=[1,43],J=[1,48],ot=[1,49],q=[1,50],H=[1,51],$=[16,25],O=[1,65],W=[1,66],A=[1,67],mt=[1,68],I=[1,69],It=[1,70],le=[1,71],qt=[1,80],ut=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],St=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],bt=[5,8,9,10,11,16,19,23,25],kt=[54,88,89,90,91],Lt=[54,65,66,88,89,90,91],Ht=[54,60,61,62,63,64,88,89,90,91],pt=[16,25,32],_e=[1,107],tt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(G,z,yt,P,Nt,nt,Ee){var vt=nt.length-1;switch(Nt){case 5:P.setDirection("TB");break;case 6:P.setDirection("BT");break;case 7:P.setDirection("RL");break;case 8:P.setDirection("LR");break;case 12:P.parseDirective("%%{","open_directive");break;case 13:P.parseDirective(nt[vt],"type_directive");break;case 14:nt[vt]=nt[vt].trim().replace(/'/g,'"'),P.parseDirective(nt[vt],"arg_directive");break;case 15:P.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=nt[vt];break;case 22:this.$=nt[vt-1]+nt[vt];break;case 23:case 24:this.$=nt[vt-1]+"~"+nt[vt];break;case 25:P.addRelation(nt[vt]);break;case 26:nt[vt-1].title=P.cleanupLabel(nt[vt]),P.addRelation(nt[vt-1]);break;case 35:this.$=nt[vt].trim(),P.setAccTitle(this.$);break;case 36:case 37:this.$=nt[vt].trim(),P.setAccDescription(this.$);break;case 38:P.addClass(nt[vt]);break;case 39:P.addClass(nt[vt-2]),P.setCssClass(nt[vt-2],nt[vt]);break;case 40:P.addClass(nt[vt-3]),P.addMembers(nt[vt-3],nt[vt-1]);break;case 41:P.addClass(nt[vt-5]),P.setCssClass(nt[vt-5],nt[vt-3]),P.addMembers(nt[vt-5],nt[vt-1]);break;case 42:P.addAnnotation(nt[vt],nt[vt-2]);break;case 43:this.$=[nt[vt]];break;case 44:nt[vt].push(nt[vt-1]),this.$=nt[vt];break;case 45:break;case 46:P.addMember(nt[vt-1],P.cleanupLabel(nt[vt]));break;case 47:break;case 48:break;case 49:this.$={id1:nt[vt-2],id2:nt[vt],relation:nt[vt-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:nt[vt-3],id2:nt[vt],relation:nt[vt-1],relationTitle1:nt[vt-2],relationTitle2:"none"};break;case 51:this.$={id1:nt[vt-3],id2:nt[vt],relation:nt[vt-2],relationTitle1:"none",relationTitle2:nt[vt-1]};break;case 52:this.$={id1:nt[vt-4],id2:nt[vt],relation:nt[vt-2],relationTitle1:nt[vt-3],relationTitle2:nt[vt-1]};break;case 53:P.addNote(nt[vt],nt[vt-1]);break;case 54:P.addNote(nt[vt]);break;case 55:this.$={type1:nt[vt-2],type2:nt[vt],lineType:nt[vt-1]};break;case 56:this.$={type1:"none",type2:nt[vt],lineType:nt[vt-1]};break;case 57:this.$={type1:nt[vt-1],type2:"none",lineType:nt[vt]};break;case 58:this.$={type1:"none",type2:"none",lineType:nt[vt]};break;case 59:this.$=P.relationType.AGGREGATION;break;case 60:this.$=P.relationType.EXTENSION;break;case 61:this.$=P.relationType.COMPOSITION;break;case 62:this.$=P.relationType.DEPENDENCY;break;case 63:this.$=P.relationType.LOLLIPOP;break;case 64:this.$=P.lineType.LINE;break;case 65:this.$=P.lineType.DOTTED_LINE;break;case 66:case 72:this.$=nt[vt-2],P.setClickEvent(nt[vt-1],nt[vt]);break;case 67:case 73:this.$=nt[vt-3],P.setClickEvent(nt[vt-2],nt[vt-1]),P.setTooltip(nt[vt-2],nt[vt]);break;case 68:case 76:this.$=nt[vt-2],P.setLink(nt[vt-1],nt[vt]);break;case 69:this.$=nt[vt-3],P.setLink(nt[vt-2],nt[vt-1],nt[vt]);break;case 70:case 78:this.$=nt[vt-3],P.setLink(nt[vt-2],nt[vt-1]),P.setTooltip(nt[vt-2],nt[vt]);break;case 71:case 79:this.$=nt[vt-4],P.setLink(nt[vt-3],nt[vt-2],nt[vt]),P.setTooltip(nt[vt-3],nt[vt-1]);break;case 74:this.$=nt[vt-3],P.setClickEvent(nt[vt-2],nt[vt-1],nt[vt]);break;case 75:this.$=nt[vt-4],P.setClickEvent(nt[vt-3],nt[vt-2],nt[vt-1]),P.setTooltip(nt[vt-3],nt[vt]);break;case 77:this.$=nt[vt-3],P.setLink(nt[vt-2],nt[vt-1],nt[vt]);break;case 80:P.setCssClass(nt[vt-1],nt[vt]);break}},table:[{3:1,4:2,5:e,6:4,7:5,8:n,9:i,10:s,11:o,12:6,13:11,19:l,23:u},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:e,6:4,7:5,8:n,9:i,10:s,11:o,12:6,13:11,19:l,23:u},{1:[2,9]},t(f,[2,5]),t(f,[2,6]),t(f,[2,7]),t(f,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:g},t([17,22],[2,13]),{6:31,7:30,8:n,9:i,10:s,11:o,13:11,19:l,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:_,41:k,43:w,44:x,49:M,51:R,52:B,55:U,57:Y,67:X,68:Q,70:at,74:lt,88:J,89:ot,90:q,91:H},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},t($,[2,25],{32:[1,57]}),t($,[2,27]),t($,[2,28]),t($,[2,29]),t($,[2,30]),t($,[2,31]),t($,[2,32]),t($,[2,33]),t($,[2,34]),{40:[1,58]},{42:[1,59]},t($,[2,37]),t($,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:O,61:W,62:A,63:mt,64:I,65:It,66:le}),{27:72,28:46,29:47,88:J,89:ot,90:q,91:H},t($,[2,47]),t($,[2,48]),{28:73,88:J,89:ot,90:q},{27:74,28:46,29:47,88:J,89:ot,90:q,91:H},{27:75,28:46,29:47,88:J,89:ot,90:q,91:H},{27:76,28:46,29:47,88:J,89:ot,90:q,91:H},{54:[1,77]},{27:78,28:46,29:47,88:J,89:ot,90:q,91:H},{54:qt,56:79},t(ut,[2,20],{28:46,29:47,27:81,30:[1,82],88:J,89:ot,90:q,91:H}),t(ut,[2,21],{30:[1,83]}),t(St,[2,94]),t(St,[2,95]),t(St,[2,96]),t([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),t(bt,[2,10]),{15:84,22:g},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:n,9:i,10:s,11:o,13:11,19:l,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:_,41:k,43:w,44:x,49:M,51:R,52:B,55:U,57:Y,67:X,68:Q,70:at,74:lt,88:J,89:ot,90:q,91:H},t($,[2,26]),t($,[2,35]),t($,[2,36]),{27:86,28:46,29:47,54:[1,87],88:J,89:ot,90:q,91:H},{53:88,58:63,59:64,60:O,61:W,62:A,63:mt,64:I,65:It,66:le},t($,[2,46]),{59:89,65:It,66:le},t(kt,[2,58],{58:90,60:O,61:W,62:A,63:mt,64:I}),t(Lt,[2,59]),t(Lt,[2,60]),t(Lt,[2,61]),t(Lt,[2,62]),t(Lt,[2,63]),t(Ht,[2,64]),t(Ht,[2,65]),t($,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:J,89:ot,90:q},{54:qt,56:99},t($,[2,54]),t($,[2,98]),t(ut,[2,22]),t(ut,[2,23]),t(ut,[2,24]),{16:[1,100]},{25:[2,19]},t(pt,[2,49]),{27:101,28:46,29:47,88:J,89:ot,90:q,91:H},{27:102,28:46,29:47,54:[1,103],88:J,89:ot,90:q,91:H},t(kt,[2,57],{58:104,60:O,61:W,62:A,63:mt,64:I}),t(kt,[2,56]),{28:105,88:J,89:ot,90:q},{47:106,51:_e},{27:108,28:46,29:47,88:J,89:ot,90:q,91:H},t($,[2,66],{54:[1,109]}),t($,[2,68],{54:[1,111],69:[1,110]}),t($,[2,72],{54:[1,112],72:[1,113]}),t($,[2,76],{54:[1,115],69:[1,114]}),t($,[2,80]),t($,[2,53]),t(bt,[2,11]),t(pt,[2,51]),t(pt,[2,50]),{27:116,28:46,29:47,88:J,89:ot,90:q,91:H},t(kt,[2,55]),t($,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:_e},t($,[2,42]),t($,[2,67]),t($,[2,69]),t($,[2,70],{69:[1,120]}),t($,[2,73]),t($,[2,74],{54:[1,121]}),t($,[2,77]),t($,[2,78],{69:[1,122]}),t(pt,[2,52]),{47:123,51:_e},t($,[2,40]),{48:[2,44]},t($,[2,71]),t($,[2,75]),t($,[2,79]),{48:[1,124]},t($,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(G,z){if(z.recoverable)this.trace(G);else{var yt=new Error(G);throw yt.hash=z,yt}},parse:function(G){var z=this,yt=[0],P=[],Nt=[null],nt=[],Ee=this.table,vt="",fe=0,Zt=0,Pt=2,Qt=1,Gt=nt.slice.call(arguments,1),Bt=Object.create(this.lexer),xt={yy:{}};for(var pn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,pn)&&(xt.yy[pn]=this.yy[pn]);Bt.setInput(G,xt.yy),xt.yy.lexer=Bt,xt.yy.parser=this,typeof Bt.yylloc>"u"&&(Bt.yylloc={});var We=Bt.yylloc;nt.push(We);var ze=Bt.options&&Bt.options.ranges;typeof xt.yy.parseError=="function"?this.parseError=xt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function qe(){var Et;return Et=P.pop()||Bt.lex()||Qt,typeof Et!="number"&&(Et instanceof Array&&(P=Et,Et=P.pop()),Et=z.symbols_[Et]||Et),Et}for(var Ve,Hn,Re,Ce,we={},Wt,Dt,oe,zt;;){if(Hn=yt[yt.length-1],this.defaultActions[Hn]?Re=this.defaultActions[Hn]:((Ve===null||typeof Ve>"u")&&(Ve=qe()),Re=Ee[Hn]&&Ee[Hn][Ve]),typeof Re>"u"||!Re.length||!Re[0]){var Se="";zt=[];for(Wt in Ee[Hn])this.terminals_[Wt]&&Wt>Pt&&zt.push("'"+this.terminals_[Wt]+"'");Bt.showPosition?Se="Parse error on line "+(fe+1)+`:
`+Bt.showPosition()+`
Expecting `+zt.join(", ")+", got '"+(this.terminals_[Ve]||Ve)+"'":Se="Parse error on line "+(fe+1)+": Unexpected "+(Ve==Qt?"end of input":"'"+(this.terminals_[Ve]||Ve)+"'"),this.parseError(Se,{text:Bt.match,token:this.terminals_[Ve]||Ve,line:Bt.yylineno,loc:We,expected:zt})}if(Re[0]instanceof Array&&Re.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Hn+", token: "+Ve);switch(Re[0]){case 1:yt.push(Ve),Nt.push(Bt.yytext),nt.push(Bt.yylloc),yt.push(Re[1]),Ve=null,Zt=Bt.yyleng,vt=Bt.yytext,fe=Bt.yylineno,We=Bt.yylloc;break;case 2:if(Dt=this.productions_[Re[1]][1],we.$=Nt[Nt.length-Dt],we._$={first_line:nt[nt.length-(Dt||1)].first_line,last_line:nt[nt.length-1].last_line,first_column:nt[nt.length-(Dt||1)].first_column,last_column:nt[nt.length-1].last_column},ze&&(we._$.range=[nt[nt.length-(Dt||1)].range[0],nt[nt.length-1].range[1]]),Ce=this.performAction.apply(we,[vt,Zt,fe,xt.yy,Re[1],Nt,nt].concat(Gt)),typeof Ce<"u")return Ce;Dt&&(yt=yt.slice(0,-1*Dt*2),Nt=Nt.slice(0,-1*Dt),nt=nt.slice(0,-1*Dt)),yt.push(this.productions_[Re[1]][0]),Nt.push(we.$),nt.push(we._$),oe=Ee[yt[yt.length-2]][yt[yt.length-1]],yt.push(oe);break;case 3:return!0}}return!0}},st=function(){var Z={EOF:1,parseError:function(z,yt){if(this.yy.parser)this.yy.parser.parseError(z,yt);else throw new Error(z)},setInput:function(G,z){return this.yy=z||this.yy||{},this._input=G,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var G=this._input[0];this.yytext+=G,this.yyleng++,this.offset++,this.match+=G,this.matched+=G;var z=G.match(/(?:\r\n?|\n).*/g);return z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),G},unput:function(G){var z=G.length,yt=G.split(/(?:\r\n?|\n)/g);this._input=G+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-z),this.offset-=z;var P=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),yt.length-1&&(this.yylineno-=yt.length-1);var Nt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:yt?(yt.length===P.length?this.yylloc.first_column:0)+P[P.length-yt.length].length-yt[0].length:this.yylloc.first_column-z},this.options.ranges&&(this.yylloc.range=[Nt[0],Nt[0]+this.yyleng-z]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(G){this.unput(this.match.slice(G))},pastInput:function(){var G=this.matched.substr(0,this.matched.length-this.match.length);return(G.length>20?"...":"")+G.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var G=this.match;return G.length<20&&(G+=this._input.substr(0,20-G.length)),(G.substr(0,20)+(G.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var G=this.pastInput(),z=new Array(G.length+1).join("-");return G+this.upcomingInput()+`
`+z+"^"},test_match:function(G,z){var yt,P,Nt;if(this.options.backtrack_lexer&&(Nt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Nt.yylloc.range=this.yylloc.range.slice(0))),P=G[0].match(/(?:\r\n?|\n).*/g),P&&(this.yylineno+=P.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:P?P[P.length-1].length-P[P.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+G[0].length},this.yytext+=G[0],this.match+=G[0],this.matches=G,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(G[0].length),this.matched+=G[0],yt=this.performAction.call(this,this.yy,this,z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),yt)return yt;if(this._backtrack){for(var nt in Nt)this[nt]=Nt[nt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var G,z,yt,P;this._more||(this.yytext="",this.match="");for(var Nt=this._currentRules(),nt=0;nt<Nt.length;nt++)if(yt=this._input.match(this.rules[Nt[nt]]),yt&&(!z||yt[0].length>z[0].length)){if(z=yt,P=nt,this.options.backtrack_lexer){if(G=this.test_match(yt,Nt[nt]),G!==!1)return G;if(this._backtrack){z=!1;continue}else return!1}else if(!this.options.flex)break}return z?(G=this.test_match(z,Nt[P]),G!==!1?G:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var z=this.next();return z||this.lex()},begin:function(z){this.conditionStack.push(z)},popState:function(){var z=this.conditionStack.length-1;return z>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(z){return z=this.conditionStack.length-1-Math.abs(z||0),z>=0?this.conditionStack[z]:"INITIAL"},pushState:function(z){this.begin(z)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(z,yt,P,Nt){switch(P){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 27:break;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 39:this.popState();break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 42:this.popState();break;case 43:return"STR";case 44:this.begin("bqstring");break;case 45:this.popState();break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 48:this.popState();break;case 49:return 73;case 50:this.begin("callback_name");break;case 51:this.popState();break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 54:this.popState();break;case 55:return 72;case 56:return 69;case 57:return 69;case 58:return 69;case 59:return 69;case 60:return 61;case 61:return 61;case 62:return 63;case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:return"EQUALS";case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};return Z}();tt.lexer=st;function dt(){this.yy={}}return dt.prototype=tt,tt.Parser=dt,new dt}();Om.parser=Om;const J4=Om,LB=(t,e)=>{var n;return((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*classDiagram/)!==null},IB=(t,e)=>{var n;return t.match(/^\s*classDiagram/)!==null&&((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:t.match(/^\s*classDiagram-v2/)!==null},Dm="classid-";let Rm=[],Fr={},K1=[],t3=0,Wh=[];const jh=t=>_n.sanitizeText(t,ht()),MB=function(t,e,n){Sr.parseDirective(this,t,e,n)},qh=function(t){let e="",n=t;if(t.indexOf("~")>0){let i=t.split("~");n=i[0],e=_n.sanitizeText(i[1],ht())}return{className:n,type:e}},Bm=function(t){let e=qh(t);Fr[e.className]===void 0&&(Fr[e.className]={id:e.className,type:e.type,cssClasses:[],methods:[],members:[],annotations:[],domId:Dm+e.className+"-"+t3},t3++)},e3=function(t){const e=Object.keys(Fr);for(const n of e)if(Fr[n].id===t)return Fr[n].domId},NB=function(){Rm=[],Fr={},K1=[],Wh=[],Wh.push(r3),js()},OB=function(t){return Fr[t]},DB=function(){return Fr},RB=function(){return Rm},BB=function(){return K1},PB=function(t){C.debug("Adding relation: "+JSON.stringify(t)),Bm(t.id1),Bm(t.id2),t.id1=qh(t.id1).className,t.id2=qh(t.id2).className,t.relationTitle1=_n.sanitizeText(t.relationTitle1.trim(),ht()),t.relationTitle2=_n.sanitizeText(t.relationTitle2.trim(),ht()),Rm.push(t)},FB=function(t,e){const n=qh(t).className;Fr[n].annotations.push(e)},n3=function(t,e){const n=qh(t).className,i=Fr[n];if(typeof e=="string"){const s=e.trim();s.startsWith("<<")&&s.endsWith(">>")?i.annotations.push(jh(s.substring(2,s.length-2))):s.indexOf(")")>0?i.methods.push(jh(s)):s&&i.members.push(jh(s))}},VB=function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach(n=>n3(t,n)))},YB=function(t,e){const n={id:`note${K1.length}`,class:e,text:t};K1.push(n)},$B=function(t){return t.substring(0,1)===":"?_n.sanitizeText(t.substr(1).trim(),ht()):jh(t.trim())},Pm=function(t,e){t.split(",").forEach(function(n){let i=n;n[0].match(/\d/)&&(i=Dm+i),Fr[i]!==void 0&&Fr[i].cssClasses.push(e)})},UB=function(t,e){const n=ht();t.split(",").forEach(function(i){e!==void 0&&(Fr[i].tooltip=_n.sanitizeText(e,n))})},zB=function(t){return Fr[t].tooltip},HB=function(t,e,n){const i=ht();t.split(",").forEach(function(s){let o=s;s[0].match(/\d/)&&(o=Dm+o),Fr[o]!==void 0&&(Fr[o].link=Tn.formatUrl(e,i),i.securityLevel==="sandbox"?Fr[o].linkTarget="_top":typeof n=="string"?Fr[o].linkTarget=jh(n):Fr[o].linkTarget="_blank")}),Pm(t,"clickable")},WB=function(t,e,n){t.split(",").forEach(function(i){jB(i,e,n),Fr[i].haveCallback=!0}),Pm(t,"clickable")},jB=function(t,e,n){const i=ht();let s=t,o=e3(s);if(i.securityLevel==="loose"&&e!==void 0&&Fr[s]!==void 0){let l=[];if(typeof n=="string"){l=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let u=0;u<l.length;u++){let f=l[u].trim();f.charAt(0)==='"'&&f.charAt(f.length-1)==='"'&&(f=f.substr(1,f.length-2)),l[u]=f}}l.length===0&&l.push(o),Wh.push(function(){const u=document.querySelector(`[id="${o}"]`);u!==null&&u.addEventListener("click",function(){Tn.runFunc(e,...l)},!1)})}},qB=function(t){Wh.forEach(function(e){e(t)})},GB={LINE:0,DOTTED_LINE:1},XB={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},r3=function(t){let e=re(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=re("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),re(t).select("svg").selectAll("g.node").on("mouseover",function(){const s=re(this);if(s.attr("title")===null)return;const l=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(s.attr("title")).style("left",window.scrollX+l.left+(l.right-l.left)/2+"px").style("top",window.scrollY+l.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),s.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),re(this).classed("hover",!1)})};Wh.push(r3);let i3="TB";const gu={parseDirective:MB,setAccTitle:xs,getAccTitle:qs,getAccDescription:Xs,setAccDescription:Gs,getConfig:()=>ht().class,addClass:Bm,bindFunctions:qB,clear:NB,getClass:OB,getClasses:DB,getNotes:BB,addAnnotation:FB,addNote:YB,getRelations:RB,addRelation:PB,getDirection:()=>i3,setDirection:t=>{i3=t},addMember:n3,addMembers:VB,cleanupLabel:$B,lineType:GB,relationType:XB,setClickEvent:WB,setCssClass:Pm,setLink:HB,getTooltip:zB,setTooltip:UB,lookUpDomId:e3,setDiagramTitle:Za,getDiagramTitle:Qa};function xa(t){return t!=null&&typeof t=="object"}var KB="[object Symbol]";function Ul(t){return typeof t=="symbol"||xa(t)&&Dl(t)==KB}function mu(t,e){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=e(t[n],n,t);return s}var ZB=Array.isArray;const Wr=ZB;var QB=1/0,s3=ks?ks.prototype:void 0,a3=s3?s3.toString:void 0;function o3(t){if(typeof t=="string")return t;if(Wr(t))return mu(t,o3)+"";if(Ul(t))return a3?a3.call(t):"";var e=t+"";return e=="0"&&1/t==-QB?"-0":e}var JB=/\s/;function tP(t){for(var e=t.length;e--&&JB.test(t.charAt(e)););return e}var eP=/^\s+/;function nP(t){return t&&t.slice(0,tP(t)+1).replace(eP,"")}var l3=0/0,rP=/^[-+]0x[0-9a-f]+$/i,iP=/^0b[01]+$/i,sP=/^0o[0-7]+$/i,aP=parseInt;function oP(t){if(typeof t=="number")return t;if(Ul(t))return l3;if(rs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=rs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=nP(t);var n=iP.test(t);return n||sP.test(t)?aP(t.slice(2),n?2:8):rP.test(t)?l3:+t}var c3=1/0,lP=17976931348623157e292;function Z1(t){if(!t)return t===0?t:0;if(t=oP(t),t===c3||t===-c3){var e=t<0?-1:1;return e*lP}return t===t?t:0}function cP(t){var e=Z1(t),n=e%1;return e===e?n?e-n:e:0}function zl(t){return t}var uP=Bl(Us,"WeakMap");const Fm=uP;var u3=Object.create,hP=function(){function t(){}return function(e){if(!rs(e))return{};if(u3)return u3(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const dP=hP;function fP(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function pP(){}function h3(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var gP=800,mP=16,yP=Date.now;function _P(t){var e=0,n=0;return function(){var i=yP(),s=mP-(i-n);if(n=i,s>0){if(++e>=gP)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function yu(t){return function(){return t}}var vP=function(){try{var t=Bl(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Q1=vP;var bP=Q1?function(t,e){return Q1(t,"toString",{configurable:!0,enumerable:!1,value:yu(e),writable:!0})}:zl,kP=_P(bP);const d3=kP;function f3(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function p3(t,e,n,i){for(var s=t.length,o=n+(i?1:-1);i?o--:++o<s;)if(e(t[o],o,t))return o;return-1}function wP(t){return t!==t}function xP(t,e,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===e)return i;return-1}function TP(t,e,n){return e===e?xP(t,e,n):p3(t,wP,n)}function EP(t,e){var n=t==null?0:t.length;return!!n&&TP(t,e,0)>-1}var CP=9007199254740991,SP=/^(?:0|[1-9]\d*)$/;function J1(t,e){var n=typeof t;return e=e??CP,!!e&&(n=="number"||n!="symbol"&&SP.test(t))&&t>-1&&t%1==0&&t<e}function tp(t,e,n){e=="__proto__"&&Q1?Q1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var AP=Object.prototype,LP=AP.hasOwnProperty;function ep(t,e,n){var i=t[e];(!(LP.call(t,e)&&cu(i,n))||n===void 0&&!(e in t))&&tp(t,e,n)}function Gh(t,e,n,i){var s=!n;n||(n={});for(var o=-1,l=e.length;++o<l;){var u=e[o],f=i?i(n[u],t[u],u,n,t):void 0;f===void 0&&(f=t[u]),s?tp(n,u,f):ep(n,u,f)}return n}var g3=Math.max;function m3(t,e,n){return e=g3(e===void 0?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=g3(i.length-e,0),l=Array(o);++s<o;)l[s]=i[e+s];s=-1;for(var u=Array(e+1);++s<e;)u[s]=i[s];return u[e]=n(l),fP(t,this,u)}}function np(t,e){return d3(m3(t,e,zl),t+"")}var IP=9007199254740991;function Vm(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=IP}function qo(t){return t!=null&&Vm(t.length)&&!lu(t)}function Xh(t,e,n){if(!rs(n))return!1;var i=typeof e;return(i=="number"?qo(n)&&J1(e,n.length):i=="string"&&e in n)?cu(n[e],t):!1}function MP(t){return np(function(e,n){var i=-1,s=n.length,o=s>1?n[s-1]:void 0,l=s>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):void 0,l&&Xh(n[0],n[1],l)&&(o=s<3?void 0:o,s=1),e=Object(e);++i<s;){var u=n[i];u&&t(e,u,i,o)}return e})}var NP=Object.prototype;function rp(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||NP;return t===n}function OP(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var DP="[object Arguments]";function y3(t){return xa(t)&&Dl(t)==DP}var _3=Object.prototype,RP=_3.hasOwnProperty,BP=_3.propertyIsEnumerable,PP=y3(function(){return arguments}())?y3:function(t){return xa(t)&&RP.call(t,"callee")&&!BP.call(t,"callee")};const _u=PP;function FP(){return!1}var v3=a&&!a.nodeType&&a,b3=v3&&!0&&r&&!r.nodeType&&r,VP=b3&&b3.exports===v3,k3=VP?Us.Buffer:void 0,YP=k3?k3.isBuffer:void 0,$P=YP||FP;const vu=$P;var UP="[object Arguments]",zP="[object Array]",HP="[object Boolean]",WP="[object Date]",jP="[object Error]",qP="[object Function]",GP="[object Map]",XP="[object Number]",KP="[object Object]",ZP="[object RegExp]",QP="[object Set]",JP="[object String]",tF="[object WeakMap]",eF="[object ArrayBuffer]",nF="[object DataView]",rF="[object Float32Array]",iF="[object Float64Array]",sF="[object Int8Array]",aF="[object Int16Array]",oF="[object Int32Array]",lF="[object Uint8Array]",cF="[object Uint8ClampedArray]",uF="[object Uint16Array]",hF="[object Uint32Array]",br={};br[rF]=br[iF]=br[sF]=br[aF]=br[oF]=br[lF]=br[cF]=br[uF]=br[hF]=!0,br[UP]=br[zP]=br[eF]=br[HP]=br[nF]=br[WP]=br[jP]=br[qP]=br[GP]=br[XP]=br[KP]=br[ZP]=br[QP]=br[JP]=br[tF]=!1;function dF(t){return xa(t)&&Vm(t.length)&&!!br[Dl(t)]}function ip(t){return function(e){return t(e)}}var w3=a&&!a.nodeType&&a,Kh=w3&&!0&&r&&!r.nodeType&&r,fF=Kh&&Kh.exports===w3,Ym=fF&&Jk.process,pF=function(){try{var t=Kh&&Kh.require&&Kh.require("util").types;return t||Ym&&Ym.binding&&Ym.binding("util")}catch{}}();const bu=pF;var x3=bu&&bu.isTypedArray,gF=x3?ip(x3):dF;const sp=gF;var mF=Object.prototype,yF=mF.hasOwnProperty;function T3(t,e){var n=Wr(t),i=!n&&_u(t),s=!n&&!i&&vu(t),o=!n&&!i&&!s&&sp(t),l=n||i||s||o,u=l?OP(t.length,String):[],f=u.length;for(var g in t)(e||yF.call(t,g))&&!(l&&(g=="length"||s&&(g=="offset"||g=="parent")||o&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||J1(g,f)))&&u.push(g);return u}function E3(t,e){return function(n){return t(e(n))}}var _F=E3(Object.keys,Object);const vF=_F;var bF=Object.prototype,kF=bF.hasOwnProperty;function C3(t){if(!rp(t))return vF(t);var e=[];for(var n in Object(t))kF.call(t,n)&&n!="constructor"&&e.push(n);return e}function ss(t){return qo(t)?T3(t):C3(t)}function wF(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var xF=Object.prototype,TF=xF.hasOwnProperty;function EF(t){if(!rs(t))return wF(t);var e=rp(t),n=[];for(var i in t)i=="constructor"&&(e||!TF.call(t,i))||n.push(i);return n}function Hl(t){return qo(t)?T3(t,!0):EF(t)}var CF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,SF=/^\w*$/;function $m(t,e){if(Wr(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ul(t)?!0:SF.test(t)||!CF.test(t)||e!=null&&t in Object(e)}var AF=500;function LF(t){var e=uu(t,function(i){return n.size===AF&&n.clear(),i}),n=e.cache;return e}var IF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,MF=/\\(\\)?/g,NF=LF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(IF,function(n,i,s,o){e.push(s?o.replace(MF,"$1"):i||n)}),e});const OF=NF;function S3(t){return t==null?"":o3(t)}function ap(t,e){return Wr(t)?t:$m(t,e)?[t]:OF(S3(t))}var DF=1/0;function Zh(t){if(typeof t=="string"||Ul(t))return t;var e=t+"";return e=="0"&&1/t==-DF?"-0":e}function op(t,e){e=ap(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[Zh(e[n++])];return n&&n==i?t:void 0}function RF(t,e,n){var i=t==null?void 0:op(t,e);return i===void 0?n:i}function Um(t,e){for(var n=-1,i=e.length,s=t.length;++n<i;)t[s+n]=e[n];return t}var A3=ks?ks.isConcatSpreadable:void 0;function BF(t){return Wr(t)||_u(t)||!!(A3&&t&&t[A3])}function lp(t,e,n,i,s){var o=-1,l=t.length;for(n||(n=BF),s||(s=[]);++o<l;){var u=t[o];e>0&&n(u)?e>1?lp(u,e-1,n,i,s):Um(s,u):i||(s[s.length]=u)}return s}function ku(t){var e=t==null?0:t.length;return e?lp(t,1):[]}function PF(t){return d3(m3(t,void 0,ku),t+"")}var FF=E3(Object.getPrototypeOf,Object);const zm=FF;var VF="[object Object]",YF=Function.prototype,$F=Object.prototype,L3=YF.toString,UF=$F.hasOwnProperty,zF=L3.call(Object);function I3(t){if(!xa(t)||Dl(t)!=VF)return!1;var e=zm(t);if(e===null)return!0;var n=UF.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&L3.call(n)==zF}function HF(t,e,n,i){var s=-1,o=t==null?0:t.length;for(i&&o&&(n=t[++s]);++s<o;)n=e(n,t[s],s,t);return n}function WF(){this.__data__=new Xa,this.size=0}function jF(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function qF(t){return this.__data__.get(t)}function GF(t){return this.__data__.has(t)}var XF=200;function KF(t,e){var n=this.__data__;if(n instanceof Xa){var i=n.__data__;if(!Dh||i.length<XF-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ka(i)}return n.set(t,e),this.size=n.size,this}function Js(t){var e=this.__data__=new Xa(t);this.size=e.size}Js.prototype.clear=WF,Js.prototype.delete=jF,Js.prototype.get=qF,Js.prototype.has=GF,Js.prototype.set=KF;function ZF(t,e){return t&&Gh(e,ss(e),t)}function QF(t,e){return t&&Gh(e,Hl(e),t)}var M3=a&&!a.nodeType&&a,N3=M3&&!0&&r&&!r.nodeType&&r,JF=N3&&N3.exports===M3,O3=JF?Us.Buffer:void 0,D3=O3?O3.allocUnsafe:void 0;function R3(t,e){if(e)return t.slice();var n=t.length,i=D3?D3(n):new t.constructor(n);return t.copy(i),i}function B3(t,e){for(var n=-1,i=t==null?0:t.length,s=0,o=[];++n<i;){var l=t[n];e(l,n,t)&&(o[s++]=l)}return o}function P3(){return[]}var tV=Object.prototype,eV=tV.propertyIsEnumerable,F3=Object.getOwnPropertySymbols,nV=F3?function(t){return t==null?[]:(t=Object(t),B3(F3(t),function(e){return eV.call(t,e)}))}:P3;const Hm=nV;function rV(t,e){return Gh(t,Hm(t),e)}var iV=Object.getOwnPropertySymbols,sV=iV?function(t){for(var e=[];t;)Um(e,Hm(t)),t=zm(t);return e}:P3;const V3=sV;function aV(t,e){return Gh(t,V3(t),e)}function Y3(t,e,n){var i=e(t);return Wr(t)?i:Um(i,n(t))}function Wm(t){return Y3(t,ss,Hm)}function oV(t){return Y3(t,Hl,V3)}var lV=Bl(Us,"DataView");const jm=lV;var cV=Bl(Us,"Promise");const qm=cV;var uV=Bl(Us,"Set");const wu=uV;var $3="[object Map]",hV="[object Object]",U3="[object Promise]",z3="[object Set]",H3="[object WeakMap]",W3="[object DataView]",dV=Rl(jm),fV=Rl(Dh),pV=Rl(qm),gV=Rl(wu),mV=Rl(Fm),Wl=Dl;(jm&&Wl(new jm(new ArrayBuffer(1)))!=W3||Dh&&Wl(new Dh)!=$3||qm&&Wl(qm.resolve())!=U3||wu&&Wl(new wu)!=z3||Fm&&Wl(new Fm)!=H3)&&(Wl=function(t){var e=Dl(t),n=e==hV?t.constructor:void 0,i=n?Rl(n):"";if(i)switch(i){case dV:return W3;case fV:return $3;case pV:return U3;case gV:return z3;case mV:return H3}return e});const xu=Wl;var yV=Object.prototype,_V=yV.hasOwnProperty;function vV(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&_V.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var bV=Us.Uint8Array;const cp=bV;function Gm(t){var e=new t.constructor(t.byteLength);return new cp(e).set(new cp(t)),e}function kV(t,e){var n=e?Gm(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var wV=/\w*$/;function xV(t){var e=new t.constructor(t.source,wV.exec(t));return e.lastIndex=t.lastIndex,e}var j3=ks?ks.prototype:void 0,q3=j3?j3.valueOf:void 0;function TV(t){return q3?Object(q3.call(t)):{}}function G3(t,e){var n=e?Gm(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var EV="[object Boolean]",CV="[object Date]",SV="[object Map]",AV="[object Number]",LV="[object RegExp]",IV="[object Set]",MV="[object String]",NV="[object Symbol]",OV="[object ArrayBuffer]",DV="[object DataView]",RV="[object Float32Array]",BV="[object Float64Array]",PV="[object Int8Array]",FV="[object Int16Array]",VV="[object Int32Array]",YV="[object Uint8Array]",$V="[object Uint8ClampedArray]",UV="[object Uint16Array]",zV="[object Uint32Array]";function HV(t,e,n){var i=t.constructor;switch(e){case OV:return Gm(t);case EV:case CV:return new i(+t);case DV:return kV(t,n);case RV:case BV:case PV:case FV:case VV:case YV:case $V:case UV:case zV:return G3(t,n);case SV:return new i;case AV:case MV:return new i(t);case LV:return xV(t);case IV:return new i;case NV:return TV(t)}}function X3(t){return typeof t.constructor=="function"&&!rp(t)?dP(zm(t)):{}}var WV="[object Map]";function jV(t){return xa(t)&&xu(t)==WV}var K3=bu&&bu.isMap,qV=K3?ip(K3):jV;const GV=qV;var XV="[object Set]";function KV(t){return xa(t)&&xu(t)==XV}var Z3=bu&&bu.isSet,ZV=Z3?ip(Z3):KV;const QV=ZV;var JV=1,tY=2,eY=4,Q3="[object Arguments]",nY="[object Array]",rY="[object Boolean]",iY="[object Date]",sY="[object Error]",J3="[object Function]",aY="[object GeneratorFunction]",oY="[object Map]",lY="[object Number]",t5="[object Object]",cY="[object RegExp]",uY="[object Set]",hY="[object String]",dY="[object Symbol]",fY="[object WeakMap]",pY="[object ArrayBuffer]",gY="[object DataView]",mY="[object Float32Array]",yY="[object Float64Array]",_Y="[object Int8Array]",vY="[object Int16Array]",bY="[object Int32Array]",kY="[object Uint8Array]",wY="[object Uint8ClampedArray]",xY="[object Uint16Array]",TY="[object Uint32Array]",_r={};_r[Q3]=_r[nY]=_r[pY]=_r[gY]=_r[rY]=_r[iY]=_r[mY]=_r[yY]=_r[_Y]=_r[vY]=_r[bY]=_r[oY]=_r[lY]=_r[t5]=_r[cY]=_r[uY]=_r[hY]=_r[dY]=_r[kY]=_r[wY]=_r[xY]=_r[TY]=!0,_r[sY]=_r[J3]=_r[fY]=!1;function Qh(t,e,n,i,s,o){var l,u=e&JV,f=e&tY,g=e&eY;if(n&&(l=s?n(t,i,s,o):n(t)),l!==void 0)return l;if(!rs(t))return t;var _=Wr(t);if(_){if(l=vV(t),!u)return h3(t,l)}else{var k=xu(t),w=k==J3||k==aY;if(vu(t))return R3(t,u);if(k==t5||k==Q3||w&&!s){if(l=f||w?{}:X3(t),!u)return f?aV(t,QF(l,t)):rV(t,ZF(l,t))}else{if(!_r[k])return s?t:{};l=HV(t,k,u)}}o||(o=new Js);var x=o.get(t);if(x)return x;o.set(t,l),QV(t)?t.forEach(function(B){l.add(Qh(B,e,n,B,t,o))}):GV(t)&&t.forEach(function(B,U){l.set(U,Qh(B,e,n,U,t,o))});var M=g?f?oV:Wm:f?Hl:ss,R=_?void 0:M(t);return f3(R||t,function(B,U){R&&(U=B,B=t[U]),ep(l,U,Qh(B,e,n,U,t,o))}),l}var EY=4;function CY(t){return Qh(t,EY)}var SY=1,AY=4;function LY(t){return Qh(t,SY|AY)}var IY="__lodash_hash_undefined__";function MY(t){return this.__data__.set(t,IY),this}function NY(t){return this.__data__.has(t)}function Jh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ka;++e<n;)this.add(t[e])}Jh.prototype.add=Jh.prototype.push=MY,Jh.prototype.has=NY;function OY(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function e5(t,e){return t.has(e)}var DY=1,RY=2;function n5(t,e,n,i,s,o){var l=n&DY,u=t.length,f=e.length;if(u!=f&&!(l&&f>u))return!1;var g=o.get(t),_=o.get(e);if(g&&_)return g==e&&_==t;var k=-1,w=!0,x=n&RY?new Jh:void 0;for(o.set(t,e),o.set(e,t);++k<u;){var M=t[k],R=e[k];if(i)var B=l?i(R,M,k,e,t,o):i(M,R,k,t,e,o);if(B!==void 0){if(B)continue;w=!1;break}if(x){if(!OY(e,function(U,Y){if(!e5(x,Y)&&(M===U||s(M,U,n,i,o)))return x.push(Y)})){w=!1;break}}else if(!(M===R||s(M,R,n,i,o))){w=!1;break}}return o.delete(t),o.delete(e),w}function BY(t){var e=-1,n=Array(t.size);return t.forEach(function(i,s){n[++e]=[s,i]}),n}function Xm(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var PY=1,FY=2,VY="[object Boolean]",YY="[object Date]",$Y="[object Error]",UY="[object Map]",zY="[object Number]",HY="[object RegExp]",WY="[object Set]",jY="[object String]",qY="[object Symbol]",GY="[object ArrayBuffer]",XY="[object DataView]",r5=ks?ks.prototype:void 0,Km=r5?r5.valueOf:void 0;function KY(t,e,n,i,s,o,l){switch(n){case XY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case GY:return!(t.byteLength!=e.byteLength||!o(new cp(t),new cp(e)));case VY:case YY:case zY:return cu(+t,+e);case $Y:return t.name==e.name&&t.message==e.message;case HY:case jY:return t==e+"";case UY:var u=BY;case WY:var f=i&PY;if(u||(u=Xm),t.size!=e.size&&!f)return!1;var g=l.get(t);if(g)return g==e;i|=FY,l.set(t,e);var _=n5(u(t),u(e),i,s,o,l);return l.delete(t),_;case qY:if(Km)return Km.call(t)==Km.call(e)}return!1}var ZY=1,QY=Object.prototype,JY=QY.hasOwnProperty;function t$(t,e,n,i,s,o){var l=n&ZY,u=Wm(t),f=u.length,g=Wm(e),_=g.length;if(f!=_&&!l)return!1;for(var k=f;k--;){var w=u[k];if(!(l?w in e:JY.call(e,w)))return!1}var x=o.get(t),M=o.get(e);if(x&&M)return x==e&&M==t;var R=!0;o.set(t,e),o.set(e,t);for(var B=l;++k<f;){w=u[k];var U=t[w],Y=e[w];if(i)var X=l?i(Y,U,w,e,t,o):i(U,Y,w,t,e,o);if(!(X===void 0?U===Y||s(U,Y,n,i,o):X)){R=!1;break}B||(B=w=="constructor")}if(R&&!B){var Q=t.constructor,at=e.constructor;Q!=at&&"constructor"in t&&"constructor"in e&&!(typeof Q=="function"&&Q instanceof Q&&typeof at=="function"&&at instanceof at)&&(R=!1)}return o.delete(t),o.delete(e),R}var e$=1,i5="[object Arguments]",s5="[object Array]",up="[object Object]",n$=Object.prototype,a5=n$.hasOwnProperty;function r$(t,e,n,i,s,o){var l=Wr(t),u=Wr(e),f=l?s5:xu(t),g=u?s5:xu(e);f=f==i5?up:f,g=g==i5?up:g;var _=f==up,k=g==up,w=f==g;if(w&&vu(t)){if(!vu(e))return!1;l=!0,_=!1}if(w&&!_)return o||(o=new Js),l||sp(t)?n5(t,e,n,i,s,o):KY(t,e,f,n,i,s,o);if(!(n&e$)){var x=_&&a5.call(t,"__wrapped__"),M=k&&a5.call(e,"__wrapped__");if(x||M){var R=x?t.value():t,B=M?e.value():e;return o||(o=new Js),s(R,B,n,i,o)}}return w?(o||(o=new Js),t$(t,e,n,i,s,o)):!1}function Zm(t,e,n,i,s){return t===e?!0:t==null||e==null||!xa(t)&&!xa(e)?t!==t&&e!==e:r$(t,e,n,i,Zm,s)}var i$=1,s$=2;function a$(t,e,n,i){var s=n.length,o=s,l=!i;if(t==null)return!o;for(t=Object(t);s--;){var u=n[s];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++s<o;){u=n[s];var f=u[0],g=t[f],_=u[1];if(l&&u[2]){if(g===void 0&&!(f in t))return!1}else{var k=new Js;if(i)var w=i(g,_,f,t,e,k);if(!(w===void 0?Zm(_,g,i$|s$,i,k):w))return!1}}return!0}function o5(t){return t===t&&!rs(t)}function o$(t){for(var e=ss(t),n=e.length;n--;){var i=e[n],s=t[i];e[n]=[i,s,o5(s)]}return e}function l5(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function l$(t){var e=o$(t);return e.length==1&&e[0][2]?l5(e[0][0],e[0][1]):function(n){return n===t||a$(n,t,e)}}function c$(t,e){return t!=null&&e in Object(t)}function c5(t,e,n){e=ap(e,t);for(var i=-1,s=e.length,o=!1;++i<s;){var l=Zh(e[i]);if(!(o=t!=null&&n(t,l)))break;t=t[l]}return o||++i!=s?o:(s=t==null?0:t.length,!!s&&Vm(s)&&J1(l,s)&&(Wr(t)||_u(t)))}function u5(t,e){return t!=null&&c5(t,e,c$)}var u$=1,h$=2;function d$(t,e){return $m(t)&&o5(e)?l5(Zh(t),e):function(n){var i=RF(n,t);return i===void 0&&i===e?u5(n,t):Zm(e,i,u$|h$)}}function f$(t){return function(e){return e==null?void 0:e[t]}}function p$(t){return function(e){return op(e,t)}}function g$(t){return $m(t)?f$(Zh(t)):p$(t)}function Go(t){return typeof t=="function"?t:t==null?zl:typeof t=="object"?Wr(t)?d$(t[0],t[1]):l$(t):g$(t)}function m$(t){return function(e,n,i){for(var s=-1,o=Object(e),l=i(e),u=l.length;u--;){var f=l[t?u:++s];if(n(o[f],f,o)===!1)break}return e}}var y$=m$();const Qm=y$;function h5(t,e){return t&&Qm(t,e,ss)}function _$(t,e){return function(n,i){if(n==null)return n;if(!qo(n))return t(n,i);for(var s=n.length,o=e?s:-1,l=Object(n);(e?o--:++o<s)&&i(l[o],o,l)!==!1;);return n}}var v$=_$(h5);const hp=v$;var b$=function(){return Us.Date.now()};const d5=b$;var f5=Object.prototype,k$=f5.hasOwnProperty,w$=np(function(t,e){t=Object(t);var n=-1,i=e.length,s=i>2?e[2]:void 0;for(s&&Xh(e[0],e[1],s)&&(i=1);++n<i;)for(var o=e[n],l=Hl(o),u=-1,f=l.length;++u<f;){var g=l[u],_=t[g];(_===void 0||cu(_,f5[g])&&!k$.call(t,g))&&(t[g]=o[g])}return t});const Tu=w$;function Jm(t,e,n){(n!==void 0&&!cu(t[e],n)||n===void 0&&!(e in t))&&tp(t,e,n)}function p5(t){return xa(t)&&qo(t)}function ty(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function x$(t){return Gh(t,Hl(t))}function T$(t,e,n,i,s,o,l){var u=ty(t,n),f=ty(e,n),g=l.get(f);if(g){Jm(t,n,g);return}var _=o?o(u,f,n+"",t,e,l):void 0,k=_===void 0;if(k){var w=Wr(f),x=!w&&vu(f),M=!w&&!x&&sp(f);_=f,w||x||M?Wr(u)?_=u:p5(u)?_=h3(u):x?(k=!1,_=R3(f,!0)):M?(k=!1,_=G3(f,!0)):_=[]:I3(f)||_u(f)?(_=u,_u(u)?_=x$(u):(!rs(u)||lu(u))&&(_=X3(f))):k=!1}k&&(l.set(f,_),s(_,f,i,o,l),l.delete(f)),Jm(t,n,_)}function g5(t,e,n,i,s){t!==e&&Qm(e,function(o,l){if(s||(s=new Js),rs(o))T$(t,e,l,n,g5,i,s);else{var u=i?i(ty(t,l),o,l+"",t,e,s):void 0;u===void 0&&(u=o),Jm(t,l,u)}},Hl)}function E$(t,e,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(e,t[i]))return!0;return!1}function dp(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function m5(t){return typeof t=="function"?t:zl}function jt(t,e){var n=Wr(t)?f3:hp;return n(t,m5(e))}function C$(t,e){var n=[];return hp(t,function(i,s,o){e(i,s,o)&&n.push(i)}),n}function to(t,e){var n=Wr(t)?B3:C$;return n(t,Go(e))}function S$(t){return function(e,n,i){var s=Object(e);if(!qo(e)){var o=Go(n);e=ss(e),n=function(u){return o(s[u],u,s)}}var l=t(e,n,i);return l>-1?s[o?e[l]:l]:void 0}}var A$=Math.max;function L$(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var s=n==null?0:cP(n);return s<0&&(s=A$(i+s,0)),p3(t,Go(e),s)}var I$=S$(L$);const ey=I$;function y5(t,e){var n=-1,i=qo(t)?Array(t.length):[];return hp(t,function(s,o,l){i[++n]=e(s,o,l)}),i}function jr(t,e){var n=Wr(t)?mu:y5;return n(t,Go(e))}function M$(t,e){return t==null?t:Qm(t,m5(e),Hl)}function N$(t,e){return t>e}var O$=Object.prototype,D$=O$.hasOwnProperty;function R$(t,e){return t!=null&&D$.call(t,e)}function An(t,e){return t!=null&&c5(t,e,R$)}function B$(t,e){return mu(e,function(n){return t[n]})}function eo(t){return t==null?[]:B$(t,ss(t))}var P$="[object Map]",F$="[object Set]",V$=Object.prototype,Y$=V$.hasOwnProperty;function Eu(t){if(t==null)return!0;if(qo(t)&&(Wr(t)||typeof t=="string"||typeof t.splice=="function"||vu(t)||sp(t)||_u(t)))return!t.length;var e=xu(t);if(e==P$||e==F$)return!t.size;if(rp(t))return!C3(t).length;for(var n in t)if(Y$.call(t,n))return!1;return!0}function Vr(t){return t===void 0}function _5(t,e){return t<e}function fp(t,e){var n={};return e=Go(e),h5(t,function(i,s,o){tp(n,s,e(i,s,o))}),n}function ny(t,e,n){for(var i=-1,s=t.length;++i<s;){var o=t[i],l=e(o);if(l!=null&&(u===void 0?l===l&&!Ul(l):n(l,u)))var u=l,f=o}return f}function jl(t){return t&&t.length?ny(t,zl,N$):void 0}var $$=MP(function(t,e,n){g5(t,e,n)});const ry=$$;function td(t){return t&&t.length?ny(t,zl,_5):void 0}function iy(t,e){return t&&t.length?ny(t,Go(e),_5):void 0}function U$(t,e,n,i){if(!rs(t))return t;e=ap(e,t);for(var s=-1,o=e.length,l=o-1,u=t;u!=null&&++s<o;){var f=Zh(e[s]),g=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(s!=l){var _=u[f];g=i?i(_,f,u):void 0,g===void 0&&(g=rs(_)?_:J1(e[s+1])?[]:{})}ep(u,f,g),u=u[f]}return t}function z$(t,e,n){for(var i=-1,s=e.length,o={};++i<s;){var l=e[i],u=op(t,l);n(u,l)&&U$(o,ap(l,t),u)}return o}function H$(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function W$(t,e){if(t!==e){var n=t!==void 0,i=t===null,s=t===t,o=Ul(t),l=e!==void 0,u=e===null,f=e===e,g=Ul(e);if(!u&&!g&&!o&&t>e||o&&l&&f&&!u&&!g||i&&l&&f||!n&&f||!s)return 1;if(!i&&!o&&!g&&t<e||g&&n&&s&&!i&&!o||u&&n&&s||!l&&s||!f)return-1}return 0}function j$(t,e,n){for(var i=-1,s=t.criteria,o=e.criteria,l=s.length,u=n.length;++i<l;){var f=W$(s[i],o[i]);if(f){if(i>=u)return f;var g=n[i];return f*(g=="desc"?-1:1)}}return t.index-e.index}function q$(t,e,n){e.length?e=mu(e,function(o){return Wr(o)?function(l){return op(l,o.length===1?o[0]:o)}:o}):e=[zl];var i=-1;e=mu(e,ip(Go));var s=y5(t,function(o,l,u){var f=mu(e,function(g){return g(o)});return{criteria:f,index:++i,value:o}});return H$(s,function(o,l){return j$(o,l,n)})}function G$(t,e){return z$(t,e,function(n,i){return u5(t,i)})}var X$=PF(function(t,e){return t==null?{}:G$(t,e)});const ed=X$;var K$=Math.ceil,Z$=Math.max;function Q$(t,e,n,i){for(var s=-1,o=Z$(K$((e-t)/(n||1)),0),l=Array(o);o--;)l[i?o:++s]=t,t+=n;return l}function J$(t){return function(e,n,i){return i&&typeof i!="number"&&Xh(e,n,i)&&(n=i=void 0),e=Z1(e),n===void 0?(n=e,e=0):n=Z1(n),i=i===void 0?e<n?1:-1:Z1(i),Q$(e,n,i,t)}}var tU=J$();const ql=tU;function eU(t,e,n,i,s){return s(t,function(o,l,u){n=i?(i=!1,o):e(n,o,l,u)}),n}function nd(t,e,n){var i=Wr(t)?HF:eU,s=arguments.length<3;return i(t,Go(e),n,s,hp)}var nU=np(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Xh(t,e[0],e[1])?e=[]:n>2&&Xh(e[0],e[1],e[2])&&(e=[e[0]]),q$(t,lp(e,1),[])});const rd=nU;var rU=1/0,iU=wu&&1/Xm(new wu([,-0]))[1]==rU?function(t){return new wu(t)}:pP;const sU=iU;var aU=200;function oU(t,e,n){var i=-1,s=EP,o=t.length,l=!0,u=[],f=u;if(n)l=!1,s=E$;else if(o>=aU){var g=e?null:sU(t);if(g)return Xm(g);l=!1,s=e5,f=new Jh}else f=e?[]:u;t:for(;++i<o;){var _=t[i],k=e?e(_):_;if(_=n||_!==0?_:0,l&&k===k){for(var w=f.length;w--;)if(f[w]===k)continue t;e&&f.push(k),u.push(_)}else s(f,k,n)||(f!==u&&f.push(k),u.push(_))}return u}var lU=np(function(t){return oU(lp(t,1,p5,!0))});const cU=lU;var uU=0;function pp(t){var e=++uU;return S3(t)+e}function hU(t,e,n){for(var i=-1,s=t.length,o=e.length,l={};++i<s;){var u=i<o?e[i]:void 0;n(l,t[i],u)}return l}function dU(t,e){return hU(t||[],e||[],ep)}var fU="\0",Gl="\0",v5="";class qr{constructor(e={}){this._isDirected=An(e,"directed")?e.directed:!0,this._isMultigraph=An(e,"multigraph")?e.multigraph:!1,this._isCompound=An(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=yu(void 0),this._defaultEdgeLabelFn=yu(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Gl]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return lu(e)||(e=yu(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return ss(this._nodes)}sources(){var e=this;return to(this.nodes(),function(n){return Eu(e._in[n])})}sinks(){var e=this;return to(this.nodes(),function(n){return Eu(e._out[n])})}setNodes(e,n){var i=arguments,s=this;return jt(e,function(o){i.length>1?s.setNode(o,n):s.setNode(o)}),this}setNode(e,n){return An(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Gl,this._children[e]={},this._children[Gl][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return An(this._nodes,e)}removeNode(e){var n=this;if(An(this._nodes,e)){var i=function(s){n.removeEdge(n._edgeObjs[s])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],jt(this.children(e),function(s){n.setParent(s)}),delete this._children[e]),jt(ss(this._in[e]),i),delete this._in[e],delete this._preds[e],jt(ss(this._out[e]),i),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Vr(n))n=Gl;else{n+="";for(var i=n;!Vr(i);i=this.parent(i))if(i===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if(n!==Gl)return n}}children(e){if(Vr(e)&&(e=Gl),this._isCompound){var n=this._children[e];if(n)return ss(n)}else{if(e===Gl)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=this._preds[e];if(n)return ss(n)}successors(e){var n=this._sucs[e];if(n)return ss(n)}neighbors(e){var n=this.predecessors(e);if(n)return cU(n,this.successors(e))}isLeaf(e){var n;return this.isDirected()?n=this.successors(e):n=this.neighbors(e),n.length===0}filterNodes(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var i=this;jt(this._nodes,function(l,u){e(u)&&n.setNode(u,l)}),jt(this._edgeObjs,function(l){n.hasNode(l.v)&&n.hasNode(l.w)&&n.setEdge(l,i.edge(l))});var s={};function o(l){var u=i.parent(l);return u===void 0||n.hasNode(u)?(s[l]=u,u):u in s?s[u]:o(u)}return this._isCompound&&jt(n.nodes(),function(l){n.setParent(l,o(l))}),n}setDefaultEdgeLabel(e){return lu(e)||(e=yu(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return eo(this._edgeObjs)}setPath(e,n){var i=this,s=arguments;return nd(e,function(o,l){return s.length>1?i.setEdge(o,l,n):i.setEdge(o,l),l}),this}setEdge(){var e,n,i,s,o=!1,l=arguments[0];typeof l=="object"&&l!==null&&"v"in l?(e=l.v,n=l.w,i=l.name,arguments.length===2&&(s=arguments[1],o=!0)):(e=l,n=arguments[1],i=arguments[3],arguments.length>2&&(s=arguments[2],o=!0)),e=""+e,n=""+n,Vr(i)||(i=""+i);var u=id(this._isDirected,e,n,i);if(An(this._edgeLabels,u))return o&&(this._edgeLabels[u]=s),this;if(!Vr(i)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[u]=o?s:this._defaultEdgeLabelFn(e,n,i);var f=pU(this._isDirected,e,n,i);return e=f.v,n=f.w,Object.freeze(f),this._edgeObjs[u]=f,b5(this._preds[n],e),b5(this._sucs[e],n),this._in[n][u]=f,this._out[e][u]=f,this._edgeCount++,this}edge(e,n,i){var s=arguments.length===1?sy(this._isDirected,arguments[0]):id(this._isDirected,e,n,i);return this._edgeLabels[s]}hasEdge(e,n,i){var s=arguments.length===1?sy(this._isDirected,arguments[0]):id(this._isDirected,e,n,i);return An(this._edgeLabels,s)}removeEdge(e,n,i){var s=arguments.length===1?sy(this._isDirected,arguments[0]):id(this._isDirected,e,n,i),o=this._edgeObjs[s];return o&&(e=o.v,n=o.w,delete this._edgeLabels[s],delete this._edgeObjs[s],k5(this._preds[n],e),k5(this._sucs[e],n),delete this._in[n][s],delete this._out[e][s],this._edgeCount--),this}inEdges(e,n){var i=this._in[e];if(i){var s=eo(i);return n?to(s,function(o){return o.v===n}):s}}outEdges(e,n){var i=this._out[e];if(i){var s=eo(i);return n?to(s,function(o){return o.w===n}):s}}nodeEdges(e,n){var i=this.inEdges(e,n);if(i)return i.concat(this.outEdges(e,n))}}qr.prototype._nodeCount=0,qr.prototype._edgeCount=0;function b5(t,e){t[e]?t[e]++:t[e]=1}function k5(t,e){--t[e]||delete t[e]}function id(t,e,n,i){var s=""+e,o=""+n;if(!t&&s>o){var l=s;s=o,o=l}return s+v5+o+v5+(Vr(i)?fU:i)}function pU(t,e,n,i){var s=""+e,o=""+n;if(!t&&s>o){var l=s;s=o,o=l}var u={v:s,w:o};return i&&(u.name=i),u}function sy(t,e){return id(t,e.v,e.w,e.name)}class gU{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return w5(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&w5(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,i=n._prev;i!==n;)e.push(JSON.stringify(i,mU)),i=i._prev;return"["+e.join(", ")+"]"}}function w5(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function mU(t,e){if(t!=="_next"&&t!=="_prev")return e}var yU=yu(1);function _U(t,e){if(t.nodeCount()<=1)return[];var n=bU(t,e||yU),i=vU(n.graph,n.buckets,n.zeroIdx);return ku(jr(i,function(s){return t.outEdges(s.v,s.w)}))}function vU(t,e,n){for(var i=[],s=e[e.length-1],o=e[0],l;t.nodeCount();){for(;l=o.dequeue();)ay(t,e,n,l);for(;l=s.dequeue();)ay(t,e,n,l);if(t.nodeCount()){for(var u=e.length-2;u>0;--u)if(l=e[u].dequeue(),l){i=i.concat(ay(t,e,n,l,!0));break}}}return i}function ay(t,e,n,i,s){var o=s?[]:void 0;return jt(t.inEdges(i.v),function(l){var u=t.edge(l),f=t.node(l.v);s&&o.push({v:l.v,w:l.w}),f.out-=u,oy(e,n,f)}),jt(t.outEdges(i.v),function(l){var u=t.edge(l),f=l.w,g=t.node(f);g.in-=u,oy(e,n,g)}),t.removeNode(i.v),o}function bU(t,e){var n=new qr,i=0,s=0;jt(t.nodes(),function(u){n.setNode(u,{v:u,in:0,out:0})}),jt(t.edges(),function(u){var f=n.edge(u.v,u.w)||0,g=e(u),_=f+g;n.setEdge(u.v,u.w,_),s=Math.max(s,n.node(u.v).out+=g),i=Math.max(i,n.node(u.w).in+=g)});var o=ql(s+i+3).map(function(){return new gU}),l=i+1;return jt(n.nodes(),function(u){oy(o,l,n.node(u))}),{graph:n,buckets:o,zeroIdx:l}}function oy(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function kU(t){var e=t.graph().acyclicer==="greedy"?_U(t,n(t)):wU(t);jt(e,function(i){var s=t.edge(i);t.removeEdge(i),s.forwardName=i.name,s.reversed=!0,t.setEdge(i.w,i.v,s,pp("rev"))});function n(i){return function(s){return i.edge(s).weight}}}function wU(t){var e=[],n={},i={};function s(o){An(i,o)||(i[o]=!0,n[o]=!0,jt(t.outEdges(o),function(l){An(n,l.w)?e.push(l):s(l.w)}),delete n[o])}return jt(t.nodes(),s),e}function xU(t){jt(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var i=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,i)}})}function Cu(t,e,n,i){var s;do s=pp(i);while(t.hasNode(s));return n.dummy=e,t.setNode(s,n),s}function TU(t){var e=new qr().setGraph(t.graph());return jt(t.nodes(),function(n){e.setNode(n,t.node(n))}),jt(t.edges(),function(n){var i=e.edge(n.v,n.w)||{weight:0,minlen:1},s=t.edge(n);e.setEdge(n.v,n.w,{weight:i.weight+s.weight,minlen:Math.max(i.minlen,s.minlen)})}),e}function x5(t){var e=new qr({multigraph:t.isMultigraph()}).setGraph(t.graph());return jt(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),jt(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function T5(t,e){var n=t.x,i=t.y,s=e.x-n,o=e.y-i,l=t.width/2,u=t.height/2;if(!s&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var f,g;return Math.abs(o)*l>Math.abs(s)*u?(o<0&&(u=-u),f=u*s/o,g=u):(s<0&&(l=-l),f=l,g=l*o/s),{x:n+f,y:i+g}}function gp(t){var e=jr(ql(C5(t)+1),function(){return[]});return jt(t.nodes(),function(n){var i=t.node(n),s=i.rank;Vr(s)||(e[s][i.order]=n)}),e}function EU(t){var e=td(jr(t.nodes(),function(n){return t.node(n).rank}));jt(t.nodes(),function(n){var i=t.node(n);An(i,"rank")&&(i.rank-=e)})}function CU(t){var e=td(jr(t.nodes(),function(o){return t.node(o).rank})),n=[];jt(t.nodes(),function(o){var l=t.node(o).rank-e;n[l]||(n[l]=[]),n[l].push(o)});var i=0,s=t.graph().nodeRankFactor;jt(n,function(o,l){Vr(o)&&l%s!==0?--i:i&&jt(o,function(u){t.node(u).rank+=i})})}function E5(t,e,n,i){var s={width:0,height:0};return arguments.length>=4&&(s.rank=n,s.order=i),Cu(t,"border",s,e)}function C5(t){return jl(jr(t.nodes(),function(e){var n=t.node(e).rank;if(!Vr(n))return n}))}function SU(t,e){var n={lhs:[],rhs:[]};return jt(t,function(i){e(i)?n.lhs.push(i):n.rhs.push(i)}),n}function AU(t,e){var n=d5();try{return e()}finally{console.log(t+" time: "+(d5()-n)+"ms")}}function LU(t,e){return e()}function IU(t){function e(n){var i=t.children(n),s=t.node(n);if(i.length&&jt(i,e),An(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var o=s.minRank,l=s.maxRank+1;o<l;++o)S5(t,"borderLeft","_bl",n,s,o),S5(t,"borderRight","_br",n,s,o)}}jt(t.children(),e)}function S5(t,e,n,i,s,o){var l={width:0,height:0,rank:o,borderType:e},u=s[e][o-1],f=Cu(t,"border",l,n);s[e][o]=f,t.setParent(f,i),u&&t.setEdge(u,f,{weight:1})}function MU(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&A5(t)}function NU(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&OU(t),(e==="lr"||e==="rl")&&(DU(t),A5(t))}function A5(t){jt(t.nodes(),function(e){L5(t.node(e))}),jt(t.edges(),function(e){L5(t.edge(e))})}function L5(t){var e=t.width;t.width=t.height,t.height=e}function OU(t){jt(t.nodes(),function(e){ly(t.node(e))}),jt(t.edges(),function(e){var n=t.edge(e);jt(n.points,ly),An(n,"y")&&ly(n)})}function ly(t){t.y=-t.y}function DU(t){jt(t.nodes(),function(e){cy(t.node(e))}),jt(t.edges(),function(e){var n=t.edge(e);jt(n.points,cy),An(n,"x")&&cy(n)})}function cy(t){var e=t.x;t.x=t.y,t.y=e}function RU(t){var e=Cu(t,"root",{},"_root"),n=BU(t),i=jl(eo(n))-1,s=2*i+1;t.graph().nestingRoot=e,jt(t.edges(),function(l){t.edge(l).minlen*=s});var o=PU(t)+1;jt(t.children(),function(l){I5(t,e,s,o,i,n,l)}),t.graph().nodeRankFactor=s}function I5(t,e,n,i,s,o,l){var u=t.children(l);if(!u.length){l!==e&&t.setEdge(e,l,{weight:0,minlen:n});return}var f=E5(t,"_bt"),g=E5(t,"_bb"),_=t.node(l);t.setParent(f,l),_.borderTop=f,t.setParent(g,l),_.borderBottom=g,jt(u,function(k){I5(t,e,n,i,s,o,k);var w=t.node(k),x=w.borderTop?w.borderTop:k,M=w.borderBottom?w.borderBottom:k,R=w.borderTop?i:2*i,B=x!==M?1:s-o[l]+1;t.setEdge(f,x,{weight:R,minlen:B,nestingEdge:!0}),t.setEdge(M,g,{weight:R,minlen:B,nestingEdge:!0})}),t.parent(l)||t.setEdge(e,f,{weight:0,minlen:s+o[l]})}function BU(t){var e={};function n(i,s){var o=t.children(i);o&&o.length&&jt(o,function(l){n(l,s+1)}),e[i]=s}return jt(t.children(),function(i){n(i,1)}),e}function PU(t){return nd(t.edges(),function(e,n){return e+t.edge(n).weight},0)}function FU(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,jt(t.edges(),function(n){var i=t.edge(n);i.nestingEdge&&t.removeEdge(n)})}function VU(t,e,n){var i={},s;jt(n,function(o){for(var l=t.parent(o),u,f;l;){if(u=t.parent(l),u?(f=i[u],i[u]=l):(f=s,s=l),f&&f!==l){e.setEdge(f,l);return}l=u}})}function YU(t,e,n){var i=$U(t),s=new qr({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(o){return t.node(o)});return jt(t.nodes(),function(o){var l=t.node(o),u=t.parent(o);(l.rank===e||l.minRank<=e&&e<=l.maxRank)&&(s.setNode(o),s.setParent(o,u||i),jt(t[n](o),function(f){var g=f.v===o?f.w:f.v,_=s.edge(g,o),k=Vr(_)?0:_.weight;s.setEdge(g,o,{weight:t.edge(f).weight+k})}),An(l,"minRank")&&s.setNode(o,{borderLeft:l.borderLeft[e],borderRight:l.borderRight[e]}))}),s}function $U(t){for(var e;t.hasNode(e=pp("_root")););return e}function UU(t,e){for(var n=0,i=1;i<e.length;++i)n+=zU(t,e[i-1],e[i]);return n}function zU(t,e,n){for(var i=dU(n,jr(n,function(g,_){return _})),s=ku(jr(e,function(g){return rd(jr(t.outEdges(g),function(_){return{pos:i[_.w],weight:t.edge(_).weight}}),"pos")})),o=1;o<n.length;)o<<=1;var l=2*o-1;o-=1;var u=jr(new Array(l),function(){return 0}),f=0;return jt(s.forEach(function(g){var _=g.pos+o;u[_]+=g.weight;for(var k=0;_>0;)_%2&&(k+=u[_+1]),_=_-1>>1,u[_]+=g.weight;f+=g.weight*k})),f}function HU(t){var e={},n=to(t.nodes(),function(u){return!t.children(u).length}),i=jl(jr(n,function(u){return t.node(u).rank})),s=jr(ql(i+1),function(){return[]});function o(u){if(!An(e,u)){e[u]=!0;var f=t.node(u);s[f.rank].push(u),jt(t.successors(u),o)}}var l=rd(n,function(u){return t.node(u).rank});return jt(l,o),s}function WU(t,e){return jr(e,function(n){var i=t.inEdges(n);if(i.length){var s=nd(i,function(o,l){var u=t.edge(l),f=t.node(l.v);return{sum:o.sum+u.weight*f.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:n,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:n}})}function jU(t,e){var n={};jt(t,function(s,o){var l=n[s.v]={indegree:0,in:[],out:[],vs:[s.v],i:o};Vr(s.barycenter)||(l.barycenter=s.barycenter,l.weight=s.weight)}),jt(e.edges(),function(s){var o=n[s.v],l=n[s.w];!Vr(o)&&!Vr(l)&&(l.indegree++,o.out.push(n[s.w]))});var i=to(n,function(s){return!s.indegree});return qU(i)}function qU(t){var e=[];function n(o){return function(l){l.merged||(Vr(l.barycenter)||Vr(o.barycenter)||l.barycenter>=o.barycenter)&&GU(o,l)}}function i(o){return function(l){l.in.push(o),--l.indegree===0&&t.push(l)}}for(;t.length;){var s=t.pop();e.push(s),jt(s.in.reverse(),n(s)),jt(s.out,i(s))}return jr(to(e,function(o){return!o.merged}),function(o){return ed(o,["vs","i","barycenter","weight"])})}function GU(t,e){var n=0,i=0;t.weight&&(n+=t.barycenter*t.weight,i+=t.weight),e.weight&&(n+=e.barycenter*e.weight,i+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0}function XU(t,e){var n=SU(t,function(_){return An(_,"barycenter")}),i=n.lhs,s=rd(n.rhs,function(_){return-_.i}),o=[],l=0,u=0,f=0;i.sort(KU(!!e)),f=M5(o,s,f),jt(i,function(_){f+=_.vs.length,o.push(_.vs),l+=_.barycenter*_.weight,u+=_.weight,f=M5(o,s,f)});var g={vs:ku(o)};return u&&(g.barycenter=l/u,g.weight=u),g}function M5(t,e,n){for(var i;e.length&&(i=dp(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}function KU(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}function N5(t,e,n,i){var s=t.children(e),o=t.node(e),l=o?o.borderLeft:void 0,u=o?o.borderRight:void 0,f={};l&&(s=to(s,function(M){return M!==l&&M!==u}));var g=WU(t,s);jt(g,function(M){if(t.children(M.v).length){var R=N5(t,M.v,n,i);f[M.v]=R,An(R,"barycenter")&&QU(M,R)}});var _=jU(g,n);ZU(_,f);var k=XU(_,i);if(l&&(k.vs=ku([l,k.vs,u]),t.predecessors(l).length)){var w=t.node(t.predecessors(l)[0]),x=t.node(t.predecessors(u)[0]);An(k,"barycenter")||(k.barycenter=0,k.weight=0),k.barycenter=(k.barycenter*k.weight+w.order+x.order)/(k.weight+2),k.weight+=2}return k}function ZU(t,e){jt(t,function(n){n.vs=ku(n.vs.map(function(i){return e[i]?e[i].vs:i}))})}function QU(t,e){Vr(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function JU(t){var e=C5(t),n=O5(t,ql(1,e+1),"inEdges"),i=O5(t,ql(e-1,-1,-1),"outEdges"),s=HU(t);D5(t,s);for(var o=Number.POSITIVE_INFINITY,l,u=0,f=0;f<4;++u,++f){tz(u%2?n:i,u%4>=2),s=gp(t);var g=UU(t,s);g<o&&(f=0,l=LY(s),o=g)}D5(t,l)}function O5(t,e,n){return jr(e,function(i){return YU(t,i,n)})}function tz(t,e){var n=new qr;jt(t,function(i){var s=i.graph().root,o=N5(i,s,n,e);jt(o.vs,function(l,u){i.node(l).order=u}),VU(i,n,o.vs)})}function D5(t,e){jt(e,function(n){jt(n,function(i,s){t.node(i).order=s})})}function ez(t){var e=rz(t);jt(t.graph().dummyChains,function(n){for(var i=t.node(n),s=i.edgeObj,o=nz(t,e,s.v,s.w),l=o.path,u=o.lca,f=0,g=l[f],_=!0;n!==s.w;){if(i=t.node(n),_){for(;(g=l[f])!==u&&t.node(g).maxRank<i.rank;)f++;g===u&&(_=!1)}if(!_){for(;f<l.length-1&&t.node(g=l[f+1]).minRank<=i.rank;)f++;g=l[f]}t.setParent(n,g),n=t.successors(n)[0]}})}function nz(t,e,n,i){var s=[],o=[],l=Math.min(e[n].low,e[i].low),u=Math.max(e[n].lim,e[i].lim),f,g;f=n;do f=t.parent(f),s.push(f);while(f&&(e[f].low>l||u>e[f].lim));for(g=f,f=i;(f=t.parent(f))!==g;)o.push(f);return{path:s.concat(o.reverse()),lca:g}}function rz(t){var e={},n=0;function i(s){var o=n;jt(t.children(s),i),e[s]={low:o,lim:n++}}return jt(t.children(),i),e}function iz(t,e){var n={};function i(s,o){var l=0,u=0,f=s.length,g=dp(o);return jt(o,function(_,k){var w=az(t,_),x=w?t.node(w).order:f;(w||_===g)&&(jt(o.slice(u,k+1),function(M){jt(t.predecessors(M),function(R){var B=t.node(R),U=B.order;(U<l||x<U)&&!(B.dummy&&t.node(M).dummy)&&R5(n,R,M)})}),u=k+1,l=x)}),o}return nd(e,i),n}function sz(t,e){var n={};function i(o,l,u,f,g){var _;jt(ql(l,u),function(k){_=o[k],t.node(_).dummy&&jt(t.predecessors(_),function(w){var x=t.node(w);x.dummy&&(x.order<f||x.order>g)&&R5(n,w,_)})})}function s(o,l){var u=-1,f,g=0;return jt(l,function(_,k){if(t.node(_).dummy==="border"){var w=t.predecessors(_);w.length&&(f=t.node(w[0]).order,i(l,g,k,u,f),g=k,u=f)}i(l,g,l.length,f,o.length)}),l}return nd(e,s),n}function az(t,e){if(t.node(e).dummy)return ey(t.predecessors(e),function(n){return t.node(n).dummy})}function R5(t,e,n){if(e>n){var i=e;e=n,n=i}var s=t[e];s||(t[e]=s={}),s[n]=!0}function oz(t,e,n){if(e>n){var i=e;e=n,n=i}return An(t[e],n)}function lz(t,e,n,i){var s={},o={},l={};return jt(e,function(u){jt(u,function(f,g){s[f]=f,o[f]=f,l[f]=g})}),jt(e,function(u){var f=-1;jt(u,function(g){var _=i(g);if(_.length){_=rd(_,function(R){return l[R]});for(var k=(_.length-1)/2,w=Math.floor(k),x=Math.ceil(k);w<=x;++w){var M=_[w];o[g]===g&&f<l[M]&&!oz(n,g,M)&&(o[M]=g,o[g]=s[g]=s[M],f=l[M])}}})}),{root:s,align:o}}function cz(t,e,n,i,s){var o={},l=uz(t,e,n,s),u=s?"borderLeft":"borderRight";function f(k,w){for(var x=l.nodes(),M=x.pop(),R={};M;)R[M]?k(M):(R[M]=!0,x.push(M),x=x.concat(w(M))),M=x.pop()}function g(k){o[k]=l.inEdges(k).reduce(function(w,x){return Math.max(w,o[x.v]+l.edge(x))},0)}function _(k){var w=l.outEdges(k).reduce(function(M,R){return Math.min(M,o[R.w]-l.edge(R))},Number.POSITIVE_INFINITY),x=t.node(k);w!==Number.POSITIVE_INFINITY&&x.borderType!==u&&(o[k]=Math.max(o[k],w))}return f(g,l.predecessors.bind(l)),f(_,l.successors.bind(l)),jt(i,function(k){o[k]=o[n[k]]}),o}function uz(t,e,n,i){var s=new qr,o=t.graph(),l=gz(o.nodesep,o.edgesep,i);return jt(e,function(u){var f;jt(u,function(g){var _=n[g];if(s.setNode(_),f){var k=n[f],w=s.edge(k,_);s.setEdge(k,_,Math.max(l(t,g,f),w||0))}f=g})}),s}function hz(t,e){return iy(eo(e),function(n){var i=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;return M$(n,function(o,l){var u=mz(t,l)/2;i=Math.max(o+u,i),s=Math.min(o-u,s)}),i-s})}function dz(t,e){var n=eo(e),i=td(n),s=jl(n);jt(["u","d"],function(o){jt(["l","r"],function(l){var u=o+l,f=t[u],g;if(f!==e){var _=eo(f);g=l==="l"?i-td(_):s-jl(_),g&&(t[u]=fp(f,function(k){return k+g}))}})})}function fz(t,e){return fp(t.ul,function(n,i){if(e)return t[e.toLowerCase()][i];var s=rd(jr(t,i));return(s[1]+s[2])/2})}function pz(t){var e=gp(t),n=ry(iz(t,e),sz(t,e)),i={},s;jt(["u","d"],function(l){s=l==="u"?e:eo(e).reverse(),jt(["l","r"],function(u){u==="r"&&(s=jr(s,function(k){return eo(k).reverse()}));var f=(l==="u"?t.predecessors:t.successors).bind(t),g=lz(t,s,n,f),_=cz(t,s,g.root,g.align,u==="r");u==="r"&&(_=fp(_,function(k){return-k})),i[l+u]=_})});var o=hz(t,i);return dz(i,o),fz(i,t.graph().align)}function gz(t,e,n){return function(i,s,o){var l=i.node(s),u=i.node(o),f=0,g;if(f+=l.width/2,An(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":g=-l.width/2;break;case"r":g=l.width/2;break}if(g&&(f+=n?g:-g),g=0,f+=(l.dummy?e:t)/2,f+=(u.dummy?e:t)/2,f+=u.width/2,An(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":g=u.width/2;break;case"r":g=-u.width/2;break}return g&&(f+=n?g:-g),g=0,f}}function mz(t,e){return t.node(e).width}function yz(t){t=x5(t),_z(t),jt(pz(t),function(e,n){t.node(n).x=e})}function _z(t){var e=gp(t),n=t.graph().ranksep,i=0;jt(e,function(s){var o=jl(jr(s,function(l){return t.node(l).height}));jt(s,function(l){t.node(l).y=i+o/2}),i+=o+n})}function Su(t,e){var n=e&&e.debugTiming?AU:LU;n("layout",function(){var i=n("  buildLayoutGraph",function(){return Lz(t)});n("  runLayout",function(){vz(i,n)}),n("  updateInputGraph",function(){bz(t,i)})})}function vz(t,e){e("    makeSpaceForEdgeLabels",function(){Iz(t)}),e("    removeSelfEdges",function(){Vz(t)}),e("    acyclic",function(){kU(t)}),e("    nestingGraph.run",function(){RU(t)}),e("    rank",function(){Jz(x5(t))}),e("    injectEdgeLabelProxies",function(){Mz(t)}),e("    removeEmptyRanks",function(){CU(t)}),e("    nestingGraph.cleanup",function(){FU(t)}),e("    normalizeRanks",function(){EU(t)}),e("    assignRankMinMax",function(){Nz(t)}),e("    removeEdgeLabelProxies",function(){Oz(t)}),e("    normalize.run",function(){Uz(t)}),e("    parentDummyChains",function(){ez(t)}),e("    addBorderSegments",function(){IU(t)}),e("    order",function(){JU(t)}),e("    insertSelfEdges",function(){Yz(t)}),e("    adjustCoordinateSystem",function(){MU(t)}),e("    position",function(){yz(t)}),e("    positionSelfEdges",function(){$z(t)}),e("    removeBorderNodes",function(){Fz(t)}),e("    normalize.undo",function(){Hz(t)}),e("    fixupEdgeLabelCoords",function(){Bz(t)}),e("    undoCoordinateSystem",function(){NU(t)}),e("    translateGraph",function(){Dz(t)}),e("    assignNodeIntersects",function(){Rz(t)}),e("    reversePoints",function(){Pz(t)}),e("    acyclic.undo",function(){xU(t)})}function bz(t,e){jt(t.nodes(),function(n){var i=t.node(n),s=e.node(n);i&&(i.x=s.x,i.y=s.y,e.children(n).length&&(i.width=s.width,i.height=s.height))}),jt(t.edges(),function(n){var i=t.edge(n),s=e.edge(n);i.points=s.points,An(s,"x")&&(i.x=s.x,i.y=s.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var kz=["nodesep","edgesep","ranksep","marginx","marginy"],wz={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},xz=["acyclicer","ranker","rankdir","align"],Tz=["width","height"],Ez={width:0,height:0},Cz=["minlen","weight","width","height","labeloffset"],Sz={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Az=["labelpos"];function Lz(t){var e=new qr({multigraph:!0,compound:!0}),n=hy(t.graph());return e.setGraph(ry({},wz,uy(n,kz),ed(n,xz))),jt(t.nodes(),function(i){var s=hy(t.node(i));e.setNode(i,Tu(uy(s,Tz),Ez)),e.setParent(i,t.parent(i))}),jt(t.edges(),function(i){var s=hy(t.edge(i));e.setEdge(i,ry({},Sz,uy(s,Cz),ed(s,Az)))}),e}function Iz(t){var e=t.graph();e.ranksep/=2,jt(t.edges(),function(n){var i=t.edge(n);i.minlen*=2,i.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})}function Mz(t){jt(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var i=t.node(e.v),s=t.node(e.w),o={rank:(s.rank-i.rank)/2+i.rank,e};Cu(t,"edge-proxy",o,"_ep")}})}function Nz(t){var e=0;jt(t.nodes(),function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=jl(e,i.maxRank))}),t.graph().maxRank=e}function Oz(t){jt(t.nodes(),function(e){var n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function Dz(t){var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,s=0,o=t.graph(),l=o.marginx||0,u=o.marginy||0;function f(g){var _=g.x,k=g.y,w=g.width,x=g.height;e=Math.min(e,_-w/2),n=Math.max(n,_+w/2),i=Math.min(i,k-x/2),s=Math.max(s,k+x/2)}jt(t.nodes(),function(g){f(t.node(g))}),jt(t.edges(),function(g){var _=t.edge(g);An(_,"x")&&f(_)}),e-=l,i-=u,jt(t.nodes(),function(g){var _=t.node(g);_.x-=e,_.y-=i}),jt(t.edges(),function(g){var _=t.edge(g);jt(_.points,function(k){k.x-=e,k.y-=i}),An(_,"x")&&(_.x-=e),An(_,"y")&&(_.y-=i)}),o.width=n-e+l,o.height=s-i+u}function Rz(t){jt(t.edges(),function(e){var n=t.edge(e),i=t.node(e.v),s=t.node(e.w),o,l;n.points?(o=n.points[0],l=n.points[n.points.length-1]):(n.points=[],o=s,l=i),n.points.unshift(T5(i,o)),n.points.push(T5(s,l))})}function Bz(t){jt(t.edges(),function(e){var n=t.edge(e);if(An(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function Pz(t){jt(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}function Fz(t){jt(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),s=t.node(n.borderBottom),o=t.node(dp(n.borderLeft)),l=t.node(dp(n.borderRight));n.width=Math.abs(l.x-o.x),n.height=Math.abs(s.y-i.y),n.x=o.x+n.width/2,n.y=i.y+n.height/2}}),jt(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function Vz(t){jt(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function Yz(t){var e=gp(t);jt(e,function(n){var i=0;jt(n,function(s,o){var l=t.node(s);l.order=o+i,jt(l.selfEdges,function(u){Cu(t,"selfedge",{width:u.label.width,height:u.label.height,rank:l.rank,order:o+ ++i,e:u.e,label:u.label},"_se")}),delete l.selfEdges})})}function $z(t){jt(t.nodes(),function(e){var n=t.node(e);if(n.dummy==="selfedge"){var i=t.node(n.e.v),s=i.x+i.width/2,o=i.y,l=n.x-s,u=i.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:s+2*l/3,y:o-u},{x:s+5*l/6,y:o-u},{x:s+l,y:o},{x:s+5*l/6,y:o+u},{x:s+2*l/3,y:o+u}],n.label.x=n.x,n.label.y=n.y}})}function uy(t,e){return fp(ed(t,e),Number)}function hy(t){var e={};return jt(t,function(n,i){e[i.toLowerCase()]=n}),e}function Uz(t){t.graph().dummyChains=[],jt(t.edges(),function(e){zz(t,e)})}function zz(t,e){var n=e.v,i=t.node(n).rank,s=e.w,o=t.node(s).rank,l=e.name,u=t.edge(e),f=u.labelRank;if(o!==i+1){t.removeEdge(e);var g,_,k;for(k=0,++i;i<o;++k,++i)u.points=[],_={width:0,height:0,edgeLabel:u,edgeObj:e,rank:i},g=Cu(t,"edge",_,"_d"),i===f&&(_.width=u.width,_.height=u.height,_.dummy="edge-label",_.labelpos=u.labelpos),t.setEdge(n,g,{weight:u.weight},l),k===0&&t.graph().dummyChains.push(g),n=g;t.setEdge(n,s,{weight:u.weight},l)}}function Hz(t){jt(t.graph().dummyChains,function(e){var n=t.node(e),i=n.edgeLabel,s;for(t.setEdge(n.edgeObj,i);n.dummy;)s=t.successors(e)[0],t.removeNode(e),i.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height),e=s,n=t.node(e)})}function dy(t){var e={};function n(i){var s=t.node(i);if(An(e,i))return s.rank;e[i]=!0;var o=td(jr(t.outEdges(i),function(l){return n(l.w)-t.edge(l).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),s.rank=o}jt(t.sources(),n)}function sd(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function B5(t){var e=new qr({directed:!1}),n=t.nodes()[0],i=t.nodeCount();e.setNode(n,{});for(var s,o;Wz(e,t)<i;)s=jz(e,t),o=e.hasNode(s.v)?sd(t,s):-sd(t,s),qz(e,t,o);return e}function Wz(t,e){function n(i){jt(e.nodeEdges(i),function(s){var o=s.v,l=i===o?s.w:o;!t.hasNode(l)&&!sd(e,s)&&(t.setNode(l,{}),t.setEdge(i,l,{}),n(l))})}return jt(t.nodes(),n),t.nodeCount()}function jz(t,e){return iy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return sd(e,n)})}function qz(t,e,n){jt(t.nodes(),function(i){e.node(i).rank+=n})}function P5(t,e,n){Wr(e)||(e=[e]);var i=(t.isDirected()?t.successors:t.neighbors).bind(t),s=[],o={};return jt(e,function(l){if(!t.hasNode(l))throw new Error("Graph does not have node: "+l);F5(t,l,n==="post",o,i,s)}),s}function F5(t,e,n,i,s,o){An(i,e)||(i[e]=!0,n||o.push(e),jt(s(e),function(l){F5(t,l,n,i,s,o)}),n&&o.push(e))}function Gz(t,e){return P5(t,e,"post")}function Xz(t,e){return P5(t,e,"pre")}Xl.initLowLimValues=py,Xl.initCutValues=fy,Xl.calcCutValue=V5,Xl.leaveEdge=$5,Xl.enterEdge=U5,Xl.exchangeEdges=z5;function Xl(t){t=TU(t),dy(t);var e=B5(t);py(e),fy(e,t);for(var n,i;n=$5(e);)i=U5(e,t,n),z5(e,t,n,i)}function fy(t,e){var n=Gz(t,t.nodes());n=n.slice(0,n.length-1),jt(n,function(i){Kz(t,e,i)})}function Kz(t,e,n){var i=t.node(n),s=i.parent;t.edge(n,s).cutvalue=V5(t,e,n)}function V5(t,e,n){var i=t.node(n),s=i.parent,o=!0,l=e.edge(n,s),u=0;return l||(o=!1,l=e.edge(s,n)),u=l.weight,jt(e.nodeEdges(n),function(f){var g=f.v===n,_=g?f.w:f.v;if(_!==s){var k=g===o,w=e.edge(f).weight;if(u+=k?w:-w,Qz(t,n,_)){var x=t.edge(n,_).cutvalue;u+=k?-x:x}}}),u}function py(t,e){arguments.length<2&&(e=t.nodes()[0]),Y5(t,{},1,e)}function Y5(t,e,n,i,s){var o=n,l=t.node(i);return e[i]=!0,jt(t.neighbors(i),function(u){An(e,u)||(n=Y5(t,e,n,u,i))}),l.low=o,l.lim=n++,s?l.parent=s:delete l.parent,n}function $5(t){return ey(t.edges(),function(e){return t.edge(e).cutvalue<0})}function U5(t,e,n){var i=n.v,s=n.w;e.hasEdge(i,s)||(i=n.w,s=n.v);var o=t.node(i),l=t.node(s),u=o,f=!1;o.lim>l.lim&&(u=l,f=!0);var g=to(e.edges(),function(_){return f===H5(t,t.node(_.v),u)&&f!==H5(t,t.node(_.w),u)});return iy(g,function(_){return sd(e,_)})}function z5(t,e,n,i){var s=n.v,o=n.w;t.removeEdge(s,o),t.setEdge(i.v,i.w,{}),py(t),fy(t,e),Zz(t,e)}function Zz(t,e){var n=ey(t.nodes(),function(s){return!e.node(s).parent}),i=Xz(t,n);i=i.slice(1),jt(i,function(s){var o=t.node(s).parent,l=e.edge(s,o),u=!1;l||(l=e.edge(o,s),u=!0),e.node(s).rank=e.node(o).rank+(u?l.minlen:-l.minlen)})}function Qz(t,e,n){return t.hasEdge(e,n)}function H5(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function Jz(t){switch(t.graph().ranker){case"network-simplex":W5(t);break;case"tight-tree":eH(t);break;case"longest-path":tH(t);break;default:W5(t)}}var tH=dy;function eH(t){dy(t),B5(t)}function W5(t){Xl(t)}let j5=0;const nH=function(t,e,n,i,s){const o=function(Y){switch(Y){case s.db.relationType.AGGREGATION:return"aggregation";case s.db.relationType.EXTENSION:return"extension";case s.db.relationType.COMPOSITION:return"composition";case s.db.relationType.DEPENDENCY:return"dependency";case s.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter(Y=>!Number.isNaN(Y.y));const l=e.points,u=eu().x(function(Y){return Y.x}).y(function(Y){return Y.y}).curve(nu),f=t.append("path").attr("d",u(l)).attr("id","edge"+j5).attr("class","relation");let g="";i.arrowMarkerAbsolute&&(g=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,g=g.replace(/\(/g,"\\("),g=g.replace(/\)/g,"\\)")),n.relation.lineType==1&&f.attr("class","relation dashed-line"),n.relation.lineType==10&&f.attr("class","relation dotted-line"),n.relation.type1!=="none"&&f.attr("marker-start","url("+g+"#"+o(n.relation.type1)+"Start)"),n.relation.type2!=="none"&&f.attr("marker-end","url("+g+"#"+o(n.relation.type2)+"End)");let _,k;const w=e.points.length;let x=Tn.calcLabelPosition(e.points);_=x.x,k=x.y;let M,R,B,U;if(w%2!==0&&w>1){let Y=Tn.calcCardinalityPosition(n.relation.type1!=="none",e.points,e.points[0]),X=Tn.calcCardinalityPosition(n.relation.type2!=="none",e.points,e.points[w-1]);C.debug("cardinality_1_point "+JSON.stringify(Y)),C.debug("cardinality_2_point "+JSON.stringify(X)),M=Y.x,R=Y.y,B=X.x,U=X.y}if(n.title!==void 0){const Y=t.append("g").attr("class","classLabel"),X=Y.append("text").attr("class","label").attr("x",_).attr("y",k).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=X;const Q=X.node().getBBox();Y.insert("rect",":first-child").attr("class","box").attr("x",Q.x-i.padding/2).attr("y",Q.y-i.padding/2).attr("width",Q.width+i.padding).attr("height",Q.height+i.padding)}C.info("Rendering relation "+JSON.stringify(n)),n.relationTitle1!==void 0&&n.relationTitle1!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",M).attr("y",R).attr("fill","black").attr("font-size","6").text(n.relationTitle1),n.relationTitle2!==void 0&&n.relationTitle2!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",B).attr("y",U).attr("fill","black").attr("font-size","6").text(n.relationTitle2),j5++},rH=function(t,e,n,i){C.debug("Rendering class ",e,n);const s=e.id,o={id:s,label:e.id,width:0,height:0},l=t.append("g").attr("id",i.db.lookUpDomId(s)).attr("class","classGroup");let u;e.link?u=l.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):u=l.append("text").attr("y",n.textHeight+n.padding).attr("x",0);let f=!0;e.annotations.forEach(function(at){const lt=u.append("tspan").text("«"+at+"»");f||lt.attr("dy",n.textHeight),f=!1});let g=e.id;e.type!==void 0&&e.type!==""&&(g+="<"+e.type+">");const _=u.append("tspan").text(g).attr("class","title");f||_.attr("dy",n.textHeight);const k=u.node().getBBox().height,w=l.append("line").attr("x1",0).attr("y1",n.padding+k+n.dividerMargin/2).attr("y2",n.padding+k+n.dividerMargin/2),x=l.append("text").attr("x",n.padding).attr("y",k+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");f=!0,e.members.forEach(function(at){q5(x,at,f,n),f=!1});const M=x.node().getBBox(),R=l.append("line").attr("x1",0).attr("y1",n.padding+k+n.dividerMargin+M.height).attr("y2",n.padding+k+n.dividerMargin+M.height),B=l.append("text").attr("x",n.padding).attr("y",k+2*n.dividerMargin+M.height+n.textHeight).attr("fill","white").attr("class","classText");f=!0,e.methods.forEach(function(at){q5(B,at,f,n),f=!1});const U=l.node().getBBox();var Y=" ";e.cssClasses.length>0&&(Y=Y+e.cssClasses.join(" "));const Q=l.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",U.width+2*n.padding).attr("height",U.height+n.padding+.5*n.dividerMargin).attr("class",Y).node().getBBox().width;return u.node().childNodes.forEach(function(at){at.setAttribute("x",(Q-at.getBBox().width)/2)}),e.tooltip&&u.insert("title").text(e.tooltip),w.attr("x2",Q),R.attr("x2",Q),o.width=Q,o.height=U.height+n.padding+.5*n.dividerMargin,o},iH=function(t,e,n,i){C.debug("Rendering note ",e,n);const s=e.id,o={id:s,text:e.text,width:0,height:0},l=t.append("g").attr("id",s).attr("class","classGroup");let u=l.append("text").attr("y",n.textHeight+n.padding).attr("x",0);const f=JSON.parse(`"${e.text}"`).split(`
`);f.forEach(function(w){C.debug(`Adding line: ${w}`),u.append("tspan").text(w).attr("class","title").attr("dy",n.textHeight)});const g=l.node().getBBox(),k=l.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",g.width+2*n.padding).attr("height",g.height+f.length*n.textHeight+n.padding+.5*n.dividerMargin).node().getBBox().width;return u.node().childNodes.forEach(function(w){w.setAttribute("x",(k-w.getBBox().width)/2)}),o.width=k,o.height=g.height+f.length*n.textHeight+n.padding+.5*n.dividerMargin,o},mp=function(t){const e=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,n=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let i=t.match(e),s=t.match(n);return i&&!s?sH(i):s?aH(s):oH(t)},sH=function(t){let e="",n="";try{let i=t[1]?t[1].trim():"",s=t[2]?t[2].trim():"",o=t[3]?Fo(t[3].trim()):"",l=t[4]?t[4].trim():"",u=t[5]?t[5].trim():"";n=i+s+o+" "+l,e=gy(u)}catch{n=t}return{displayText:n,cssStyle:e}},aH=function(t){let e="",n="";try{let i=t[1]?t[1].trim():"",s=t[2]?t[2].trim():"",o=t[3]?Fo(t[3].trim()):"",l=t[4]?t[4].trim():"",u=t[5]?" : "+Fo(t[5]).trim():"";n=i+s+"("+o+")"+u,e=gy(l)}catch{n=t}return{displayText:n,cssStyle:e}},oH=function(t){let e="",n="",i="",s=t.indexOf("("),o=t.indexOf(")");if(s>1&&o>s&&o<=t.length){let l="",u="",f=t.substring(0,1);f.match(/\w/)?u=t.substring(0,s).trim():(f.match(/[#+~-]/)&&(l=f),u=t.substring(1,s).trim());const g=t.substring(s+1,o);t.substring(o+1,1),n=gy(t.substring(o+1,o+2)),e=l+u+"("+Fo(g.trim())+")",o<t.length&&(i=t.substring(o+2).trim(),i!==""&&(i=" : "+Fo(i),e+=i))}else e=Fo(t);return{displayText:e,cssStyle:n}},q5=function(t,e,n,i){let s=mp(e);const o=t.append("tspan").attr("x",i.padding).text(s.displayText);s.cssStyle!==""&&o.attr("style",s.cssStyle),n||o.attr("dy",i.textHeight)},gy=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},my={drawClass:rH,drawEdge:nH,drawNote:iH,parseMember:mp};let yp={};const _p=20,ad=function(t){const e=Object.entries(yp).find(n=>n[1].label===t);if(e)return e[0]},lH=function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},cH={draw:function(t,e,n,i){const s=ht().class;yp={},C.info("Rendering diagram "+t);const o=ht().securityLevel;let l;o==="sandbox"&&(l=re("#i"+e));const u=re(o==="sandbox"?l.nodes()[0].contentDocument.body:"body"),f=u.select(`[id='${e}']`);lH(f);const g=new qr({multigraph:!0});g.setGraph({isMultiGraph:!0}),g.setDefaultEdgeLabel(function(){return{}});const _=i.db.getClasses(),k=Object.keys(_);for(const Y of k){const X=_[Y],Q=my.drawClass(f,X,s,i);yp[Q.id]=Q,g.setNode(Q.id,Q),C.info("Org height: "+Q.height)}i.db.getRelations().forEach(function(Y){C.info("tjoho"+ad(Y.id1)+ad(Y.id2)+JSON.stringify(Y)),g.setEdge(ad(Y.id1),ad(Y.id2),{relation:Y},Y.title||"DEFAULT")}),i.db.getNotes().forEach(function(Y){C.debug(`Adding note: ${JSON.stringify(Y)}`);const X=my.drawNote(f,Y,s,i);yp[X.id]=X,g.setNode(X.id,X),Y.class&&Y.class in _&&g.setEdge(Y.id,ad(Y.class),{relation:{id1:Y.id,id2:Y.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),Su(g),g.nodes().forEach(function(Y){Y!==void 0&&g.node(Y)!==void 0&&(C.debug("Node "+Y+": "+JSON.stringify(g.node(Y))),u.select("#"+(i.db.lookUpDomId(Y)||Y)).attr("transform","translate("+(g.node(Y).x-g.node(Y).width/2)+","+(g.node(Y).y-g.node(Y).height/2)+" )"))}),g.edges().forEach(function(Y){Y!==void 0&&g.edge(Y)!==void 0&&(C.debug("Edge "+Y.v+" -> "+Y.w+": "+JSON.stringify(g.edge(Y))),my.drawEdge(f,g.edge(Y),g.edge(Y).relation,s,i))});const M=f.node().getBBox(),R=M.width+_p*2,B=M.height+_p*2;Ws(f,B,R,s.useMaxWidth);const U=`${M.x-_p} ${M.y-_p} ${R} ${B}`;C.debug(`viewBox ${U}`),f.attr("viewBox",U)}};function no(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:uH(t),edges:hH(t)};return Vr(t.graph())||(e.value=CY(t.graph())),e}function uH(t){return jr(t.nodes(),function(e){var n=t.node(e),i=t.parent(e),s={v:e};return Vr(n)||(s.value=n),Vr(i)||(s.parent=i),s})}function hH(t){return jr(t.edges(),function(e){var n=t.edge(e),i={v:e.v,w:e.w};return Vr(e.name)||(i.name=e.name),Vr(n)||(i.value=n),i})}const dH=(t,e,n,i)=>{e.forEach(s=>{fH[s](t,n,i)})},fH={extension:(t,e,n)=>{C.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",e+"-extensionStart").attr("class","marker extension "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-compositionStart").attr("class","marker composition "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(t,e)=>{t.append("marker").attr("id",e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(t,e)=>{t.append("marker").attr("id",e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(t,e)=>{t.append("marker").attr("id",e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},pH=dH;function gH(t,e){e&&t.attr("style",e)}function mH(t){const e=re(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),i=t.label,s=t.isNode?"nodeLabel":"edgeLabel";return n.html('<span class="'+s+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>"),gH(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}const Ki=(t,e,n,i)=>{let s=t||"";if(typeof s=="object"&&(s=s[0]),li(ht().flowchart.htmlLabels)){s=s.replace(/\\n|\n/g,"<br />"),C.info("vertexText"+s);const o={isNode:i,label:L2(s).replace(/fa[blrs]?:fa-[\w-]+/g,u=>`<i class='${u.replace(":"," ")}'></i>`),labelStyle:e.replace("fill:","color:")};return mH(o)}else{const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",e.replace("color:","fill:"));let l=[];typeof s=="string"?l=s.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(s)?l=s:l=[];for(const u of l){const f=document.createElementNS("http://www.w3.org/2000/svg","tspan");f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),f.setAttribute("dy","1em"),f.setAttribute("x","0"),n?f.setAttribute("class","title-row"):f.setAttribute("class","row"),f.textContent=u.trim(),o.appendChild(f)}return o}},Ci=(t,e,n,i)=>{let s;n?s=n:s="node default";const o=t.insert("g").attr("class",s).attr("id",e.domId||e.id),l=o.insert("g").attr("class","label").attr("style",e.labelStyle);let u;e.labelText===void 0?u="":u=typeof e.labelText=="string"?e.labelText:e.labelText[0];const f=l.node().appendChild(Ki($s(L2(u),ht()),e.labelStyle,!1,i));let g=f.getBBox();if(li(ht().flowchart.htmlLabels)){const k=f.children[0],w=re(f);g=k.getBoundingClientRect(),w.attr("width",g.width),w.attr("height",g.height)}const _=e.padding/2;return l.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),{shapeSvg:o,bbox:g,halfPadding:_,label:l}},Yr=(t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height};function ro(t,e,n,i){return t.insert("polygon",":first-child").attr("points",i.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}let $n={},ta={},G5={};const yH=()=>{ta={},G5={},$n={}},vp=(t,e)=>(C.trace("In isDecendant",e," ",t," = ",ta[e].includes(t)),!!ta[e].includes(t)),_H=(t,e)=>(C.info("Decendants of ",e," is ",ta[e]),C.info("Edge is ",t),t.v===e||t.w===e?!1:ta[e]?ta[e].includes(t.v)||vp(t.v,e)||vp(t.w,e)||ta[e].includes(t.w):(C.debug("Tilt, ",e,",not in decendants"),!1)),X5=(t,e,n,i)=>{C.warn("Copying children of ",t,"root",i,"data",e.node(t),i);const s=e.children(t)||[];t!==i&&s.push(t),C.warn("Copying (nodes) clusterId",t,"nodes",s),s.forEach(o=>{if(e.children(o).length>0)X5(o,e,n,i);else{const l=e.node(o);C.info("cp ",o," to ",i," with parent ",t),n.setNode(o,l),i!==e.parent(o)&&(C.warn("Setting parent",o,e.parent(o)),n.setParent(o,e.parent(o))),t!==i&&o!==t?(C.debug("Setting parent",o,t),n.setParent(o,t)):(C.info("In copy ",t,"root",i,"data",e.node(t),i),C.debug("Not Setting parent for node=",o,"cluster!==rootId",t!==i,"node!==clusterId",o!==t));const u=e.edges(o);C.debug("Copying Edges",u),u.forEach(f=>{C.info("Edge",f);const g=e.edge(f.v,f.w,f.name);C.info("Edge data",g,i);try{_H(f,i)?(C.info("Copying as ",f.v,f.w,g,f.name),n.setEdge(f.v,f.w,g,f.name),C.info("newGraph edges ",n.edges(),n.edge(n.edges()[0]))):C.info("Skipping copy of edge ",f.v,"-->",f.w," rootId: ",i," clusterId:",t)}catch(_){C.error(_)}})}C.debug("Removing node",o),e.removeNode(o)})},K5=(t,e)=>{const n=e.children(t);let i=[...n];for(const s of n)G5[s]=t,i=[...i,...K5(s,e)];return i},od=(t,e)=>{C.trace("Searching",t);const n=e.children(t);if(C.trace("Searching children of id ",t,n),n.length<1)return C.trace("This is a valid node",t),t;for(const i of n){const s=od(i,e);if(s)return C.trace("Found replacement for",t," => ",s),s}},bp=t=>!$n[t]||!$n[t].externalConnections?t:$n[t]?$n[t].id:t,vH=(t,e)=>{if(!t||e>10){C.debug("Opting out, no graph ");return}else C.debug("Opting in, graph ");t.nodes().forEach(function(n){t.children(n).length>0&&(C.warn("Cluster identified",n," Replacement id in edges: ",od(n,t)),ta[n]=K5(n,t),$n[n]={id:od(n,t),clusterData:t.node(n)})}),t.nodes().forEach(function(n){const i=t.children(n),s=t.edges();i.length>0?(C.debug("Cluster identified",n,ta),s.forEach(o=>{if(o.v!==n&&o.w!==n){const l=vp(o.v,n),u=vp(o.w,n);l^u&&(C.warn("Edge: ",o," leaves cluster ",n),C.warn("Decendants of XXX ",n,": ",ta[n]),$n[n].externalConnections=!0)}})):C.debug("Not a cluster ",n,ta)}),t.edges().forEach(function(n){const i=t.edge(n);C.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(n)),C.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(t.edge(n)));let s=n.v,o=n.w;if(C.warn("Fix XXX",$n,"ids:",n.v,n.w,"Translating: ",$n[n.v]," --- ",$n[n.w]),$n[n.v]&&$n[n.w]&&$n[n.v]===$n[n.w]){C.warn("Fixing and trixing link to self - removing XXX",n.v,n.w,n.name),C.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),s=bp(n.v),o=bp(n.w),t.removeEdge(n.v,n.w,n.name);const l=n.w+"---"+n.v;t.setNode(l,{domId:l,id:l,labelStyle:"",labelText:i.label,padding:0,shape:"labelRect",style:""});const u=JSON.parse(JSON.stringify(i)),f=JSON.parse(JSON.stringify(i));u.label="",u.arrowTypeEnd="none",f.label="",u.fromCluster=n.v,f.toCluster=n.v,t.setEdge(s,l,u,n.name+"-cyclic-special"),t.setEdge(l,o,f,n.name+"-cyclic-special")}else($n[n.v]||$n[n.w])&&(C.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),s=bp(n.v),o=bp(n.w),t.removeEdge(n.v,n.w,n.name),s!==n.v&&(i.fromCluster=n.v),o!==n.w&&(i.toCluster=n.w),C.warn("Fix Replacing with XXX",s,o,n.name),t.setEdge(s,o,i,n.name))}),C.warn("Adjusted Graph",no(t)),Z5(t,0),C.trace($n)},Z5=(t,e)=>{if(C.warn("extractor - ",e,no(t),t.children("D")),e>10){C.error("Bailing out");return}let n=t.nodes(),i=!1;for(const s of n){const o=t.children(s);i=i||o.length>0}if(!i){C.debug("Done, no node has children",t.nodes());return}C.debug("Nodes = ",n,e);for(const s of n)if(C.debug("Extracting node",s,$n,$n[s]&&!$n[s].externalConnections,!t.parent(s),t.node(s),t.children("D")," Depth ",e),!$n[s])C.debug("Not a cluster",s,e);else if(!$n[s].externalConnections&&t.children(s)&&t.children(s).length>0){C.warn("Cluster without external connections, without a parent and with children",s,e);let l=t.graph().rankdir==="TB"?"LR":"TB";$n[s]&&$n[s].clusterData&&$n[s].clusterData.dir&&(l=$n[s].clusterData.dir,C.warn("Fixing dir",$n[s].clusterData.dir,l));const u=new qr({multigraph:!0,compound:!0}).setGraph({rankdir:l,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});C.warn("Old graph before copy",no(t)),X5(s,t,u,s),t.setNode(s,{clusterNode:!0,id:s,clusterData:$n[s].clusterData,labelText:$n[s].labelText,graph:u}),C.warn("New graph after copy node: (",s,")",no(u)),C.debug("Old graph after copy",no(t))}else C.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!$n[s].externalConnections," no parent: ",!t.parent(s)," children ",t.children(s)&&t.children(s).length>0,t.children("D"),e),C.debug($n);n=t.nodes(),C.warn("New list of nodes",n);for(const s of n){const o=t.node(s);C.warn(" Now next level",s,o),o.clusterNode&&Z5(o.graph,e+1)}},Q5=(t,e)=>{if(e.length===0)return[];let n=Object.assign(e);return e.forEach(i=>{const s=t.children(i),o=Q5(t,s);n=[...n,...o]}),n},bH=t=>Q5(t,t.children());function kH(t,e){return t.intersect(e)}function J5(t,e,n,i){var s=t.x,o=t.y,l=s-i.x,u=o-i.y,f=Math.sqrt(e*e*u*u+n*n*l*l),g=Math.abs(e*n*l/f);i.x<s&&(g=-g);var _=Math.abs(e*n*u/f);return i.y<o&&(_=-_),{x:s+g,y:o+_}}function wH(t,e,n){return J5(t,e,e,n)}function xH(t,e,n,i){var s,o,l,u,f,g,_,k,w,x,M,R,B,U,Y;if(s=e.y-t.y,l=t.x-e.x,f=e.x*t.y-t.x*e.y,w=s*n.x+l*n.y+f,x=s*i.x+l*i.y+f,!(w!==0&&x!==0&&tw(w,x))&&(o=i.y-n.y,u=n.x-i.x,g=i.x*n.y-n.x*i.y,_=o*t.x+u*t.y+g,k=o*e.x+u*e.y+g,!(_!==0&&k!==0&&tw(_,k))&&(M=s*u-o*l,M!==0)))return R=Math.abs(M/2),B=l*g-u*f,U=B<0?(B-R)/M:(B+R)/M,B=o*f-s*g,Y=B<0?(B-R)/M:(B+R)/M,{x:U,y:Y}}function tw(t,e){return t*e>0}function TH(t,e,n){var i=t.x,s=t.y,o=[],l=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(M){l=Math.min(l,M.x),u=Math.min(u,M.y)}):(l=Math.min(l,e.x),u=Math.min(u,e.y));for(var f=i-t.width/2-l,g=s-t.height/2-u,_=0;_<e.length;_++){var k=e[_],w=e[_<e.length-1?_+1:0],x=xH(t,n,{x:f+k.x,y:g+k.y},{x:f+w.x,y:g+w.y});x&&o.push(x)}return o.length?(o.length>1&&o.sort(function(M,R){var B=M.x-n.x,U=M.y-n.y,Y=Math.sqrt(B*B+U*U),X=R.x-n.x,Q=R.y-n.y,at=Math.sqrt(X*X+Q*Q);return Y<at?-1:Y===at?0:1}),o[0]):t}const ld=(t,e)=>{var n=t.x,i=t.y,s=e.x-n,o=e.y-i,l=t.width/2,u=t.height/2,f,g;return Math.abs(o)*l>Math.abs(s)*u?(o<0&&(u=-u),f=o===0?0:u*s/o,g=u):(s<0&&(l=-l),f=l,g=s===0?0:l*o/s),{x:n+f,y:i+g}},Or={node:kH,circle:wH,ellipse:J5,polygon:TH,rect:ld},EH=(t,e)=>{const{shapeSvg:n,bbox:i,halfPadding:s}=Ci(t,e,"node "+e.classes,!0);C.info("Classes = ",e.classes);const o=n.insert("rect",":first-child");return o.attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-s).attr("y",-i.height/2-s).attr("width",i.width+e.padding).attr("height",i.height+e.padding),Yr(e,o),e.intersect=function(l){return Or.rect(e,l)},n},CH=(t,e)=>{const{shapeSvg:n,bbox:i}=Ci(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=s+o,u=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];C.info("Question main (Circle)");const f=ro(n,l,l,u);return f.attr("style",e.style),Yr(e,f),e.intersect=function(g){return C.warn("Intersect called"),Or.polygon(e,u,g)},n},SH=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=28,s=[{x:0,y:i/2},{x:i/2,y:0},{x:0,y:-i/2},{x:-i/2,y:0}];return n.insert("polygon",":first-child").attr("points",s.map(function(l){return l.x+","+l.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(l){return Or.circle(e,14,l)},n},AH=(t,e)=>{const{shapeSvg:n,bbox:i}=Ci(t,e,void 0,!0),s=4,o=i.height+e.padding,l=o/s,u=i.width+2*l+e.padding,f=[{x:l,y:0},{x:u-l,y:0},{x:u,y:-o/2},{x:u-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}],g=ro(n,u,o,f);return g.attr("style",e.style),Yr(e,g),e.intersect=function(_){return Or.polygon(e,f,_)},n},LH=(t,e)=>{const{shapeSvg:n,bbox:i}=Ci(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:-o/2,y:0},{x:s,y:0},{x:s,y:-o},{x:-o/2,y:-o},{x:0,y:-o/2}];return ro(n,s,o,l).attr("style",e.style),e.width=s+o,e.height=o,e.intersect=function(f){return Or.polygon(e,l,f)},n},IH=(t,e)=>{const{shapeSvg:n,bbox:i}=Ci(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:-2*o/6,y:0},{x:s-o/6,y:0},{x:s+2*o/6,y:-o},{x:o/6,y:-o}],u=ro(n,s,o,l);return u.attr("style",e.style),Yr(e,u),e.intersect=function(f){return Or.polygon(e,l,f)},n},MH=(t,e)=>{const{shapeSvg:n,bbox:i}=Ci(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:2*o/6,y:0},{x:s+o/6,y:0},{x:s-2*o/6,y:-o},{x:-o/6,y:-o}],u=ro(n,s,o,l);return u.attr("style",e.style),Yr(e,u),e.intersect=function(f){return Or.polygon(e,l,f)},n},NH=(t,e)=>{const{shapeSvg:n,bbox:i}=Ci(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:-2*o/6,y:0},{x:s+2*o/6,y:0},{x:s-o/6,y:-o},{x:o/6,y:-o}],u=ro(n,s,o,l);return u.attr("style",e.style),Yr(e,u),e.intersect=function(f){return Or.polygon(e,l,f)},n},OH=(t,e)=>{const{shapeSvg:n,bbox:i}=Ci(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:o/6,y:0},{x:s-o/6,y:0},{x:s+2*o/6,y:-o},{x:-2*o/6,y:-o}],u=ro(n,s,o,l);return u.attr("style",e.style),Yr(e,u),e.intersect=function(f){return Or.polygon(e,l,f)},n},DH=(t,e)=>{const{shapeSvg:n,bbox:i}=Ci(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:0,y:0},{x:s+o/2,y:0},{x:s,y:-o/2},{x:s+o/2,y:-o},{x:0,y:-o}],u=ro(n,s,o,l);return u.attr("style",e.style),Yr(e,u),e.intersect=function(f){return Or.polygon(e,l,f)},n},RH=(t,e)=>{const{shapeSvg:n,bbox:i}=Ci(t,e,void 0,!0),s=i.width+e.padding,o=s/2,l=o/(2.5+s/50),u=i.height+l+e.padding,f="M 0,"+l+" a "+o+","+l+" 0,0,0 "+s+" 0 a "+o+","+l+" 0,0,0 "+-s+" 0 l 0,"+u+" a "+o+","+l+" 0,0,0 "+s+" 0 l 0,"+-u,g=n.attr("label-offset-y",l).insert("path",":first-child").attr("style",e.style).attr("d",f).attr("transform","translate("+-s/2+","+-(u/2+l)+")");return Yr(e,g),e.intersect=function(_){const k=Or.rect(e,_),w=k.x-e.x;if(o!=0&&(Math.abs(w)<e.width/2||Math.abs(w)==e.width/2&&Math.abs(k.y-e.y)>e.height/2-l)){let x=l*l*(1-w*w/(o*o));x!=0&&(x=Math.sqrt(x)),x=l-x,_.y-e.y>0&&(x=-x),k.y+=x}return k},n},BH=(t,e)=>{const{shapeSvg:n,bbox:i,halfPadding:s}=Ci(t,e,"node "+e.classes,!0);C.trace("Classes = ",e.classes);const o=n.insert("rect",":first-child"),l=i.width+e.padding,u=i.height+e.padding;if(o.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-s).attr("y",-i.height/2-s).attr("width",l).attr("height",u),e.props){const f=new Set(Object.keys(e.props));e.props.borders&&(ew(o,e.props.borders,l,u),f.delete("borders")),f.forEach(g=>{C.warn(`Unknown node property ${g}`)})}return Yr(e,o),e.intersect=function(f){return Or.rect(e,f)},n},PH=(t,e)=>{const{shapeSvg:n}=Ci(t,e,"label",!0);C.trace("Classes = ",e.classes);const i=n.insert("rect",":first-child"),s=0,o=0;if(i.attr("width",s).attr("height",o),n.attr("class","label edgeLabel"),e.props){const l=new Set(Object.keys(e.props));e.props.borders&&(ew(i,e.props.borders,s,o),l.delete("borders")),l.forEach(u=>{C.warn(`Unknown node property ${u}`)})}return Yr(e,i),e.intersect=function(l){return Or.rect(e,l)},n};function ew(t,e,n,i){const s=[],o=u=>{s.push(u,0)},l=u=>{s.push(0,u)};e.includes("t")?(C.debug("add top border"),o(n)):l(n),e.includes("r")?(C.debug("add right border"),o(i)):l(i),e.includes("b")?(C.debug("add bottom border"),o(n)):l(n),e.includes("l")?(C.debug("add left border"),o(i)):l(i),t.attr("stroke-dasharray",s.join(" "))}const FH=(t,e)=>{let n;e.classes?n="node "+e.classes:n="node default";const i=t.insert("g").attr("class",n).attr("id",e.domId||e.id),s=i.insert("rect",":first-child"),o=i.insert("line"),l=i.insert("g").attr("class","label"),u=e.labelText.flat?e.labelText.flat():e.labelText;let f="";typeof u=="object"?f=u[0]:f=u,C.info("Label text abc79",f,u,typeof u=="object");const g=l.node().appendChild(Ki(f,e.labelStyle,!0,!0));let _={width:0,height:0};if(li(ht().flowchart.htmlLabels)){const R=g.children[0],B=re(g);_=R.getBoundingClientRect(),B.attr("width",_.width),B.attr("height",_.height)}C.info("Text 2",u);const k=u.slice(1,u.length);let w=g.getBBox();const x=l.node().appendChild(Ki(k.join?k.join("<br/>"):k,e.labelStyle,!0,!0));if(li(ht().flowchart.htmlLabels)){const R=x.children[0],B=re(x);_=R.getBoundingClientRect(),B.attr("width",_.width),B.attr("height",_.height)}const M=e.padding/2;return re(x).attr("transform","translate( "+(_.width>w.width?0:(w.width-_.width)/2)+", "+(w.height+M+5)+")"),re(g).attr("transform","translate( "+(_.width<w.width?0:-(w.width-_.width)/2)+", "+0+")"),_=l.node().getBBox(),l.attr("transform","translate("+-_.width/2+", "+(-_.height/2-M+3)+")"),s.attr("class","outer title-state").attr("x",-_.width/2-M).attr("y",-_.height/2-M).attr("width",_.width+e.padding).attr("height",_.height+e.padding),o.attr("class","divider").attr("x1",-_.width/2-M).attr("x2",_.width/2+M).attr("y1",-_.height/2-M+w.height+M).attr("y2",-_.height/2-M+w.height+M),Yr(e,s),e.intersect=function(R){return Or.rect(e,R)},i},VH=(t,e)=>{const{shapeSvg:n,bbox:i}=Ci(t,e,void 0,!0),s=i.height+e.padding,o=i.width+s/4+e.padding,l=n.insert("rect",":first-child").attr("style",e.style).attr("rx",s/2).attr("ry",s/2).attr("x",-o/2).attr("y",-s/2).attr("width",o).attr("height",s);return Yr(e,l),e.intersect=function(u){return Or.rect(e,u)},n},YH=(t,e)=>{const{shapeSvg:n,bbox:i,halfPadding:s}=Ci(t,e,void 0,!0),o=n.insert("circle",":first-child");return o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+s).attr("width",i.width+e.padding).attr("height",i.height+e.padding),C.info("Circle main"),Yr(e,o),e.intersect=function(l){return C.info("Circle intersect",e,i.width/2+s,l),Or.circle(e,i.width/2+s,l)},n},$H=(t,e)=>{const{shapeSvg:n,bbox:i,halfPadding:s}=Ci(t,e,void 0,!0),o=5,l=n.insert("g",":first-child"),u=l.insert("circle"),f=l.insert("circle");return u.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+s+o).attr("width",i.width+e.padding+o*2).attr("height",i.height+e.padding+o*2),f.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+s).attr("width",i.width+e.padding).attr("height",i.height+e.padding),C.info("DoubleCircle main"),Yr(e,u),e.intersect=function(g){return C.info("DoubleCircle intersect",e,i.width/2+s+o,g),Or.circle(e,i.width/2+s+o,g)},n},UH=(t,e)=>{const{shapeSvg:n,bbox:i}=Ci(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:0,y:0},{x:s,y:0},{x:s,y:-o},{x:0,y:-o},{x:0,y:0},{x:-8,y:0},{x:s+8,y:0},{x:s+8,y:-o},{x:-8,y:-o},{x:-8,y:0}],u=ro(n,s,o,l);return u.attr("style",e.style),Yr(e,u),e.intersect=function(f){return Or.polygon(e,l,f)},n},zH=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Yr(e,i),e.intersect=function(s){return Or.circle(e,7,s)},n},nw=(t,e,n)=>{const i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let s=70,o=10;n==="LR"&&(s=10,o=70);const l=i.append("rect").attr("x",-1*s/2).attr("y",-1*o/2).attr("width",s).attr("height",o).attr("class","fork-join");return Yr(e,l),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(u){return Or.rect(e,u)},i},rw={question:CH,rect:BH,labelRect:PH,rectWithTitle:FH,choice:SH,circle:YH,doublecircle:$H,stadium:VH,hexagon:AH,rect_left_inv_arrow:LH,lean_right:IH,lean_left:MH,trapezoid:NH,inv_trapezoid:OH,rect_right_inv_arrow:DH,cylinder:RH,start:zH,end:(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=n.insert("circle",":first-child"),s=n.insert("circle",":first-child");return s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),i.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Yr(e,s),e.intersect=function(o){return Or.circle(e,7,o)},n},note:EH,subroutine:UH,fork:nw,join:nw,class_box:(t,e)=>{const n=e.padding/2,i=4,s=8;let o;e.classes?o="node "+e.classes:o="node default";const l=t.insert("g").attr("class",o).attr("id",e.domId||e.id),u=l.insert("rect",":first-child"),f=l.insert("line"),g=l.insert("line");let _=0,k=i;const w=l.insert("g").attr("class","label");let x=0;const M=e.classData.annotations&&e.classData.annotations[0],R=e.classData.annotations[0]?"«"+e.classData.annotations[0]+"»":"",B=w.node().appendChild(Ki(R,e.labelStyle,!0,!0));let U=B.getBBox();if(li(ht().flowchart.htmlLabels)){const ot=B.children[0],q=re(B);U=ot.getBoundingClientRect(),q.attr("width",U.width),q.attr("height",U.height)}e.classData.annotations[0]&&(k+=U.height+i,_+=U.width);let Y=e.classData.id;e.classData.type!==void 0&&e.classData.type!==""&&(ht().flowchart.htmlLabels?Y+="&lt;"+e.classData.type+"&gt;":Y+="<"+e.classData.type+">");const X=w.node().appendChild(Ki(Y,e.labelStyle,!0,!0));re(X).attr("class","classTitle");let Q=X.getBBox();if(li(ht().flowchart.htmlLabels)){const ot=X.children[0],q=re(X);Q=ot.getBoundingClientRect(),q.attr("width",Q.width),q.attr("height",Q.height)}k+=Q.height+i,Q.width>_&&(_=Q.width);const at=[];e.classData.members.forEach(ot=>{const q=mp(ot);let H=q.displayText;ht().flowchart.htmlLabels&&(H=H.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const $=w.node().appendChild(Ki(H,q.cssStyle?q.cssStyle:e.labelStyle,!0,!0));let O=$.getBBox();if(li(ht().flowchart.htmlLabels)){const W=$.children[0],A=re($);O=W.getBoundingClientRect(),A.attr("width",O.width),A.attr("height",O.height)}O.width>_&&(_=O.width),k+=O.height+i,at.push($)}),k+=s;const lt=[];if(e.classData.methods.forEach(ot=>{const q=mp(ot);let H=q.displayText;ht().flowchart.htmlLabels&&(H=H.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const $=w.node().appendChild(Ki(H,q.cssStyle?q.cssStyle:e.labelStyle,!0,!0));let O=$.getBBox();if(li(ht().flowchart.htmlLabels)){const W=$.children[0],A=re($);O=W.getBoundingClientRect(),A.attr("width",O.width),A.attr("height",O.height)}O.width>_&&(_=O.width),k+=O.height+i,lt.push($)}),k+=s,M){let ot=(_-U.width)/2;re(B).attr("transform","translate( "+(-1*_/2+ot)+", "+-1*k/2+")"),x=U.height+i}let J=(_-Q.width)/2;return re(X).attr("transform","translate( "+(-1*_/2+J)+", "+(-1*k/2+x)+")"),x+=Q.height+i,f.attr("class","divider").attr("x1",-_/2-n).attr("x2",_/2+n).attr("y1",-k/2-n+s+x).attr("y2",-k/2-n+s+x),x+=s,at.forEach(ot=>{re(ot).attr("transform","translate( "+-_/2+", "+(-1*k/2+x+s/2)+")"),x+=Q.height+i}),x+=s,g.attr("class","divider").attr("x1",-_/2-n).attr("x2",_/2+n).attr("y1",-k/2-n+s+x).attr("y2",-k/2-n+s+x),x+=s,lt.forEach(ot=>{re(ot).attr("transform","translate( "+-_/2+", "+(-1*k/2+x)+")"),x+=Q.height+i}),u.attr("class","outer title-state").attr("x",-_/2-n).attr("y",-(k/2)-n).attr("width",_+e.padding).attr("height",k+e.padding),Yr(e,u),e.intersect=function(ot){return Or.rect(e,ot)},l}};let Au={};const HH=(t,e,n)=>{let i,s;if(e.link){let o;ht().securityLevel==="sandbox"?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),i=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o),s=rw[e.shape](i,e,n)}else s=rw[e.shape](t,e,n),i=s;e.tooltip&&s.attr("title",e.tooltip),e.class&&s.attr("class","node default "+e.class),Au[e.id]=i,e.haveCallback&&Au[e.id].attr("class",Au[e.id].attr("class")+" clickable")},WH=(t,e)=>{Au[e.id]=t},jH=()=>{Au={}},iw=t=>{const e=Au[t.id];C.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,i=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+i-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),i},qH={rect:(t,e)=>{C.trace("Creating subgraph rect for ",e.id,e);const n=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),i=n.insert("rect",":first-child"),s=n.insert("g").attr("class","cluster-label"),o=s.node().appendChild(Ki(e.labelText,e.labelStyle,void 0,!0));let l=o.getBBox();if(li(ht().flowchart.htmlLabels)){const k=o.children[0],w=re(o);l=k.getBoundingClientRect(),w.attr("width",l.width),w.attr("height",l.height)}const u=0*e.padding,f=u/2,g=e.width<=l.width+u?l.width+u:e.width;e.width<=l.width+u?e.diff=(l.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,C.trace("Data ",e,JSON.stringify(e)),i.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-g/2).attr("y",e.y-e.height/2-f).attr("width",g).attr("height",e.height+u),s.attr("transform","translate("+(e.x-l.width/2)+", "+(e.y-e.height/2)+")");const _=i.node().getBBox();return e.width=_.width,e.height=_.height,e.intersect=function(k){return ld(e,k)},n},roundedWithTitle:(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),i=n.insert("rect",":first-child"),s=n.insert("g").attr("class","cluster-label"),o=n.append("rect"),l=s.node().appendChild(Ki(e.labelText,e.labelStyle,void 0,!0));let u=l.getBBox();if(li(ht().flowchart.htmlLabels)){const w=l.children[0],x=re(l);u=w.getBoundingClientRect(),x.attr("width",u.width),x.attr("height",u.height)}u=l.getBBox();const f=0*e.padding,g=f/2,_=e.width<=u.width+e.padding?u.width+e.padding:e.width;e.width<=u.width+e.padding?e.diff=(u.width+e.padding*0-e.width)/2:e.diff=-e.padding/2,i.attr("class","outer").attr("x",e.x-_/2-g).attr("y",e.y-e.height/2-g).attr("width",_+f).attr("height",e.height+f),o.attr("class","inner").attr("x",e.x-_/2-g).attr("y",e.y-e.height/2-g+u.height-1).attr("width",_+f).attr("height",e.height+f-u.height-3),s.attr("transform","translate("+(e.x-u.width/2)+", "+(e.y-e.height/2-e.padding/3+(li(ht().flowchart.htmlLabels)?5:3))+")");const k=i.node().getBBox();return e.height=k.height,e.intersect=function(w){return ld(e,w)},n},noteGroup:(t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),i=n.insert("rect",":first-child"),s=0*e.padding,o=s/2;i.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2-o).attr("width",e.width+s).attr("height",e.height+s).attr("fill","none");const l=i.node().getBBox();return e.width=l.width,e.height=l.height,e.intersect=function(u){return ld(e,u)},n},divider:(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),i=n.insert("rect",":first-child"),s=0*e.padding,o=s/2;i.attr("class","divider").attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2).attr("width",e.width+s).attr("height",e.height+s);const l=i.node().getBBox();return e.width=l.width,e.height=l.height,e.diff=-e.padding/2,e.intersect=function(u){return ld(e,u)},n}};let sw={};const GH=(t,e)=>{C.trace("Inserting cluster");const n=e.shape||"rect";sw[e.id]=qH[n](t,e)},XH=()=>{sw={}};let kp={},di={};const KH=()=>{kp={},di={}},ZH=(t,e)=>{const n=Ki(e.label,e.labelStyle),i=t.insert("g").attr("class","edgeLabel"),s=i.insert("g").attr("class","label");s.node().appendChild(n);let o=n.getBBox();if(li(ht().flowchart.htmlLabels)){const u=n.children[0],f=re(n);o=u.getBoundingClientRect(),f.attr("width",o.width),f.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),kp[e.id]=i,e.width=o.width,e.height=o.height;let l;if(e.startLabelLeft){const u=Ki(e.startLabelLeft,e.labelStyle),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");l=g.node().appendChild(u);const _=u.getBBox();g.attr("transform","translate("+-_.width/2+", "+-_.height/2+")"),di[e.id]||(di[e.id]={}),di[e.id].startLeft=f,wp(l,e.startLabelLeft)}if(e.startLabelRight){const u=Ki(e.startLabelRight,e.labelStyle),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");l=f.node().appendChild(u),g.node().appendChild(u);const _=u.getBBox();g.attr("transform","translate("+-_.width/2+", "+-_.height/2+")"),di[e.id]||(di[e.id]={}),di[e.id].startRight=f,wp(l,e.startLabelRight)}if(e.endLabelLeft){const u=Ki(e.endLabelLeft,e.labelStyle),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");l=g.node().appendChild(u);const _=u.getBBox();g.attr("transform","translate("+-_.width/2+", "+-_.height/2+")"),f.node().appendChild(u),di[e.id]||(di[e.id]={}),di[e.id].endLeft=f,wp(l,e.endLabelLeft)}if(e.endLabelRight){const u=Ki(e.endLabelRight,e.labelStyle),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");l=g.node().appendChild(u);const _=u.getBBox();g.attr("transform","translate("+-_.width/2+", "+-_.height/2+")"),f.node().appendChild(u),di[e.id]||(di[e.id]={}),di[e.id].endRight=f,wp(l,e.endLabelRight)}};function wp(t,e){ht().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}const QH=(t,e)=>{C.info("Moving label abc78 ",t.id,t.label,kp[t.id]);let n=e.updatedPath?e.updatedPath:e.originalPath;if(t.label){const i=kp[t.id];let s=t.x,o=t.y;if(n){const l=Tn.calcLabelPosition(n);C.info("Moving label "+t.label+" from (",s,",",o,") to (",l.x,",",l.y,") abc78"),e.updatedPath&&(s=l.x,o=l.y)}i.attr("transform","translate("+s+", "+o+")")}if(t.startLabelLeft){const i=di[t.id].startLeft;let s=t.x,o=t.y;if(n){const l=Tn.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);s=l.x,o=l.y}i.attr("transform","translate("+s+", "+o+")")}if(t.startLabelRight){const i=di[t.id].startRight;let s=t.x,o=t.y;if(n){const l=Tn.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);s=l.x,o=l.y}i.attr("transform","translate("+s+", "+o+")")}if(t.endLabelLeft){const i=di[t.id].endLeft;let s=t.x,o=t.y;if(n){const l=Tn.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);s=l.x,o=l.y}i.attr("transform","translate("+s+", "+o+")")}if(t.endLabelRight){const i=di[t.id].endRight;let s=t.x,o=t.y;if(n){const l=Tn.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);s=l.x,o=l.y}i.attr("transform","translate("+s+", "+o+")")}},JH=(t,e)=>{const n=t.x,i=t.y,s=Math.abs(e.x-n),o=Math.abs(e.y-i),l=t.width/2,u=t.height/2;return s>=l||o>=u},tW=(t,e,n)=>{C.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const i=t.x,s=t.y,o=Math.abs(i-n.x),l=t.width/2;let u=n.x<e.x?l-o:l+o;const f=t.height/2,g=Math.abs(e.y-n.y),_=Math.abs(e.x-n.x);if(Math.abs(s-e.y)*l>Math.abs(i-e.x)*f){let k=n.y<e.y?e.y-f-s:s-f-e.y;u=_*k/g;const w={x:n.x<e.x?n.x+u:n.x-_+u,y:n.y<e.y?n.y+g-k:n.y-g+k};return u===0&&(w.x=e.x,w.y=e.y),_===0&&(w.x=e.x),g===0&&(w.y=e.y),C.warn(`abc89 topp/bott calc, Q ${g}, q ${k}, R ${_}, r ${u}`,w),w}else{n.x<e.x?u=e.x-l-i:u=i-l-e.x;let k=g*u/_,w=n.x<e.x?n.x+_-u:n.x-_+u,x=n.y<e.y?n.y+k:n.y-k;return C.warn(`sides calc abc89, Q ${g}, q ${k}, R ${_}, r ${u}`,{_x:w,_y:x}),u===0&&(w=e.x,x=e.y),_===0&&(w=e.x),g===0&&(x=e.y),{x:w,y:x}}},aw=(t,e)=>{C.warn("abc88 cutPathAtIntersect",t,e);let n=[],i=t[0],s=!1;return t.forEach(o=>{if(C.info("abc88 checking point",o,e),!JH(e,o)&&!s){const l=tW(e,i,o);C.warn("abc88 inside",o,i,l),C.warn("abc88 intersection",l);let u=!1;n.forEach(f=>{u=u||f.x===l.x&&f.y===l.y}),n.some(f=>f.x===l.x&&f.y===l.y)?C.warn("abc88 no intersect",l,n):n.push(l),s=!0}else C.warn("abc88 outside",o,i),i=o,s||n.push(o)}),C.warn("abc88 returning points",n),n},eW=function(t,e,n,i,s,o){let l=n.points,u=!1;const f=o.node(e.v);var g=o.node(e.w);C.info("abc88 InsertEdge: ",n),g.intersect&&f.intersect&&(l=l.slice(1,n.points.length-1),l.unshift(f.intersect(l[0])),C.info("Last point",l[l.length-1],g,g.intersect(l[l.length-1])),l.push(g.intersect(l[l.length-1]))),n.toCluster&&(C.info("to cluster abc88",i[n.toCluster]),l=aw(n.points,i[n.toCluster].node),u=!0),n.fromCluster&&(C.info("from cluster abc88",i[n.fromCluster]),l=aw(l.reverse(),i[n.fromCluster].node).reverse(),u=!0);const _=l.filter(U=>!Number.isNaN(U.y));let k;s==="graph"||s==="flowchart"?k=n.curve||nu:k=nu;const w=eu().x(function(U){return U.x}).y(function(U){return U.y}).curve(k);let x;switch(n.thickness){case"normal":x="edge-thickness-normal";break;case"thick":x="edge-thickness-thick";break;default:x=""}switch(n.pattern){case"solid":x+=" edge-pattern-solid";break;case"dotted":x+=" edge-pattern-dotted";break;case"dashed":x+=" edge-pattern-dashed";break}const M=t.append("path").attr("d",w(_)).attr("id",n.id).attr("class"," "+x+(n.classes?" "+n.classes:"")).attr("style",n.style);let R="";switch((ht().flowchart.arrowMarkerAbsolute||ht().state.arrowMarkerAbsolute)&&(R=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,R=R.replace(/\(/g,"\\("),R=R.replace(/\)/g,"\\)")),C.info("arrowTypeStart",n.arrowTypeStart),C.info("arrowTypeEnd",n.arrowTypeEnd),n.arrowTypeStart){case"arrow_cross":M.attr("marker-start","url("+R+"#"+s+"-crossStart)");break;case"arrow_point":M.attr("marker-start","url("+R+"#"+s+"-pointStart)");break;case"arrow_barb":M.attr("marker-start","url("+R+"#"+s+"-barbStart)");break;case"arrow_circle":M.attr("marker-start","url("+R+"#"+s+"-circleStart)");break;case"aggregation":M.attr("marker-start","url("+R+"#"+s+"-aggregationStart)");break;case"extension":M.attr("marker-start","url("+R+"#"+s+"-extensionStart)");break;case"composition":M.attr("marker-start","url("+R+"#"+s+"-compositionStart)");break;case"dependency":M.attr("marker-start","url("+R+"#"+s+"-dependencyStart)");break;case"lollipop":M.attr("marker-start","url("+R+"#"+s+"-lollipopStart)");break}switch(n.arrowTypeEnd){case"arrow_cross":M.attr("marker-end","url("+R+"#"+s+"-crossEnd)");break;case"arrow_point":M.attr("marker-end","url("+R+"#"+s+"-pointEnd)");break;case"arrow_barb":M.attr("marker-end","url("+R+"#"+s+"-barbEnd)");break;case"arrow_circle":M.attr("marker-end","url("+R+"#"+s+"-circleEnd)");break;case"aggregation":M.attr("marker-end","url("+R+"#"+s+"-aggregationEnd)");break;case"extension":M.attr("marker-end","url("+R+"#"+s+"-extensionEnd)");break;case"composition":M.attr("marker-end","url("+R+"#"+s+"-compositionEnd)");break;case"dependency":M.attr("marker-end","url("+R+"#"+s+"-dependencyEnd)");break;case"lollipop":M.attr("marker-end","url("+R+"#"+s+"-lollipopEnd)");break}let B={};return u&&(B.updatedPath=l),B.originalPath=n.points,B},ow=(t,e,n,i)=>{C.info("Graph in recursive render: XXX",no(e),i);const s=e.graph().rankdir;C.trace("Dir in recursive render - dir:",s);const o=t.insert("g").attr("class","root");e.nodes()?C.info("Recursive render XXX",e.nodes()):C.info("No nodes found for",e),e.edges().length>0&&C.trace("Recursive edges",e.edge(e.edges()[0]));const l=o.insert("g").attr("class","clusters"),u=o.insert("g").attr("class","edgePaths"),f=o.insert("g").attr("class","edgeLabels"),g=o.insert("g").attr("class","nodes");e.nodes().forEach(function(k){const w=e.node(k);if(i!==void 0){const x=JSON.parse(JSON.stringify(i.clusterData));C.info("Setting data for cluster XXX (",k,") ",x,i),e.setNode(i.id,x),e.parent(k)||(C.trace("Setting parent",k,i.id),e.setParent(k,i.id,x))}if(C.info("(Insert) Node XXX"+k+": "+JSON.stringify(e.node(k))),w&&w.clusterNode){C.info("Cluster identified",k,w.width,e.node(k));const x=ow(g,w.graph,n,e.node(k)),M=x.elem;Yr(w,M),w.diff=x.diff||0,C.info("Node bounds (abc123)",k,w,w.width,w.x,w.y),WH(M,w),C.warn("Recursive render complete ",M,w)}else e.children(k).length>0?(C.info("Cluster - the non recursive path XXX",k,w.id,w,e),C.info(od(w.id,e)),$n[w.id]={id:od(w.id,e),node:w}):(C.info("Node - the non recursive path",k,w.id,w),HH(g,e.node(k),s))}),e.edges().forEach(function(k){const w=e.edge(k.v,k.w,k.name);C.info("Edge "+k.v+" -> "+k.w+": "+JSON.stringify(k)),C.info("Edge "+k.v+" -> "+k.w+": ",k," ",JSON.stringify(e.edge(k))),C.info("Fix",$n,"ids:",k.v,k.w,"Translateing: ",$n[k.v],$n[k.w]),ZH(f,w)}),e.edges().forEach(function(k){C.info("Edge "+k.v+" -> "+k.w+": "+JSON.stringify(k))}),C.info("#############################################"),C.info("###                Layout                 ###"),C.info("#############################################"),C.info(e),Su(e),C.info("Graph after layout:",no(e));let _=0;return bH(e).forEach(function(k){const w=e.node(k);C.info("Position "+k+": "+JSON.stringify(e.node(k))),C.info("Position "+k+": ("+w.x,","+w.y,") width: ",w.width," height: ",w.height),w&&w.clusterNode?iw(w):e.children(k).length>0?(GH(l,w),$n[w.id].node=w):iw(w)}),e.edges().forEach(function(k){const w=e.edge(k);C.info("Edge "+k.v+" -> "+k.w+": "+JSON.stringify(w),w);const x=eW(u,k,w,$n,n,e);QH(w,x)}),e.nodes().forEach(function(k){const w=e.node(k);C.info(k,w.type,w.diff),w.type==="group"&&(_=w.diff)}),{elem:o,diff:_}},yy=(t,e,n,i,s)=>{pH(t,n,i,s),jH(),KH(),XH(),yH(),C.warn("Graph at first:",no(e)),vH(e),C.warn("Graph after:",no(e)),ow(t,e,i)},lw=t=>_n.sanitizeText(t,ht());let cw={dividerMargin:10,padding:5,textHeight:10};const nW=function(t,e,n,i){const s=Object.keys(t);C.info("keys:",s),C.info(t),s.forEach(function(o){const l=t[o];let u="";l.cssClasses.length>0&&(u=u+" "+l.cssClasses.join(" "));const f={labelStyle:""};let g=l.text!==void 0?l.text:l.id,_=0,k="";switch(l.type){case"class":k="class_box";break;default:k="class_box"}e.setNode(l.id,{labelStyle:f.labelStyle,shape:k,labelText:lw(g),classData:l,rx:_,ry:_,class:u,style:f.style,id:l.id,domId:l.domId,tooltip:i.db.getTooltip(l.id)||"",haveCallback:l.haveCallback,link:l.link,width:l.type==="group"?500:void 0,type:l.type,padding:ht().flowchart.padding}),C.info("setNode",{labelStyle:f.labelStyle,shape:k,labelText:g,rx:_,ry:_,class:u,style:f.style,id:l.id,width:l.type==="group"?500:void 0,type:l.type,padding:ht().flowchart.padding})})},rW=function(t,e,n,i){C.info(t),t.forEach(function(s,o){const l=s;let u="";const f={labelStyle:"",style:""};let g=l.text,_=0,k="note";if(e.setNode(l.id,{labelStyle:f.labelStyle,shape:k,labelText:lw(g),noteData:l,rx:_,ry:_,class:u,style:f.style,id:l.id,domId:l.id,tooltip:"",type:"note",padding:ht().flowchart.padding}),C.info("setNode",{labelStyle:f.labelStyle,shape:k,labelText:g,rx:_,ry:_,style:f.style,id:l.id,type:"note",padding:ht().flowchart.padding}),!l.class||!(l.class in i))return;const w=n+o,x={};x.classes="relation",x.pattern="dotted",x.id=`edgeNote${w}`,x.arrowhead="none",C.info(`Note edge: ${JSON.stringify(x)}, ${JSON.stringify(l)}`),x.startLabelRight="",x.endLabelLeft="",x.arrowTypeStart="none",x.arrowTypeEnd="none";let M="fill:none",R="";x.style=M,x.labelStyle=R,x.curve=zs(cw.curve,ns),e.setEdge(l.id,l.class,x,w)})},iW=function(t,e){const n=ht().flowchart;let i=0;t.forEach(function(s){i++;const o={};o.classes="relation",o.pattern=s.relation.lineType==1?"dashed":"solid",o.id="id"+i,s.type==="arrow_open"?o.arrowhead="none":o.arrowhead="normal",C.info(o,s),o.startLabelRight=s.relationTitle1==="none"?"":s.relationTitle1,o.endLabelLeft=s.relationTitle2==="none"?"":s.relationTitle2,o.arrowTypeStart=uw(s.relation.type1),o.arrowTypeEnd=uw(s.relation.type2);let l="",u="";if(s.style!==void 0){const f=zo(s.style);l=f.style,u=f.labelStyle}else l="fill:none";o.style=l,o.labelStyle=u,s.interpolate!==void 0?o.curve=zs(s.interpolate,ns):t.defaultInterpolate!==void 0?o.curve=zs(t.defaultInterpolate,ns):o.curve=zs(n.curve,ns),s.text=s.title,s.text===void 0?s.style!==void 0&&(o.arrowheadStyle="fill: #333"):(o.arrowheadStyle="fill: #333",o.labelpos="c",ht().flowchart.htmlLabels?(o.labelType="html",o.label='<span class="edgeLabel">'+s.text+"</span>"):(o.labelType="text",o.label=s.text.replace(_n.lineBreakRegex,`
`),s.style===void 0&&(o.style=o.style||"stroke: #333; stroke-width: 1.5px;fill:none"),o.labelStyle=o.labelStyle.replace("color:","fill:"))),e.setEdge(s.id1,s.id2,o,i)})},sW=function(t){Object.keys(t).forEach(function(n){cw[n]=t[n]})},aW=function(t,e,n,i){C.info("Drawing class - ",e);const s=ht().flowchart,o=ht().securityLevel;C.info("config:",s);const l=s.nodeSpacing||50,u=s.rankSpacing||50,f=new qr({multigraph:!0,compound:!0}).setGraph({rankdir:i.db.getDirection(),nodesep:l,ranksep:u,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),g=i.db.getClasses(),_=i.db.getRelations(),k=i.db.getNotes();C.info(_),nW(g,f,e,i),iW(_,f),rW(k,f,_.length+1,g);let w;o==="sandbox"&&(w=re("#i"+e));const x=re(o==="sandbox"?w.nodes()[0].contentDocument.body:"body"),M=x.select(`[id="${e}"]`),R=x.select("#"+e+" g");if(yy(R,f,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",e),Tn.insertTitle(M,"classTitleText",s.titleTopMargin,i.db.getDiagramTitle()),D1(f,M,s.diagramPadding,s.useMaxWidth),!s.htmlLabels){const B=o==="sandbox"?w.nodes()[0].contentDocument:document,U=B.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const Y of U){const X=Y.getBBox(),Q=B.createElementNS("http://www.w3.org/2000/svg","rect");Q.setAttribute("rx",0),Q.setAttribute("ry",0),Q.setAttribute("width",X.width),Q.setAttribute("height",X.height),Y.insertBefore(Q,Y.firstChild)}}};function uw(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}const oW={setConf:sW,draw:aW};var _y=function(){var t=function(q,H,$,O){for($=$||{},O=q.length;O--;$[q[O]]=H);return $},e=[1,2],n=[1,5],i=[6,9,11,23,25,27,29,30,31,49],s=[1,17],o=[1,18],l=[1,19],u=[1,20],f=[1,21],g=[1,22],_=[1,25],k=[1,30],w=[1,31],x=[1,32],M=[1,33],R=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],B=[1,45],U=[30,31,46,47],Y=[4,6,9,11,23,25,27,29,30,31,49],X=[42,43,44,45],Q=[22,37],at=[1,64],lt={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(H,$,O,W,A,mt,I){var It=mt.length-1;switch(A){case 1:break;case 3:this.$=[];break;case 4:mt[It-1].push(mt[It]),this.$=mt[It-1];break;case 5:case 6:this.$=mt[It];break;case 7:case 8:this.$=[];break;case 12:W.addEntity(mt[It-4]),W.addEntity(mt[It-2]),W.addRelationship(mt[It-4],mt[It],mt[It-2],mt[It-3]);break;case 13:W.addEntity(mt[It-3]),W.addAttributes(mt[It-3],mt[It-1]);break;case 14:W.addEntity(mt[It-2]);break;case 15:W.addEntity(mt[It]);break;case 16:case 17:this.$=mt[It].trim(),W.setAccTitle(this.$);break;case 18:case 19:this.$=mt[It].trim(),W.setAccDescription(this.$);break;case 20:case 41:this.$=mt[It];break;case 21:case 39:case 40:this.$=mt[It].replace(/"/g,"");break;case 22:this.$=[mt[It]];break;case 23:mt[It].push(mt[It-1]),this.$=mt[It];break;case 24:this.$={attributeType:mt[It-1],attributeName:mt[It]};break;case 25:this.$={attributeType:mt[It-2],attributeName:mt[It-1],attributeKeyType:mt[It]};break;case 26:this.$={attributeType:mt[It-2],attributeName:mt[It-1],attributeComment:mt[It]};break;case 27:this.$={attributeType:mt[It-3],attributeName:mt[It-2],attributeKeyType:mt[It-1],attributeComment:mt[It]};break;case 28:case 29:case 30:this.$=mt[It];break;case 31:this.$=mt[It].replace(/"/g,"");break;case 32:this.$={cardA:mt[It],relType:mt[It-1],cardB:mt[It-2]};break;case 33:this.$=W.Cardinality.ZERO_OR_ONE;break;case 34:this.$=W.Cardinality.ZERO_OR_MORE;break;case 35:this.$=W.Cardinality.ONE_OR_MORE;break;case 36:this.$=W.Cardinality.ONLY_ONE;break;case 37:this.$=W.Identification.NON_IDENTIFYING;break;case 38:this.$=W.Identification.IDENTIFYING;break;case 42:W.parseDirective("%%{","open_directive");break;case 43:W.parseDirective(mt[It],"type_directive");break;case 44:mt[It]=mt[It].trim().replace(/'/g,'"'),W.parseDirective(mt[It],"arg_directive");break;case 45:W.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:e,7:3,12:4,49:n},{1:[3]},t(i,[2,3],{5:6}),{3:7,4:e,7:3,12:4,49:n},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:s,25:o,27:l,29:u,30:f,31:g,49:n},{1:[2,2]},{14:23,15:[1,24],52:_},t([15,52],[2,43]),t(i,[2,8],{1:[2,1]}),t(i,[2,4]),{7:15,10:26,12:4,17:16,23:s,25:o,27:l,29:u,30:f,31:g,49:n},t(i,[2,6]),t(i,[2,7]),t(i,[2,11]),t(i,[2,15],{18:27,40:29,20:[1,28],42:k,43:w,44:x,45:M}),{24:[1,34]},{26:[1,35]},{28:[1,36]},t(i,[2,19]),t(R,[2,20]),t(R,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},t(i,[2,5]),{17:40,30:f,31:g},{21:41,22:[1,42],32:43,33:44,37:B},{41:46,46:[1,47],47:[1,48]},t(U,[2,33]),t(U,[2,34]),t(U,[2,35]),t(U,[2,36]),t(i,[2,16]),t(i,[2,17]),t(i,[2,18]),t(Y,[2,9]),{14:49,52:_},{52:[2,44]},{15:[1,50]},{22:[1,51]},t(i,[2,14]),{21:52,22:[2,22],32:43,33:44,37:B},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:k,43:w,44:x,45:M},t(X,[2,37]),t(X,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},t(i,[2,13]),{22:[2,23]},t(Q,[2,24],{35:61,36:62,38:[1,63],39:at}),t([22,37,38,39],[2,29]),t([30,31],[2,32]),t(Y,[2,10]),t(i,[2,12]),t(i,[2,39]),t(i,[2,40]),t(i,[2,41]),t(Q,[2,25],{36:65,39:at}),t(Q,[2,26]),t([22,37,39],[2,30]),t(Q,[2,31]),t(Q,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:function(H,$){if($.recoverable)this.trace(H);else{var O=new Error(H);throw O.hash=$,O}},parse:function(H){var $=this,O=[0],W=[],A=[null],mt=[],I=this.table,It="",le=0,qt=0,ut=2,St=1,bt=mt.slice.call(arguments,1),kt=Object.create(this.lexer),Lt={yy:{}};for(var Ht in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ht)&&(Lt.yy[Ht]=this.yy[Ht]);kt.setInput(H,Lt.yy),Lt.yy.lexer=kt,Lt.yy.parser=this,typeof kt.yylloc>"u"&&(kt.yylloc={});var pt=kt.yylloc;mt.push(pt);var _e=kt.options&&kt.options.ranges;typeof Lt.yy.parseError=="function"?this.parseError=Lt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function tt(){var vt;return vt=W.pop()||kt.lex()||St,typeof vt!="number"&&(vt instanceof Array&&(W=vt,vt=W.pop()),vt=$.symbols_[vt]||vt),vt}for(var st,dt,Z,G,z={},yt,P,Nt,nt;;){if(dt=O[O.length-1],this.defaultActions[dt]?Z=this.defaultActions[dt]:((st===null||typeof st>"u")&&(st=tt()),Z=I[dt]&&I[dt][st]),typeof Z>"u"||!Z.length||!Z[0]){var Ee="";nt=[];for(yt in I[dt])this.terminals_[yt]&&yt>ut&&nt.push("'"+this.terminals_[yt]+"'");kt.showPosition?Ee="Parse error on line "+(le+1)+`:
`+kt.showPosition()+`
Expecting `+nt.join(", ")+", got '"+(this.terminals_[st]||st)+"'":Ee="Parse error on line "+(le+1)+": Unexpected "+(st==St?"end of input":"'"+(this.terminals_[st]||st)+"'"),this.parseError(Ee,{text:kt.match,token:this.terminals_[st]||st,line:kt.yylineno,loc:pt,expected:nt})}if(Z[0]instanceof Array&&Z.length>1)throw new Error("Parse Error: multiple actions possible at state: "+dt+", token: "+st);switch(Z[0]){case 1:O.push(st),A.push(kt.yytext),mt.push(kt.yylloc),O.push(Z[1]),st=null,qt=kt.yyleng,It=kt.yytext,le=kt.yylineno,pt=kt.yylloc;break;case 2:if(P=this.productions_[Z[1]][1],z.$=A[A.length-P],z._$={first_line:mt[mt.length-(P||1)].first_line,last_line:mt[mt.length-1].last_line,first_column:mt[mt.length-(P||1)].first_column,last_column:mt[mt.length-1].last_column},_e&&(z._$.range=[mt[mt.length-(P||1)].range[0],mt[mt.length-1].range[1]]),G=this.performAction.apply(z,[It,qt,le,Lt.yy,Z[1],A,mt].concat(bt)),typeof G<"u")return G;P&&(O=O.slice(0,-1*P*2),A=A.slice(0,-1*P),mt=mt.slice(0,-1*P)),O.push(this.productions_[Z[1]][0]),A.push(z.$),mt.push(z._$),Nt=I[O[O.length-2]][O[O.length-1]],O.push(Nt);break;case 3:return!0}}return!0}},J=function(){var q={EOF:1,parseError:function($,O){if(this.yy.parser)this.yy.parser.parseError($,O);else throw new Error($)},setInput:function(H,$){return this.yy=$||this.yy||{},this._input=H,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var H=this._input[0];this.yytext+=H,this.yyleng++,this.offset++,this.match+=H,this.matched+=H;var $=H.match(/(?:\r\n?|\n).*/g);return $?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),H},unput:function(H){var $=H.length,O=H.split(/(?:\r\n?|\n)/g);this._input=H+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$),this.offset-=$;var W=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),O.length-1&&(this.yylineno-=O.length-1);var A=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:O?(O.length===W.length?this.yylloc.first_column:0)+W[W.length-O.length].length-O[0].length:this.yylloc.first_column-$},this.options.ranges&&(this.yylloc.range=[A[0],A[0]+this.yyleng-$]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(H){this.unput(this.match.slice(H))},pastInput:function(){var H=this.matched.substr(0,this.matched.length-this.match.length);return(H.length>20?"...":"")+H.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var H=this.match;return H.length<20&&(H+=this._input.substr(0,20-H.length)),(H.substr(0,20)+(H.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var H=this.pastInput(),$=new Array(H.length+1).join("-");return H+this.upcomingInput()+`
`+$+"^"},test_match:function(H,$){var O,W,A;if(this.options.backtrack_lexer&&(A={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(A.yylloc.range=this.yylloc.range.slice(0))),W=H[0].match(/(?:\r\n?|\n).*/g),W&&(this.yylineno+=W.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:W?W[W.length-1].length-W[W.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length},this.yytext+=H[0],this.match+=H[0],this.matches=H,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(H[0].length),this.matched+=H[0],O=this.performAction.call(this,this.yy,this,$,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),O)return O;if(this._backtrack){for(var mt in A)this[mt]=A[mt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var H,$,O,W;this._more||(this.yytext="",this.match="");for(var A=this._currentRules(),mt=0;mt<A.length;mt++)if(O=this._input.match(this.rules[A[mt]]),O&&(!$||O[0].length>$[0].length)){if($=O,W=mt,this.options.backtrack_lexer){if(H=this.test_match(O,A[mt]),H!==!1)return H;if(this._backtrack){$=!1;continue}else return!1}else if(!this.options.flex)break}return $?(H=this.test_match($,A[W]),H!==!1?H:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var $=this.next();return $||this.lex()},begin:function($){this.conditionStack.push($)},popState:function(){var $=this.conditionStack.length-1;return $>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function($){return $=this.conditionStack.length-1-Math.abs($||0),$>=0?this.conditionStack[$]:"INITIAL"},pushState:function($){this.begin($)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function($,O,W,A){switch(W){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 21:break;case 22:return 38;case 23:return 37;case 24:return 37;case 25:return 39;case 26:break;case 27:return this.popState(),22;case 28:return O.yytext[0];case 29:return 42;case 30:return 44;case 31:return 44;case 32:return 44;case 33:return 42;case 34:return 42;case 35:return 43;case 36:return 43;case 37:return 43;case 38:return 43;case 39:return 43;case 40:return 44;case 41:return 43;case 42:return 44;case 43:return 45;case 44:return 45;case 45:return 45;case 46:return 45;case 47:return 42;case 48:return 43;case 49:return 44;case 50:return 46;case 51:return 47;case 52:return 47;case 53:return 46;case 54:return 46;case 55:return 46;case 56:return 30;case 57:return O.yytext[0];case 58:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],inclusive:!0}}};return q}();lt.lexer=J;function ot(){this.yy={}}return ot.prototype=lt,lt.Parser=ot,new ot}();_y.parser=_y;const lW=_y,cW=t=>t.match(/^\s*erDiagram/)!==null;let cd={},vy=[];const uW={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},hW={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},dW=function(t,e,n){Sr.parseDirective(this,t,e,n)},hw=function(t){return cd[t]===void 0&&(cd[t]={attributes:[]},C.info("Added new entity :",t)),cd[t]},fW={Cardinality:uW,Identification:hW,parseDirective:dW,getConfig:()=>ht().er,addEntity:hw,addAttributes:function(t,e){let n=hw(t),i;for(i=e.length-1;i>=0;i--)n.attributes.push(e[i]),C.debug("Added attribute ",e[i].attributeName)},getEntities:()=>cd,addRelationship:function(t,e,n,i){let s={entityA:t,roleA:e,entityB:n,relSpec:i};vy.push(s),C.debug("Added new relationship :",s)},getRelationships:()=>vy,clear:function(){cd={},vy=[],js()},setAccTitle:xs,getAccTitle:qs,setAccDescription:Gs,getAccDescription:Xs,setDiagramTitle:Za,getDiagramTitle:Qa},io={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},so={ERMarkers:io,insertMarkers:function(t,e){let n;t.append("defs").append("marker").attr("id",io.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",io.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",io.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",io.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",io.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",io.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),n=t.append("defs").append("marker").attr("id",io.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),n=t.append("defs").append("marker").attr("id",io.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}};let xp;const pW=new Uint8Array(16);function gW(){if(!xp&&(xp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xp(pW)}const fi=[];for(let t=0;t<256;++t)fi.push((t+256).toString(16).slice(1));function mW(t,e=0){return(fi[t[e+0]]+fi[t[e+1]]+fi[t[e+2]]+fi[t[e+3]]+"-"+fi[t[e+4]]+fi[t[e+5]]+"-"+fi[t[e+6]]+fi[t[e+7]]+"-"+fi[t[e+8]]+fi[t[e+9]]+"-"+fi[t[e+10]]+fi[t[e+11]]+fi[t[e+12]]+fi[t[e+13]]+fi[t[e+14]]+fi[t[e+15]]).toLowerCase()}const dw={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function yW(t,e,n){if(dw.randomUUID&&!e&&!t)return dw.randomUUID();t=t||{};const i=t.random||(t.rng||gW)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=i[s];return e}return mW(i)}const _W=/[^\dA-Za-z](\W)*/g;let Jr={},ud=new Map;const vW=function(t){const e=Object.keys(t);for(const n of e)Jr[n]=t[n]},bW=(t,e,n)=>{const i=Jr.entityPadding/3,s=Jr.entityPadding/3,o=Jr.fontSize*.85,l=e.node().getBBox(),u=[];let f=!1,g=!1,_=0,k=0,w=0,x=0,M=l.height+i*2,R=1;n.forEach(X=>{X.attributeKeyType!==void 0&&(f=!0),X.attributeComment!==void 0&&(g=!0)}),n.forEach(X=>{const Q=`${e.node().id}-attr-${R}`;let at=0;const lt=Fo(X.attributeType),J=t.append("text").classed("er entityLabel",!0).attr("id",`${Q}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ht().fontFamily).style("font-size",o+"px").text(lt),ot=t.append("text").classed("er entityLabel",!0).attr("id",`${Q}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ht().fontFamily).style("font-size",o+"px").text(X.attributeName),q={};q.tn=J,q.nn=ot;const H=J.node().getBBox(),$=ot.node().getBBox();if(_=Math.max(_,H.width),k=Math.max(k,$.width),at=Math.max(H.height,$.height),f){const O=t.append("text").classed("er entityLabel",!0).attr("id",`${Q}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ht().fontFamily).style("font-size",o+"px").text(X.attributeKeyType||"");q.kn=O;const W=O.node().getBBox();w=Math.max(w,W.width),at=Math.max(at,W.height)}if(g){const O=t.append("text").classed("er entityLabel",!0).attr("id",`${Q}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ht().fontFamily).style("font-size",o+"px").text(X.attributeComment||"");q.cn=O;const W=O.node().getBBox();x=Math.max(x,W.width),at=Math.max(at,W.height)}q.height=at,u.push(q),M+=at+i*2,R+=1});let B=4;f&&(B+=2),g&&(B+=2);const U=_+k+w+x,Y={width:Math.max(Jr.minEntityWidth,Math.max(l.width+Jr.entityPadding*2,U+s*B)),height:n.length>0?M:Math.max(Jr.minEntityHeight,l.height+Jr.entityPadding*2)};if(n.length>0){const X=Math.max(0,(Y.width-U-s*B)/(B/2));e.attr("transform","translate("+Y.width/2+","+(i+l.height/2)+")");let Q=l.height+i*2,at="attributeBoxOdd";u.forEach(lt=>{const J=Q+i+lt.height/2;lt.tn.attr("transform","translate("+s+","+J+")");const ot=t.insert("rect","#"+lt.tn.node().id).classed(`er ${at}`,!0).attr("x",0).attr("y",Q).attr("width",_+s*2+X).attr("height",lt.height+i*2),q=parseFloat(ot.attr("x"))+parseFloat(ot.attr("width"));lt.nn.attr("transform","translate("+(q+s)+","+J+")");const H=t.insert("rect","#"+lt.nn.node().id).classed(`er ${at}`,!0).attr("x",q).attr("y",Q).attr("width",k+s*2+X).attr("height",lt.height+i*2);let $=parseFloat(H.attr("x"))+parseFloat(H.attr("width"));if(f){lt.kn.attr("transform","translate("+($+s)+","+J+")");const O=t.insert("rect","#"+lt.kn.node().id).classed(`er ${at}`,!0).attr("x",$).attr("y",Q).attr("width",w+s*2+X).attr("height",lt.height+i*2);$=parseFloat(O.attr("x"))+parseFloat(O.attr("width"))}g&&(lt.cn.attr("transform","translate("+($+s)+","+J+")"),t.insert("rect","#"+lt.cn.node().id).classed(`er ${at}`,"true").attr("x",$).attr("y",Q).attr("width",x+s*2+X).attr("height",lt.height+i*2)),Q+=lt.height+i*2,at=at==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else Y.height=Math.max(Jr.minEntityHeight,M),e.attr("transform","translate("+Y.width/2+","+Y.height/2+")");return Y},kW=function(t,e,n){const i=Object.keys(e);let s;return i.forEach(function(o){const l=CW(o,"entity");ud.set(o,l);const u=t.append("g").attr("id",l);s=s===void 0?l:s;const f="text-"+l,g=u.append("text").classed("er entityLabel",!0).attr("id",f).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",ht().fontFamily).style("font-size",Jr.fontSize+"px").text(o),{width:_,height:k}=bW(u,g,e[o].attributes),x=u.insert("rect","#"+f).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",_).attr("height",k).node().getBBox();n.setNode(l,{width:x.width,height:x.height,shape:"rect",id:l})}),s},wW=function(t,e){e.nodes().forEach(function(n){n!==void 0&&e.node(n)!==void 0&&t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )")})},fw=function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},xW=function(t,e){return t.forEach(function(n){e.setEdge(ud.get(n.entityA),ud.get(n.entityB),{relationship:n},fw(n))}),t};let pw=0;const TW=function(t,e,n,i,s){pw++;const o=n.edge(ud.get(e.entityA),ud.get(e.entityB),fw(e)),l=eu().x(function(M){return M.x}).y(function(M){return M.y}).curve(nu),u=t.insert("path","#"+i).classed("er relationshipLine",!0).attr("d",l(o.points)).style("stroke",Jr.stroke).style("fill","none");e.relSpec.relType===s.db.Identification.NON_IDENTIFYING&&u.attr("stroke-dasharray","8,8");let f="";switch(Jr.arrowMarkerAbsolute&&(f=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,f=f.replace(/\(/g,"\\("),f=f.replace(/\)/g,"\\)")),e.relSpec.cardA){case s.db.Cardinality.ZERO_OR_ONE:u.attr("marker-end","url("+f+"#"+so.ERMarkers.ZERO_OR_ONE_END+")");break;case s.db.Cardinality.ZERO_OR_MORE:u.attr("marker-end","url("+f+"#"+so.ERMarkers.ZERO_OR_MORE_END+")");break;case s.db.Cardinality.ONE_OR_MORE:u.attr("marker-end","url("+f+"#"+so.ERMarkers.ONE_OR_MORE_END+")");break;case s.db.Cardinality.ONLY_ONE:u.attr("marker-end","url("+f+"#"+so.ERMarkers.ONLY_ONE_END+")");break}switch(e.relSpec.cardB){case s.db.Cardinality.ZERO_OR_ONE:u.attr("marker-start","url("+f+"#"+so.ERMarkers.ZERO_OR_ONE_START+")");break;case s.db.Cardinality.ZERO_OR_MORE:u.attr("marker-start","url("+f+"#"+so.ERMarkers.ZERO_OR_MORE_START+")");break;case s.db.Cardinality.ONE_OR_MORE:u.attr("marker-start","url("+f+"#"+so.ERMarkers.ONE_OR_MORE_START+")");break;case s.db.Cardinality.ONLY_ONE:u.attr("marker-start","url("+f+"#"+so.ERMarkers.ONLY_ONE_START+")");break}const g=u.node().getTotalLength(),_=u.node().getPointAtLength(g*.5),k="rel"+pw,x=t.append("text").classed("er relationshipLabel",!0).attr("id",k).attr("x",_.x).attr("y",_.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",ht().fontFamily).style("font-size",Jr.fontSize+"px").text(e.roleA).node().getBBox();t.insert("rect","#"+k).classed("er relationshipLabelBox",!0).attr("x",_.x-x.width/2).attr("y",_.y-x.height/2).attr("width",x.width).attr("height",x.height)},EW=function(t,e,n,i){Jr=ht().er,C.info("Drawing ER diagram");const s=ht().securityLevel;let o;s==="sandbox"&&(o=re("#i"+e));const u=re(s==="sandbox"?o.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);so.insertMarkers(u,Jr);let f;f=new qr({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Jr.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const g=kW(u,i.db.getEntities(),f),_=xW(i.db.getRelationships(),f);Su(f),wW(u,f),_.forEach(function(R){TW(u,R,f,g,i)});const k=Jr.diagramPadding;Tn.insertTitle(u,"entityTitleText",Jr.titleTopMargin,i.db.getDiagramTitle());const w=u.node().getBBox(),x=w.width+k*2,M=w.height+k*2;Ws(u,M,x,Jr.useMaxWidth),u.attr("viewBox",`${w.x-k} ${w.y-k} ${x} ${M}`)};function CW(t="",e=""){const n=t.replace(_W,"");return`${gw(e)}${gw(n)}${yW()}`}function gw(t=""){return t.length>0?`${t}-`:""}const SW={setConf:vW,draw:EW};var by=function(){var t=function(Qi,Ye,tn,fn){for(tn=tn||{},fn=Qi.length;fn--;tn[Qi[fn]]=Ye);return tn},e=[1,9],n=[1,7],i=[1,6],s=[1,8],o=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],l=[2,10],u=[1,20],f=[1,21],g=[1,22],_=[1,23],k=[1,30],w=[1,32],x=[1,33],M=[1,34],R=[1,62],B=[1,48],U=[1,52],Y=[1,36],X=[1,37],Q=[1,38],at=[1,39],lt=[1,40],J=[1,56],ot=[1,63],q=[1,51],H=[1,53],$=[1,55],O=[1,59],W=[1,60],A=[1,41],mt=[1,42],I=[1,43],It=[1,44],le=[1,61],qt=[1,50],ut=[1,54],St=[1,57],bt=[1,58],kt=[1,49],Lt=[1,66],Ht=[1,71],pt=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],_e=[1,75],tt=[1,74],st=[1,76],dt=[20,21,23,81,82],Z=[1,99],G=[1,104],z=[1,107],yt=[1,108],P=[1,101],Nt=[1,106],nt=[1,109],Ee=[1,102],vt=[1,114],fe=[1,113],Zt=[1,103],Pt=[1,105],Qt=[1,110],Gt=[1,111],Bt=[1,112],xt=[1,115],pn=[20,21,22,23,81,82],We=[20,21,22,23,53,81,82],ze=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],qe=[20,21,23],Ve=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Hn=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Re=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],Ce=[1,149],we=[1,157],Wt=[1,158],Dt=[1,159],oe=[1,160],zt=[1,144],Se=[1,145],Et=[1,141],un=[1,152],Ot=[1,153],nn=[1,154],kn=[1,155],Ln=[1,156],In=[1,161],Pn=[1,162],He=[1,147],hn=[1,150],En=[1,146],Je=[1,143],ra=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],os=[1,165],or=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],dn=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],mr=[12,21,22,24],vr=[22,106],kr=[1,250],wr=[1,245],yr=[1,246],Br=[1,254],Gr=[1,251],Ae=[1,248],gt=[1,247],ie=[1,249],pe=[1,252],wn=[1,253],lr=[1,255],nr=[1,273],Lr=[20,21,23,106],On=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],fr={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(Ye,tn,fn,be,xr,ct,tc){var _t=ct.length-1;switch(xr){case 5:be.parseDirective("%%{","open_directive");break;case 6:be.parseDirective(ct[_t],"type_directive");break;case 7:ct[_t]=ct[_t].trim().replace(/'/g,'"'),be.parseDirective(ct[_t],"arg_directive");break;case 8:be.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(ct[_t])||ct[_t].length>0)&&ct[_t-1].push(ct[_t]),this.$=ct[_t-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=ct[_t];break;case 19:be.setDirection("TB"),this.$="TB";break;case 20:be.setDirection(ct[_t-1]),this.$=ct[_t-1];break;case 35:this.$=ct[_t-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=be.addSubGraph(ct[_t-6],ct[_t-1],ct[_t-4]);break;case 42:this.$=be.addSubGraph(ct[_t-3],ct[_t-1],ct[_t-3]);break;case 43:this.$=be.addSubGraph(void 0,ct[_t-1],void 0);break;case 45:this.$=ct[_t].trim(),be.setAccTitle(this.$);break;case 46:case 47:this.$=ct[_t].trim(),be.setAccDescription(this.$);break;case 51:be.addLink(ct[_t-2].stmt,ct[_t],ct[_t-1]),this.$={stmt:ct[_t],nodes:ct[_t].concat(ct[_t-2].nodes)};break;case 52:be.addLink(ct[_t-3].stmt,ct[_t-1],ct[_t-2]),this.$={stmt:ct[_t-1],nodes:ct[_t-1].concat(ct[_t-3].nodes)};break;case 53:this.$={stmt:ct[_t-1],nodes:ct[_t-1]};break;case 54:this.$={stmt:ct[_t],nodes:ct[_t]};break;case 55:this.$=[ct[_t]];break;case 56:this.$=ct[_t-4].concat(ct[_t]);break;case 57:this.$=[ct[_t-2]],be.setClass(ct[_t-2],ct[_t]);break;case 58:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"square");break;case 59:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"doublecircle");break;case 60:this.$=ct[_t-5],be.addVertex(ct[_t-5],ct[_t-2],"circle");break;case 61:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"ellipse");break;case 62:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"stadium");break;case 63:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"subroutine");break;case 64:this.$=ct[_t-7],be.addVertex(ct[_t-7],ct[_t-1],"rect",void 0,void 0,void 0,Object.fromEntries([[ct[_t-5],ct[_t-3]]]));break;case 65:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"cylinder");break;case 66:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"round");break;case 67:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"diamond");break;case 68:this.$=ct[_t-5],be.addVertex(ct[_t-5],ct[_t-2],"hexagon");break;case 69:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"odd");break;case 70:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"trapezoid");break;case 71:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"inv_trapezoid");break;case 72:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"lean_right");break;case 73:this.$=ct[_t-3],be.addVertex(ct[_t-3],ct[_t-1],"lean_left");break;case 74:this.$=ct[_t],be.addVertex(ct[_t]);break;case 75:ct[_t-1].text=ct[_t],this.$=ct[_t-1];break;case 76:case 77:ct[_t-2].text=ct[_t-1],this.$=ct[_t-2];break;case 78:this.$=ct[_t];break;case 79:var Ai=be.destructLink(ct[_t],ct[_t-2]);this.$={type:Ai.type,stroke:Ai.stroke,length:Ai.length,text:ct[_t-1]};break;case 80:var Ai=be.destructLink(ct[_t]);this.$={type:Ai.type,stroke:Ai.stroke,length:Ai.length};break;case 81:this.$=ct[_t-1];break;case 83:case 97:case 153:this.$=ct[_t-1]+""+ct[_t];break;case 98:case 99:this.$=ct[_t-4],be.addClass(ct[_t-2],ct[_t]);break;case 100:this.$=ct[_t-4],be.setClass(ct[_t-2],ct[_t]);break;case 101:case 109:this.$=ct[_t-1],be.setClickEvent(ct[_t-1],ct[_t]);break;case 102:case 110:this.$=ct[_t-3],be.setClickEvent(ct[_t-3],ct[_t-2]),be.setTooltip(ct[_t-3],ct[_t]);break;case 103:this.$=ct[_t-2],be.setClickEvent(ct[_t-2],ct[_t-1],ct[_t]);break;case 104:this.$=ct[_t-4],be.setClickEvent(ct[_t-4],ct[_t-3],ct[_t-2]),be.setTooltip(ct[_t-4],ct[_t]);break;case 105:case 111:this.$=ct[_t-1],be.setLink(ct[_t-1],ct[_t]);break;case 106:case 112:this.$=ct[_t-3],be.setLink(ct[_t-3],ct[_t-2]),be.setTooltip(ct[_t-3],ct[_t]);break;case 107:case 113:this.$=ct[_t-3],be.setLink(ct[_t-3],ct[_t-2],ct[_t]);break;case 108:case 114:this.$=ct[_t-5],be.setLink(ct[_t-5],ct[_t-4],ct[_t]),be.setTooltip(ct[_t-5],ct[_t-2]);break;case 115:this.$=ct[_t-4],be.addVertex(ct[_t-2],void 0,void 0,ct[_t]);break;case 116:case 118:this.$=ct[_t-4],be.updateLink(ct[_t-2],ct[_t]);break;case 117:this.$=ct[_t-4],be.updateLink([ct[_t-2]],ct[_t]);break;case 119:this.$=ct[_t-8],be.updateLinkInterpolate([ct[_t-6]],ct[_t-2]),be.updateLink([ct[_t-6]],ct[_t]);break;case 120:this.$=ct[_t-8],be.updateLinkInterpolate(ct[_t-6],ct[_t-2]),be.updateLink(ct[_t-6],ct[_t]);break;case 121:this.$=ct[_t-6],be.updateLinkInterpolate([ct[_t-4]],ct[_t]);break;case 122:this.$=ct[_t-6],be.updateLinkInterpolate(ct[_t-4],ct[_t]);break;case 123:case 125:this.$=[ct[_t]];break;case 124:case 126:ct[_t-2].push(ct[_t]),this.$=ct[_t-2];break;case 128:this.$=ct[_t-1]+ct[_t];break;case 150:this.$=ct[_t];break;case 151:this.$=ct[_t-1]+""+ct[_t];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:e,16:4,21:n,22:i,24:s},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:e,16:4,21:n,22:i,24:s},t(o,l,{17:11}),{7:12,13:[1,13]},{16:14,21:n,22:i,24:s},{16:15,21:n,22:i,24:s},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:u,21:f,22:g,23:_,32:24,33:25,34:26,35:27,36:28,37:29,38:k,43:31,44:w,46:x,48:M,50:35,51:45,52:R,54:46,66:B,67:U,86:Y,87:X,88:Q,89:at,90:lt,91:J,95:ot,105:q,106:H,109:$,111:O,112:W,116:47,118:A,119:mt,120:I,121:It,122:le,123:qt,124:ut,125:St,126:bt,127:kt},{8:64,10:[1,65],15:Lt},t([10,15],[2,6]),t(o,[2,17]),t(o,[2,18]),t(o,[2,19]),{20:[1,68],21:[1,69],22:Ht,27:67,30:70},t(pt,[2,11]),t(pt,[2,12]),t(pt,[2,13]),t(pt,[2,14]),t(pt,[2,15]),t(pt,[2,16]),{9:72,20:_e,21:tt,23:st,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:_e,21:tt,23:st},{9:81,20:_e,21:tt,23:st},{9:82,20:_e,21:tt,23:st},{9:83,20:_e,21:tt,23:st},{9:84,20:_e,21:tt,23:st},{9:86,20:_e,21:tt,22:[1,85],23:st},t(pt,[2,44]),{45:[1,87]},{47:[1,88]},t(pt,[2,47]),t(dt,[2,54],{30:89,22:Ht}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:Z,52:G,66:z,67:yt,84:[1,97],91:P,97:96,98:[1,94],100:[1,95],105:Nt,106:nt,109:Ee,111:vt,112:fe,115:100,117:98,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t(pt,[2,158]),t(pt,[2,159]),t(pt,[2,160]),t(pt,[2,161]),t(pn,[2,55],{53:[1,116]}),t(We,[2,74],{116:129,40:[1,117],52:R,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:B,67:U,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:J,95:ot,105:q,106:H,109:$,111:O,112:W,122:le,123:qt,124:ut,125:St,126:bt,127:kt}),t(ze,[2,150]),t(ze,[2,175]),t(ze,[2,176]),t(ze,[2,177]),t(ze,[2,178]),t(ze,[2,179]),t(ze,[2,180]),t(ze,[2,181]),t(ze,[2,182]),t(ze,[2,183]),t(ze,[2,184]),t(ze,[2,185]),t(ze,[2,186]),t(ze,[2,187]),t(ze,[2,188]),t(ze,[2,189]),t(ze,[2,190]),{9:130,20:_e,21:tt,23:st},{11:131,14:[1,132]},t(qe,[2,8]),t(o,[2,20]),t(o,[2,26]),t(o,[2,27]),{21:[1,133]},t(Ve,[2,34],{30:134,22:Ht}),t(pt,[2,35]),{50:135,51:45,52:R,54:46,66:B,67:U,91:J,95:ot,105:q,106:H,109:$,111:O,112:W,116:47,122:le,123:qt,124:ut,125:St,126:bt,127:kt},t(Hn,[2,48]),t(Hn,[2,49]),t(Hn,[2,50]),t(Re,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:Ce,24:we,26:Wt,38:Dt,39:139,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),t(pt,[2,36]),t(pt,[2,37]),t(pt,[2,38]),t(pt,[2,39]),t(pt,[2,40]),{22:Ce,24:we,26:Wt,38:Dt,39:163,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t(ra,l,{17:164}),t(pt,[2,45]),t(pt,[2,46]),t(dt,[2,53],{52:os}),{26:Z,52:G,66:z,67:yt,91:P,97:166,102:[1,167],105:Nt,106:nt,109:Ee,111:vt,112:fe,115:100,117:98,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{95:[1,168],103:169,105:[1,170]},{26:Z,52:G,66:z,67:yt,91:P,95:[1,171],97:172,105:Nt,106:nt,109:Ee,111:vt,112:fe,115:100,117:98,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{26:Z,52:G,66:z,67:yt,91:P,97:173,105:Nt,106:nt,109:Ee,111:vt,112:fe,115:100,117:98,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t(qe,[2,101],{22:[1,174],99:[1,175]}),t(qe,[2,105],{22:[1,176]}),t(qe,[2,109],{115:100,117:178,22:[1,177],26:Z,52:G,66:z,67:yt,91:P,105:Nt,106:nt,109:Ee,111:vt,112:fe,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt}),t(qe,[2,111],{22:[1,179]}),t(or,[2,152]),t(or,[2,154]),t(or,[2,155]),t(or,[2,156]),t(or,[2,157]),t(dn,[2,162]),t(dn,[2,163]),t(dn,[2,164]),t(dn,[2,165]),t(dn,[2,166]),t(dn,[2,167]),t(dn,[2,168]),t(dn,[2,169]),t(dn,[2,170]),t(dn,[2,171]),t(dn,[2,172]),t(dn,[2,173]),t(dn,[2,174]),{52:R,54:180,66:B,67:U,91:J,95:ot,105:q,106:H,109:$,111:O,112:W,116:47,122:le,123:qt,124:ut,125:St,126:bt,127:kt},{22:Ce,24:we,26:Wt,38:Dt,39:181,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,39:182,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,39:184,42:oe,52:G,57:[1,183],66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,39:185,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,39:186,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,39:187,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{66:[1,188]},{22:Ce,24:we,26:Wt,38:Dt,39:189,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,39:190,42:oe,52:G,66:z,67:yt,71:[1,191],73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,39:192,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,39:193,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,39:194,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t(ze,[2,151]),t(mr,[2,3]),{8:195,15:Lt},{15:[2,7]},t(o,[2,28]),t(Ve,[2,33]),t(dt,[2,51],{30:196,22:Ht}),t(Re,[2,75],{22:[1,197]}),{22:[1,198]},{22:Ce,24:we,26:Wt,38:Dt,39:199,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,66:z,67:yt,73:zt,81:Se,82:[1,200],83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t(dn,[2,82]),t(dn,[2,84]),t(dn,[2,140]),t(dn,[2,141]),t(dn,[2,142]),t(dn,[2,143]),t(dn,[2,144]),t(dn,[2,145]),t(dn,[2,146]),t(dn,[2,147]),t(dn,[2,148]),t(dn,[2,149]),t(dn,[2,85]),t(dn,[2,86]),t(dn,[2,87]),t(dn,[2,88]),t(dn,[2,89]),t(dn,[2,90]),t(dn,[2,91]),t(dn,[2,92]),t(dn,[2,93]),t(dn,[2,94]),t(dn,[2,95]),{9:203,20:_e,21:tt,22:Ce,23:st,24:we,26:Wt,38:Dt,40:[1,202],42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{18:18,19:19,20:u,21:f,22:g,23:_,32:24,33:25,34:26,35:27,36:28,37:29,38:k,42:[1,204],43:31,44:w,46:x,48:M,50:35,51:45,52:R,54:46,66:B,67:U,86:Y,87:X,88:Q,89:at,90:lt,91:J,95:ot,105:q,106:H,109:$,111:O,112:W,116:47,118:A,119:mt,120:I,121:It,122:le,123:qt,124:ut,125:St,126:bt,127:kt},{22:Ht,30:205},{22:[1,206],26:Z,52:G,66:z,67:yt,91:P,105:Nt,106:nt,109:Ee,111:vt,112:fe,115:100,117:178,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},t(vr,[2,123]),{22:[1,211]},{22:[1,212],26:Z,52:G,66:z,67:yt,91:P,105:Nt,106:nt,109:Ee,111:vt,112:fe,115:100,117:178,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:[1,213],26:Z,52:G,66:z,67:yt,91:P,105:Nt,106:nt,109:Ee,111:vt,112:fe,115:100,117:178,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{84:[1,214]},t(qe,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},t(or,[2,153]),{84:[1,219],101:[1,220]},t(pn,[2,57],{116:129,52:R,66:B,67:U,91:J,95:ot,105:q,106:H,109:$,111:O,112:W,122:le,123:qt,124:ut,125:St,126:bt,127:kt}),{22:Ce,24:we,26:Wt,38:Dt,41:[1,221],42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,56:[1,222],66:z,67:yt,73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,39:223,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,58:[1,224],66:z,67:yt,73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,60:[1,225],66:z,67:yt,73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,62:[1,226],66:z,67:yt,73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,64:[1,227],66:z,67:yt,73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{67:[1,228]},{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,66:z,67:yt,70:[1,229],73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,66:z,67:yt,72:[1,230],73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,39:231,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,41:[1,232],42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,66:z,67:yt,73:zt,75:[1,233],77:[1,234],81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,66:z,67:yt,73:zt,75:[1,236],77:[1,235],81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{9:237,20:_e,21:tt,23:st},t(dt,[2,52],{52:os}),t(Re,[2,77]),t(Re,[2,76]),{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,66:z,67:yt,68:[1,238],73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t(Re,[2,79]),t(dn,[2,83]),{22:Ce,24:we,26:Wt,38:Dt,39:239,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t(ra,l,{17:240}),t(pt,[2,43]),{51:241,52:R,54:46,66:B,67:U,91:J,95:ot,105:q,106:H,109:$,111:O,112:W,116:47,122:le,123:qt,124:ut,125:St,126:bt,127:kt},{22:kr,66:wr,67:yr,86:Br,96:242,102:Gr,105:Ae,107:243,108:244,109:gt,110:ie,111:pe,112:wn,113:lr},{22:kr,66:wr,67:yr,86:Br,96:256,102:Gr,105:Ae,107:243,108:244,109:gt,110:ie,111:pe,112:wn,113:lr},{22:kr,66:wr,67:yr,86:Br,96:257,102:Gr,104:[1,258],105:Ae,107:243,108:244,109:gt,110:ie,111:pe,112:wn,113:lr},{22:kr,66:wr,67:yr,86:Br,96:259,102:Gr,104:[1,260],105:Ae,107:243,108:244,109:gt,110:ie,111:pe,112:wn,113:lr},{105:[1,261]},{22:kr,66:wr,67:yr,86:Br,96:262,102:Gr,105:Ae,107:243,108:244,109:gt,110:ie,111:pe,112:wn,113:lr},{22:kr,66:wr,67:yr,86:Br,96:263,102:Gr,105:Ae,107:243,108:244,109:gt,110:ie,111:pe,112:wn,113:lr},{26:Z,52:G,66:z,67:yt,91:P,97:264,105:Nt,106:nt,109:Ee,111:vt,112:fe,115:100,117:98,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t(qe,[2,102]),{84:[1,265]},t(qe,[2,106],{22:[1,266]}),t(qe,[2,107]),t(qe,[2,110]),t(qe,[2,112],{22:[1,267]}),t(qe,[2,113]),t(We,[2,58]),t(We,[2,59]),{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,58:[1,268],66:z,67:yt,73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t(We,[2,66]),t(We,[2,61]),t(We,[2,62]),t(We,[2,63]),{66:[1,269]},t(We,[2,65]),t(We,[2,67]),{22:Ce,24:we,26:Wt,38:Dt,42:oe,52:G,66:z,67:yt,72:[1,270],73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t(We,[2,69]),t(We,[2,70]),t(We,[2,72]),t(We,[2,71]),t(We,[2,73]),t(mr,[2,4]),t([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:Ce,24:we,26:Wt,38:Dt,41:[1,271],42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{18:18,19:19,20:u,21:f,22:g,23:_,32:24,33:25,34:26,35:27,36:28,37:29,38:k,42:[1,272],43:31,44:w,46:x,48:M,50:35,51:45,52:R,54:46,66:B,67:U,86:Y,87:X,88:Q,89:at,90:lt,91:J,95:ot,105:q,106:H,109:$,111:O,112:W,116:47,118:A,119:mt,120:I,121:It,122:le,123:qt,124:ut,125:St,126:bt,127:kt},t(pn,[2,56]),t(qe,[2,115],{106:nr}),t(Lr,[2,125],{108:274,22:kr,66:wr,67:yr,86:Br,102:Gr,105:Ae,109:gt,110:ie,111:pe,112:wn,113:lr}),t(On,[2,127]),t(On,[2,129]),t(On,[2,130]),t(On,[2,131]),t(On,[2,132]),t(On,[2,133]),t(On,[2,134]),t(On,[2,135]),t(On,[2,136]),t(On,[2,137]),t(On,[2,138]),t(On,[2,139]),t(qe,[2,116],{106:nr}),t(qe,[2,117],{106:nr}),{22:[1,275]},t(qe,[2,118],{106:nr}),{22:[1,276]},t(vr,[2,124]),t(qe,[2,98],{106:nr}),t(qe,[2,99],{106:nr}),t(qe,[2,100],{115:100,117:178,26:Z,52:G,66:z,67:yt,91:P,105:Nt,106:nt,109:Ee,111:vt,112:fe,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt}),t(qe,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:_e,21:tt,23:st},t(pt,[2,42]),{22:kr,66:wr,67:yr,86:Br,102:Gr,105:Ae,107:283,108:244,109:gt,110:ie,111:pe,112:wn,113:lr},t(On,[2,128]),{26:Z,52:G,66:z,67:yt,91:P,97:284,105:Nt,106:nt,109:Ee,111:vt,112:fe,115:100,117:98,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{26:Z,52:G,66:z,67:yt,91:P,97:285,105:Nt,106:nt,109:Ee,111:vt,112:fe,115:100,117:98,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t(qe,[2,108]),t(qe,[2,114]),t(We,[2,60]),{22:Ce,24:we,26:Wt,38:Dt,39:286,42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:140,84:Et,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},t(We,[2,68]),t(ra,l,{17:287}),t(Lr,[2,126],{108:274,22:kr,66:wr,67:yr,86:Br,102:Gr,105:Ae,109:gt,110:ie,111:pe,112:wn,113:lr}),t(qe,[2,121],{115:100,117:178,22:[1,288],26:Z,52:G,66:z,67:yt,91:P,105:Nt,106:nt,109:Ee,111:vt,112:fe,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt}),t(qe,[2,122],{115:100,117:178,22:[1,289],26:Z,52:G,66:z,67:yt,91:P,105:Nt,106:nt,109:Ee,111:vt,112:fe,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt}),{22:Ce,24:we,26:Wt,38:Dt,41:[1,290],42:oe,52:G,66:z,67:yt,73:zt,81:Se,83:201,85:151,86:un,87:Ot,88:nn,89:kn,90:Ln,91:In,92:Pn,94:142,95:He,105:Nt,106:nt,109:hn,111:vt,112:fe,113:En,114:Je,115:148,122:Zt,123:Pt,124:Qt,125:Gt,126:Bt,127:xt},{18:18,19:19,20:u,21:f,22:g,23:_,32:24,33:25,34:26,35:27,36:28,37:29,38:k,42:[1,291],43:31,44:w,46:x,48:M,50:35,51:45,52:R,54:46,66:B,67:U,86:Y,87:X,88:Q,89:at,90:lt,91:J,95:ot,105:q,106:H,109:$,111:O,112:W,116:47,118:A,119:mt,120:I,121:It,122:le,123:qt,124:ut,125:St,126:bt,127:kt},{22:kr,66:wr,67:yr,86:Br,96:292,102:Gr,105:Ae,107:243,108:244,109:gt,110:ie,111:pe,112:wn,113:lr},{22:kr,66:wr,67:yr,86:Br,96:293,102:Gr,105:Ae,107:243,108:244,109:gt,110:ie,111:pe,112:wn,113:lr},t(We,[2,64]),t(pt,[2,41]),t(qe,[2,119],{106:nr}),t(qe,[2,120],{106:nr})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(Ye,tn){if(tn.recoverable)this.trace(Ye);else{var fn=new Error(Ye);throw fn.hash=tn,fn}},parse:function(Ye){var tn=this,fn=[0],be=[],xr=[null],ct=[],tc=this.table,_t="",Ai=0,Kp=0,M2=2,Zp=1,Qp=ct.slice.call(arguments,1),Xr=Object.create(this.lexer),Ia={yy:{}};for(var Ma in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ma)&&(Ia.yy[Ma]=this.yy[Ma]);Xr.setInput(Ye,Ia.yy),Ia.yy.lexer=Xr,Ia.yy.parser=this,typeof Xr.yylloc>"u"&&(Xr.yylloc={});var ec=Xr.yylloc;ct.push(ec);var Md=Xr.options&&Xr.options.ranges;typeof Ia.yy.parseError=="function"?this.parseError=Ia.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Jp(){var cs;return cs=be.pop()||Xr.lex()||Zp,typeof cs!="number"&&(cs instanceof Array&&(be=cs,cs=be.pop()),cs=tn.symbols_[cs]||cs),cs}for(var pi,Zn,Vi,go,ia={},mo,ls,Nd,Yu;;){if(Zn=fn[fn.length-1],this.defaultActions[Zn]?Vi=this.defaultActions[Zn]:((pi===null||typeof pi>"u")&&(pi=Jp()),Vi=tc[Zn]&&tc[Zn][pi]),typeof Vi>"u"||!Vi.length||!Vi[0]){var nc="";Yu=[];for(mo in tc[Zn])this.terminals_[mo]&&mo>M2&&Yu.push("'"+this.terminals_[mo]+"'");Xr.showPosition?nc="Parse error on line "+(Ai+1)+`:
`+Xr.showPosition()+`
Expecting `+Yu.join(", ")+", got '"+(this.terminals_[pi]||pi)+"'":nc="Parse error on line "+(Ai+1)+": Unexpected "+(pi==Zp?"end of input":"'"+(this.terminals_[pi]||pi)+"'"),this.parseError(nc,{text:Xr.match,token:this.terminals_[pi]||pi,line:Xr.yylineno,loc:ec,expected:Yu})}if(Vi[0]instanceof Array&&Vi.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Zn+", token: "+pi);switch(Vi[0]){case 1:fn.push(pi),xr.push(Xr.yytext),ct.push(Xr.yylloc),fn.push(Vi[1]),pi=null,Kp=Xr.yyleng,_t=Xr.yytext,Ai=Xr.yylineno,ec=Xr.yylloc;break;case 2:if(ls=this.productions_[Vi[1]][1],ia.$=xr[xr.length-ls],ia._$={first_line:ct[ct.length-(ls||1)].first_line,last_line:ct[ct.length-1].last_line,first_column:ct[ct.length-(ls||1)].first_column,last_column:ct[ct.length-1].last_column},Md&&(ia._$.range=[ct[ct.length-(ls||1)].range[0],ct[ct.length-1].range[1]]),go=this.performAction.apply(ia,[_t,Kp,Ai,Ia.yy,Vi[1],xr,ct].concat(Qp)),typeof go<"u")return go;ls&&(fn=fn.slice(0,-1*ls*2),xr=xr.slice(0,-1*ls),ct=ct.slice(0,-1*ls)),fn.push(this.productions_[Vi[1]][0]),xr.push(ia.$),ct.push(ia._$),Nd=tc[fn[fn.length-2]][fn[fn.length-1]],fn.push(Nd);break;case 3:return!0}}return!0}},Qo=function(){var Qi={EOF:1,parseError:function(tn,fn){if(this.yy.parser)this.yy.parser.parseError(tn,fn);else throw new Error(tn)},setInput:function(Ye,tn){return this.yy=tn||this.yy||{},this._input=Ye,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ye=this._input[0];this.yytext+=Ye,this.yyleng++,this.offset++,this.match+=Ye,this.matched+=Ye;var tn=Ye.match(/(?:\r\n?|\n).*/g);return tn?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ye},unput:function(Ye){var tn=Ye.length,fn=Ye.split(/(?:\r\n?|\n)/g);this._input=Ye+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-tn),this.offset-=tn;var be=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),fn.length-1&&(this.yylineno-=fn.length-1);var xr=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:fn?(fn.length===be.length?this.yylloc.first_column:0)+be[be.length-fn.length].length-fn[0].length:this.yylloc.first_column-tn},this.options.ranges&&(this.yylloc.range=[xr[0],xr[0]+this.yyleng-tn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Ye){this.unput(this.match.slice(Ye))},pastInput:function(){var Ye=this.matched.substr(0,this.matched.length-this.match.length);return(Ye.length>20?"...":"")+Ye.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ye=this.match;return Ye.length<20&&(Ye+=this._input.substr(0,20-Ye.length)),(Ye.substr(0,20)+(Ye.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ye=this.pastInput(),tn=new Array(Ye.length+1).join("-");return Ye+this.upcomingInput()+`
`+tn+"^"},test_match:function(Ye,tn){var fn,be,xr;if(this.options.backtrack_lexer&&(xr={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(xr.yylloc.range=this.yylloc.range.slice(0))),be=Ye[0].match(/(?:\r\n?|\n).*/g),be&&(this.yylineno+=be.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:be?be[be.length-1].length-be[be.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ye[0].length},this.yytext+=Ye[0],this.match+=Ye[0],this.matches=Ye,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ye[0].length),this.matched+=Ye[0],fn=this.performAction.call(this,this.yy,this,tn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),fn)return fn;if(this._backtrack){for(var ct in xr)this[ct]=xr[ct];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ye,tn,fn,be;this._more||(this.yytext="",this.match="");for(var xr=this._currentRules(),ct=0;ct<xr.length;ct++)if(fn=this._input.match(this.rules[xr[ct]]),fn&&(!tn||fn[0].length>tn[0].length)){if(tn=fn,be=ct,this.options.backtrack_lexer){if(Ye=this.test_match(fn,xr[ct]),Ye!==!1)return Ye;if(this._backtrack){tn=!1;continue}else return!1}else if(!this.options.flex)break}return tn?(Ye=this.test_match(tn,xr[be]),Ye!==!1?Ye:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var tn=this.next();return tn||this.lex()},begin:function(tn){this.conditionStack.push(tn)},popState:function(){var tn=this.conditionStack.length-1;return tn>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(tn){return tn=this.conditionStack.length-1-Math.abs(tn||0),tn>=0?this.conditionStack[tn]:"INITIAL"},pushState:function(tn){this.begin(tn)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(tn,fn,be,xr){switch(be){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return tn.lex.firstGraph()&&this.begin("dir"),24;case 36:return tn.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:return 101;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return this.popState(),25;case 44:return this.popState(),26;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:return 82;case 67:return 82;case 68:return 82;case 69:return 81;case 70:return 81;case 71:return 81;case 72:return 59;case 73:return 60;case 74:return 61;case 75:return 62;case 76:return 63;case 77:return 64;case 78:return 65;case 79:return 69;case 80:return 70;case 81:return 55;case 82:return 56;case 83:return 109;case 84:return 112;case 85:return 127;case 86:return 124;case 87:return 113;case 88:return 125;case 89:return 125;case 90:return 114;case 91:return 73;case 92:return 92;case 93:return"SEP";case 94:return 91;case 95:return 66;case 96:return 75;case 97:return 74;case 98:return 77;case 99:return 76;case 100:return 122;case 101:return 123;case 102:return 68;case 103:return 57;case 104:return 58;case 105:return 40;case 106:return 41;case 107:return 71;case 108:return 72;case 109:return 133;case 110:return 21;case 111:return 22;case 112:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],inclusive:!0}}};return Qi}();fr.lexer=Qo;function Jo(){this.yy={}}return Jo.prototype=fr,fr.Parser=Jo,new Jo}();by.parser=by;const mw=by,AW=(t,e)=>{var n;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*graph/)!==null},LW=(t,e)=>{var n;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"&&t.match(/^\s*graph/)!==null?!0:t.match(/^\s*flowchart/)!==null},IW="flowchart-";let yw=0,ky=ht(),Cr={},Kl=[],Lu={},ao=[],Tp={},wy={},Ep=0,xy=!0,Ta,Cp,Sp=[];const Ap=t=>_n.sanitizeText(t,ky),MW=function(t,e,n){Sr.parseDirective(this,t,e,n)},Lp=function(t){const e=Object.keys(Cr);for(const n of e)if(Cr[n].id===t)return Cr[n].domId;return t},NW=function(t,e,n,i,s,o,l={}){let u,f=t;f!==void 0&&f.trim().length!==0&&(Cr[f]===void 0&&(Cr[f]={id:f,domId:IW+f+"-"+yw,styles:[],classes:[]}),yw++,e!==void 0?(ky=ht(),u=Ap(e.trim()),u[0]==='"'&&u[u.length-1]==='"'&&(u=u.substring(1,u.length-1)),Cr[f].text=u):Cr[f].text===void 0&&(Cr[f].text=t),n!==void 0&&(Cr[f].type=n),i!=null&&i.forEach(function(g){Cr[f].styles.push(g)}),s!=null&&s.forEach(function(g){Cr[f].classes.push(g)}),o!==void 0&&(Cr[f].dir=o),Cr[f].props===void 0?Cr[f].props=l:l!==void 0&&Object.assign(Cr[f].props,l))},OW=function(t,e,n,i){const l={start:t,end:e,type:void 0,text:""};i=n.text,i!==void 0&&(l.text=Ap(i.trim()),l.text[0]==='"'&&l.text[l.text.length-1]==='"'&&(l.text=l.text.substring(1,l.text.length-1))),n!==void 0&&(l.type=n.type,l.stroke=n.stroke,l.length=n.length),Kl.push(l)},DW=function(t,e,n,i){let s,o;for(s=0;s<t.length;s++)for(o=0;o<e.length;o++)OW(t[s],e[o],n,i)},RW=function(t,e){t.forEach(function(n){n==="default"?Kl.defaultInterpolate=e:Kl[n].interpolate=e})},BW=function(t,e){t.forEach(function(n){n==="default"?Kl.defaultStyle=e:(Tn.isSubstringInArray("fill",e)===-1&&e.push("fill:none"),Kl[n].style=e)})},PW=function(t,e){Lu[t]===void 0&&(Lu[t]={id:t,styles:[],textStyles:[]}),e!=null&&e.forEach(function(n){if(n.match("color")){const s=n.replace("fill","bgFill").replace("color","fill");Lu[t].textStyles.push(s)}Lu[t].styles.push(n)})},FW=function(t){Ta=t,Ta.match(/.*</)&&(Ta="RL"),Ta.match(/.*\^/)&&(Ta="BT"),Ta.match(/.*>/)&&(Ta="LR"),Ta.match(/.*v/)&&(Ta="TB")},Ty=function(t,e){t.split(",").forEach(function(n){let i=n;Cr[i]!==void 0&&Cr[i].classes.push(e),Tp[i]!==void 0&&Tp[i].classes.push(e)})},VW=function(t,e){t.split(",").forEach(function(n){e!==void 0&&(wy[Cp==="gen-1"?Lp(n):n]=Ap(e))})},YW=function(t,e,n){let i=Lp(t);if(ht().securityLevel!=="loose"||e===void 0)return;let s=[];if(typeof n=="string"){s=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<s.length;o++){let l=s[o].trim();l.charAt(0)==='"'&&l.charAt(l.length-1)==='"'&&(l=l.substr(1,l.length-2)),s[o]=l}}s.length===0&&s.push(t),Cr[t]!==void 0&&(Cr[t].haveCallback=!0,Sp.push(function(){const o=document.querySelector(`[id="${i}"]`);o!==null&&o.addEventListener("click",function(){Tn.runFunc(e,...s)},!1)}))},$W=function(t,e,n){t.split(",").forEach(function(i){Cr[i]!==void 0&&(Cr[i].link=Tn.formatUrl(e,ky),Cr[i].linkTarget=n)}),Ty(t,"clickable")},UW=function(t){return wy[t]},zW=function(t,e,n){t.split(",").forEach(function(i){YW(i,e,n)}),Ty(t,"clickable")},HW=function(t){Sp.forEach(function(e){e(t)})},WW=function(){return Ta.trim()},jW=function(){return Cr},qW=function(){return Kl},GW=function(){return Lu},_w=function(t){let e=re(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=re("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),re(t).select("svg").selectAll("g.node").on("mouseover",function(){const s=re(this);if(s.attr("title")===null)return;const l=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(s.attr("title")).style("left",window.scrollX+l.left+(l.right-l.left)/2+"px").style("top",window.scrollY+l.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),s.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),re(this).classed("hover",!1)})};Sp.push(_w);const XW=function(t="gen-1"){Cr={},Lu={},Kl=[],Sp=[_w],ao=[],Tp={},Ep=0,wy=[],xy=!0,Cp=t,js()},KW=t=>{Cp=t||"gen-1"},ZW=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},QW=function(t,e,n){let i=t.trim(),s=n;t===n&&n.match(/\s/)&&(i=void 0);function o(_){const k={boolean:{},number:{},string:{}},w=[];let x;return{nodeList:_.filter(function(R){const B=typeof R;return R.stmt&&R.stmt==="dir"?(x=R.value,!1):R.trim()===""?!1:B in k?k[B].hasOwnProperty(R)?!1:k[B][R]=!0:w.includes(R)?!1:w.push(R)}),dir:x}}let l=[];const{nodeList:u,dir:f}=o(l.concat.apply(l,e));if(l=u,Cp==="gen-1")for(let _=0;_<l.length;_++)l[_]=Lp(l[_]);i=i||"subGraph"+Ep,s=s||"",s=Ap(s),Ep=Ep+1;const g={id:i,nodes:l,title:s.trim(),classes:[],dir:f};return C.info("Adding",g.id,g.nodes,g.dir),g.nodes=ww(g,ao).nodes,ao.push(g),Tp[i]=g,i},JW=function(t){for(const[e,n]of ao.entries())if(n.id===t)return e;return-1};let hd=-1;const vw=[],bw=function(t,e){const n=ao[e].nodes;if(hd=hd+1,hd>2e3)return;if(vw[hd]=e,ao[e].id===t)return{result:!0,count:0};let i=0,s=1;for(;i<n.length;){const o=JW(n[i]);if(o>=0){const l=bw(t,o);if(l.result)return{result:!0,count:s+l.count};s=s+l.count}i=i+1}return{result:!1,count:s}},tj=function(t){return vw[t]},ej=function(){hd=-1,ao.length>0&&bw("none",ao.length-1)},nj=function(){return ao},rj=()=>xy?(xy=!1,!0):!1,ij=t=>{let e=t.trim(),n="arrow_open";switch(e[0]){case"<":n="arrow_point",e=e.slice(1);break;case"x":n="arrow_cross",e=e.slice(1);break;case"o":n="arrow_circle",e=e.slice(1);break}let i="normal";return e.includes("=")&&(i="thick"),e.includes(".")&&(i="dotted"),{type:n,stroke:i}},sj=(t,e)=>{const n=e.length;let i=0;for(let s=0;s<n;++s)e[s]===t&&++i;return i},aj=t=>{const e=t.trim();let n=e.slice(0,-1),i="arrow_open";switch(e.slice(-1)){case"x":i="arrow_cross",e[0]==="x"&&(i="double_"+i,n=n.slice(1));break;case">":i="arrow_point",e[0]==="<"&&(i="double_"+i,n=n.slice(1));break;case"o":i="arrow_circle",e[0]==="o"&&(i="double_"+i,n=n.slice(1));break}let s="normal",o=n.length-1;n[0]==="="&&(s="thick");let l=sj(".",n);return l&&(s="dotted",o=l),{type:i,stroke:s,length:o}},oj=(t,e)=>{const n=aj(t);let i;if(e){if(i=ij(e),i.stroke!==n.stroke)return{type:"INVALID",stroke:"INVALID"};if(i.type==="arrow_open")i.type=n.type;else{if(i.type!==n.type)return{type:"INVALID",stroke:"INVALID"};i.type="double_"+i.type}return i.type==="double_arrow"&&(i.type="double_arrow_point"),i.length=n.length,i}return n},kw=(t,e)=>{let n=!1;return t.forEach(i=>{i.nodes.indexOf(e)>=0&&(n=!0)}),n},ww=(t,e)=>{const n=[];return t.nodes.forEach((i,s)=>{kw(e,i)||n.push(t.nodes[s])}),{nodes:n}},oo={parseDirective:MW,defaultConfig:()=>fu.flowchart,setAccTitle:xs,getAccTitle:qs,getAccDescription:Xs,setAccDescription:Gs,addVertex:NW,lookUpDomId:Lp,addLink:DW,updateLinkInterpolate:RW,updateLink:BW,addClass:PW,setDirection:FW,setClass:Ty,setTooltip:VW,getTooltip:UW,setClickEvent:zW,setLink:$W,bindFunctions:HW,getDirection:WW,getVertices:jW,getEdges:qW,getClasses:GW,clear:XW,setGen:KW,defaultStyle:ZW,addSubGraph:QW,getDepthFirstPos:tj,indexNodes:ej,getSubGraphs:nj,destructLink:oj,lex:{firstGraph:rj},exists:kw,makeUniq:ww,setDiagramTitle:Za,getDiagramTitle:Qa};function xw(t,e){return!!t.children(e).length}function Tw(t){return Ey(t.v)+":"+Ey(t.w)+":"+Ey(t.name)}var lj=/:/g;function Ey(t){return t?String(t).replace(lj,"\\:"):""}function Ea(t,e){e&&t.attr("style",e)}function Ew(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))}function ea(t,e){var n=e.graph();if(I3(n)){var i=n.transition;if(lu(i))return i(t)}return t}var Cy={normal:uj,vee:hj,undirected:dj};function cj(t){Cy=t}function uj(t,e,n,i){var s=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=s.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");Ea(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}function hj(t,e,n,i){var s=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=s.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");Ea(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}function dj(t,e,n,i){var s=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=s.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");Ea(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}function Sy(t,e){var n=t.append("foreignObject").attr("width","100000"),i=n.append("xhtml:div");i.attr("xmlns","http://www.w3.org/1999/xhtml");var s=e.label;switch(typeof s){case"function":i.insert(s);break;case"object":i.insert(function(){return s});break;default:i.html(s)}Ea(i,e.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap");var o=i.node().getBoundingClientRect();return n.attr("width",o.width).attr("height",o.height),n}function fj(t,e){var n=t;return n.node().appendChild(e.label),Ea(n,e.labelStyle),n}function pj(t,e){for(var n=t.append("text"),i=gj(e.label).split(`
`),s=0;s<i.length;s++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(i[s]);return Ea(n,e.labelStyle),n}function gj(t){for(var e="",n=!1,i,s=0;s<t.length;++s)if(i=t[s],n){switch(i){case"n":e+=`
`;break;default:e+=i}n=!1}else i==="\\"?n=!0:e+=i;return e}function Ay(t,e,n){var i=e.label,s=t.append("g");e.labelType==="svg"?fj(s,e):typeof i!="string"||e.labelType==="html"?Sy(s,e):pj(s,e);var o=s.node().getBBox(),l;switch(n){case"top":l=-e.height/2;break;case"bottom":l=e.height/2-o.height;break;default:l=-o.height/2}return s.attr("transform","translate("+-o.width/2+","+l+")"),s}var Ly=function(t,e){var n=e.nodes().filter(function(o){return xw(e,o)}),i=t.selectAll("g.cluster").data(n,function(o){return o});ea(i.exit(),e).style("opacity",0).remove();var s=i.enter().append("g").attr("class","cluster").attr("id",function(o){var l=e.node(o);return l.id}).style("opacity",0).each(function(o){var l=e.node(o),u=re(this);re(this).append("rect");var f=u.append("g").attr("class","label");Ay(f,l,l.clusterLabelPos)});return i=i.merge(s),i=ea(i,e).style("opacity",1),i.selectAll("rect").each(function(o){var l=e.node(o),u=re(this);Ea(u,l.style)}),i};function mj(t){Ly=t}let Iy=function(t,e){var n=t.selectAll("g.edgeLabel").data(e.edges(),function(s){return Tw(s)}).classed("update",!0);n.exit().remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),n=t.selectAll("g.edgeLabel"),n.each(function(s){var o=re(this);o.select(".label").remove();var l=e.edge(s),u=Ay(o,e.edge(s),0).classed("label",!0),f=u.node().getBBox();l.labelId&&u.attr("id",l.labelId),An(l,"width")||(l.width=f.width),An(l,"height")||(l.height=f.height)});var i;return n.exit?i=n.exit():i=n.selectAll(null),ea(i,e).style("opacity",0).remove(),n};function yj(t){Iy=t}function Cw(t,e){return t.intersect(e)}var My=function(t,e,n){var i=t.selectAll("g.edgePath").data(e.edges(),function(l){return Tw(l)}).classed("update",!0),s=wj(i,e);xj(i,e);var o=i.merge!==void 0?i.merge(s):i;return ea(o,e).style("opacity",1),o.each(function(l){var u=re(this),f=e.edge(l);f.elem=this,f.id&&u.attr("id",f.id),Ew(u,f.class,(u.classed("update")?"update ":"")+"edgePath")}),o.selectAll("path.path").each(function(l){var u=e.edge(l);u.arrowheadId=pp("arrowhead");var f=re(this).attr("marker-end",function(){return"url("+vj(location.href,u.arrowheadId)+")"}).style("fill","none");ea(f,e).attr("d",function(g){return bj(e,g)}),Ea(f,u.style)}),o.selectAll("defs *").remove(),o.selectAll("defs").each(function(l){var u=e.edge(l),f=n[u.arrowhead];f(re(this),u.arrowheadId,u,"arrowhead")}),o};function _j(t){My=t}function vj(t,e){var n=t.split("#")[0];return n+"#"+e}function bj(t,e){var n=t.edge(e),i=t.node(e.v),s=t.node(e.w),o=n.points.slice(1,n.points.length-1);return o.unshift(Cw(i,o[0])),o.push(Cw(s,o[o.length-1])),Sw(n,o)}function Sw(t,e){var n=(eu||TA.line)().x(function(i){return i.x}).y(function(i){return i.y});return(n.curve||n.interpolate)(t.curve),n(e)}function kj(t){var e=t.getBBox(),n=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2);return{x:n.e,y:n.f}}function wj(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",function(i){var s=e.edge(i),o=e.node(i.v).elem,l=ql(s.points.length).map(function(){return kj(o)});return Sw(s,l)}),n.append("defs"),n}function xj(t,e){var n=t.exit();ea(n,e).style("opacity",0).remove()}var Ny=function(t,e,n){var i=e.nodes().filter(function(l){return!xw(e,l)}),s=t.selectAll("g.node").data(i,function(l){return l}).classed("update",!0);s.exit().remove(),s.enter().append("g").attr("class","node").style("opacity",0),s=t.selectAll("g.node"),s.each(function(l){var u=e.node(l),f=re(this);Ew(f,u.class,(f.classed("update")?"update ":"")+"node"),f.select("g.label").remove();var g=f.append("g").attr("class","label"),_=Ay(g,u),k=n[u.shape],w=ed(_.node().getBBox(),"width","height");u.elem=this,u.id&&f.attr("id",u.id),u.labelId&&g.attr("id",u.labelId),An(u,"width")&&(w.width=u.width),An(u,"height")&&(w.height=u.height),w.width+=u.paddingLeft+u.paddingRight,w.height+=u.paddingTop+u.paddingBottom,g.attr("transform","translate("+(u.paddingLeft-u.paddingRight)/2+","+(u.paddingTop-u.paddingBottom)/2+")");var x=re(this);x.select(".label-container").remove();var M=k(x,w,u).classed("label-container",!0);Ea(M,u.style);var R=M.node().getBBox();u.width=R.width,u.height=R.height});var o;return s.exit?o=s.exit():o=s.selectAll(null),ea(o,e).style("opacity",0).remove(),s};function Tj(t){Ny=t}function Ej(t,e){var n=t.filter(function(){return!re(this).classed("update")});function i(s){var o=e.node(s);return"translate("+o.x+","+o.y+")"}n.attr("transform",i),ea(t,e).style("opacity",1).attr("transform",i),ea(n.selectAll("rect"),e).attr("width",function(s){return e.node(s).width}).attr("height",function(s){return e.node(s).height}).attr("x",function(s){var o=e.node(s);return-o.width/2}).attr("y",function(s){var o=e.node(s);return-o.height/2})}function Cj(t,e){var n=t.filter(function(){return!re(this).classed("update")});function i(s){var o=e.edge(s);return An(o,"x")?"translate("+o.x+","+o.y+")":""}n.attr("transform",i),ea(t,e).style("opacity",1).attr("transform",i)}function Sj(t,e){var n=t.filter(function(){return!re(this).classed("update")});function i(s){var o=e.node(s);return"translate("+o.x+","+o.y+")"}n.attr("transform",i),ea(t,e).style("opacity",1).attr("transform",i)}function Aw(t,e,n,i){var s=t.x,o=t.y,l=s-i.x,u=o-i.y,f=Math.sqrt(e*e*u*u+n*n*l*l),g=Math.abs(e*n*l/f);i.x<s&&(g=-g);var _=Math.abs(e*n*u/f);return i.y<o&&(_=-_),{x:s+g,y:o+_}}function Aj(t,e,n){return Aw(t,e,e,n)}function Lj(t,e,n,i){var s,o,l,u,f,g,_,k,w,x,M,R,B,U,Y;if(s=e.y-t.y,l=t.x-e.x,f=e.x*t.y-t.x*e.y,w=s*n.x+l*n.y+f,x=s*i.x+l*i.y+f,!(w!==0&&x!==0&&Lw(w,x))&&(o=i.y-n.y,u=n.x-i.x,g=i.x*n.y-n.x*i.y,_=o*t.x+u*t.y+g,k=o*e.x+u*e.y+g,!(_!==0&&k!==0&&Lw(_,k))&&(M=s*u-o*l,M!==0)))return R=Math.abs(M/2),B=l*g-u*f,U=B<0?(B-R)/M:(B+R)/M,B=o*f-s*g,Y=B<0?(B-R)/M:(B+R)/M,{x:U,y:Y}}function Lw(t,e){return t*e>0}function Ca(t,e,n){var i=t.x,s=t.y,o=[],l=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;e.forEach(function(M){l=Math.min(l,M.x),u=Math.min(u,M.y)});for(var f=i-t.width/2-l,g=s-t.height/2-u,_=0;_<e.length;_++){var k=e[_],w=e[_<e.length-1?_+1:0],x=Lj(t,n,{x:f+k.x,y:g+k.y},{x:f+w.x,y:g+w.y});x&&o.push(x)}return o.length?(o.length>1&&o.sort(function(M,R){var B=M.x-n.x,U=M.y-n.y,Y=Math.sqrt(B*B+U*U),X=R.x-n.x,Q=R.y-n.y,at=Math.sqrt(X*X+Q*Q);return Y<at?-1:Y===at?0:1}),o[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}function Oy(t,e){var n=t.x,i=t.y,s=e.x-n,o=e.y-i,l=t.width/2,u=t.height/2,f,g;return Math.abs(o)*l>Math.abs(s)*u?(o<0&&(u=-u),f=o===0?0:u*s/o,g=u):(s<0&&(l=-l),f=l,g=s===0?0:l*o/s),{x:n+f,y:i+g}}var Dy={rect:Mj,ellipse:Nj,circle:Oj,diamond:Dj};function Ij(t){Dy=t}function Mj(t,e,n){var i=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(s){return Oy(n,s)},i}function Nj(t,e,n){var i=e.width/2,s=e.height/2,o=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",i).attr("ry",s);return n.intersect=function(l){return Aw(n,i,s,l)},o}function Oj(t,e,n){var i=Math.max(e.width,e.height)/2,s=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",i);return n.intersect=function(o){return Aj(n,i,o)},s}function Dj(t,e,n){var i=e.width*Math.SQRT2/2,s=e.height*Math.SQRT2/2,o=[{x:0,y:-s},{x:-i,y:0},{x:0,y:s},{x:i,y:0}],l=t.insert("polygon",":first-child").attr("points",o.map(function(u){return u.x+","+u.y}).join(" "));return n.intersect=function(u){return Ca(n,o,u)},l}function Rj(){var t=function(e,n){Fj(n);var i=dd(e,"output"),s=dd(i,"clusters"),o=dd(i,"edgePaths"),l=Iy(dd(i,"edgeLabels"),n),u=Ny(dd(i,"nodes"),n,Dy);Su(n),Sj(u,n),Cj(l,n),My(o,n,Cy);var f=Ly(s,n);Ej(f,n),Vj(n)};return t.createNodes=function(e){return arguments.length?(Tj(e),t):Ny},t.createClusters=function(e){return arguments.length?(mj(e),t):Ly},t.createEdgeLabels=function(e){return arguments.length?(yj(e),t):Iy},t.createEdgePaths=function(e){return arguments.length?(_j(e),t):My},t.shapes=function(e){return arguments.length?(Ij(e),t):Dy},t.arrows=function(e){return arguments.length?(cj(e),t):Cy},t}var Bj={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},Pj={arrowhead:"normal",curve:ns};function Fj(t){t.nodes().forEach(function(e){var n=t.node(e);!An(n,"label")&&!t.children(e).length&&(n.label=e),An(n,"paddingX")&&Tu(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),An(n,"paddingY")&&Tu(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),An(n,"padding")&&Tu(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),Tu(n,Bj),jt(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(i){n[i]=Number(n[i])}),An(n,"width")&&(n._prevWidth=n.width),An(n,"height")&&(n._prevHeight=n.height)}),t.edges().forEach(function(e){var n=t.edge(e);An(n,"label")||(n.label=""),Tu(n,Pj)})}function Vj(t){jt(t.nodes(),function(e){var n=t.node(e);An(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,An(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight})}function dd(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}function Iw(t,e,n){const i=e.width,s=e.height,o=(i+s)*.9,l=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}],u=lo(t,o,o,l);return n.intersect=function(f){return Ca(n,l,f)},u}function Mw(t,e,n){const s=e.height,o=s/4,l=e.width+2*o,u=[{x:o,y:0},{x:l-o,y:0},{x:l,y:-s/2},{x:l-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}],f=lo(t,l,s,u);return n.intersect=function(g){return Ca(n,u,g)},f}function Nw(t,e,n){const i=e.width,s=e.height,o=[{x:-s/2,y:0},{x:i,y:0},{x:i,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}],l=lo(t,i,s,o);return n.intersect=function(u){return Ca(n,o,u)},l}function Ow(t,e,n){const i=e.width,s=e.height,o=[{x:-2*s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:s/6,y:-s}],l=lo(t,i,s,o);return n.intersect=function(u){return Ca(n,o,u)},l}function Dw(t,e,n){const i=e.width,s=e.height,o=[{x:2*s/6,y:0},{x:i+s/6,y:0},{x:i-2*s/6,y:-s},{x:-s/6,y:-s}],l=lo(t,i,s,o);return n.intersect=function(u){return Ca(n,o,u)},l}function Rw(t,e,n){const i=e.width,s=e.height,o=[{x:-2*s/6,y:0},{x:i+2*s/6,y:0},{x:i-s/6,y:-s},{x:s/6,y:-s}],l=lo(t,i,s,o);return n.intersect=function(u){return Ca(n,o,u)},l}function Bw(t,e,n){const i=e.width,s=e.height,o=[{x:s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:-2*s/6,y:-s}],l=lo(t,i,s,o);return n.intersect=function(u){return Ca(n,o,u)},l}function Pw(t,e,n){const i=e.width,s=e.height,o=[{x:0,y:0},{x:i+s/2,y:0},{x:i,y:-s/2},{x:i+s/2,y:-s},{x:0,y:-s}],l=lo(t,i,s,o);return n.intersect=function(u){return Ca(n,o,u)},l}function Fw(t,e,n){const i=e.height,s=e.width+i/4,o=t.insert("rect",":first-child").attr("rx",i/2).attr("ry",i/2).attr("x",-s/2).attr("y",-i/2).attr("width",s).attr("height",i);return n.intersect=function(l){return Oy(n,l)},o}function Vw(t,e,n){const i=e.width,s=e.height,o=[{x:0,y:0},{x:i,y:0},{x:i,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],l=lo(t,i,s,o);return n.intersect=function(u){return Ca(n,o,u)},l}function Yw(t,e,n){const i=e.width,s=i/2,o=s/(2.5+i/50),l=e.height+o,u="M 0,"+o+" a "+s+","+o+" 0,0,0 "+i+" 0 a "+s+","+o+" 0,0,0 "+-i+" 0 l 0,"+l+" a "+s+","+o+" 0,0,0 "+i+" 0 l 0,"+-l,f=t.attr("label-offset-y",o).insert("path",":first-child").attr("d",u).attr("transform","translate("+-i/2+","+-(l/2+o)+")");return n.intersect=function(g){const _=Oy(n,g),k=_.x-n.x;if(s!=0&&(Math.abs(k)<n.width/2||Math.abs(k)==n.width/2&&Math.abs(_.y-n.y)>n.height/2-o)){let w=o*o*(1-k*k/(s*s));w!=0&&(w=Math.sqrt(w)),w=o-w,g.y-n.y>0&&(w=-w),_.y+=w}return _},f}function Yj(t){t.shapes().question=Iw,t.shapes().hexagon=Mw,t.shapes().stadium=Fw,t.shapes().subroutine=Vw,t.shapes().cylinder=Yw,t.shapes().rect_left_inv_arrow=Nw,t.shapes().lean_right=Ow,t.shapes().lean_left=Dw,t.shapes().trapezoid=Rw,t.shapes().inv_trapezoid=Bw,t.shapes().rect_right_inv_arrow=Pw}function $j(t){t({question:Iw}),t({hexagon:Mw}),t({stadium:Fw}),t({subroutine:Vw}),t({cylinder:Yw}),t({rect_left_inv_arrow:Nw}),t({lean_right:Ow}),t({lean_left:Dw}),t({trapezoid:Rw}),t({inv_trapezoid:Bw}),t({rect_right_inv_arrow:Pw})}function lo(t,e,n,i){return t.insert("polygon",":first-child").attr("points",i.map(function(s){return s.x+","+s.y}).join(" ")).attr("transform","translate("+-e/2+","+n/2+")")}const Uj={addToRender:Yj,addToRenderV2:$j},$w={},zj=function(t){const e=Object.keys(t);for(const n of e)$w[n]=t[n]},Uw=function(t,e,n,i,s,o){const l=i?i.select(`[id="${n}"]`):re(`[id="${n}"]`),u=s||document;Object.keys(t).forEach(function(g){const _=t[g];let k="default";_.classes.length>0&&(k=_.classes.join(" "));const w=zo(_.styles);let x=_.text!==void 0?_.text:_.id,M;if(li(ht().flowchart.htmlLabels)){const U={label:x.replace(/fa[blrs]?:fa-[\w-]+/g,Y=>`<i class='${Y.replace(":"," ")}'></i>`)};M=Sy(l,U).node(),M.parentNode.removeChild(M)}else{const U=u.createElementNS("http://www.w3.org/2000/svg","text");U.setAttribute("style",w.labelStyle.replace("color:","fill:"));const Y=x.split(_n.lineBreakRegex);for(const X of Y){const Q=u.createElementNS("http://www.w3.org/2000/svg","tspan");Q.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Q.setAttribute("dy","1em"),Q.setAttribute("x","1"),Q.textContent=X,U.appendChild(Q)}M=U}let R=0,B="";switch(_.type){case"round":R=5,B="rect";break;case"square":B="rect";break;case"diamond":B="question";break;case"hexagon":B="hexagon";break;case"odd":B="rect_left_inv_arrow";break;case"lean_right":B="lean_right";break;case"lean_left":B="lean_left";break;case"trapezoid":B="trapezoid";break;case"inv_trapezoid":B="inv_trapezoid";break;case"odd_right":B="rect_left_inv_arrow";break;case"circle":B="circle";break;case"ellipse":B="ellipse";break;case"stadium":B="stadium";break;case"subroutine":B="subroutine";break;case"cylinder":B="cylinder";break;case"group":B="rect";break;default:B="rect"}C.warn("Adding node",_.id,_.domId),e.setNode(o.db.lookUpDomId(_.id),{labelType:"svg",labelStyle:w.labelStyle,shape:B,label:M,rx:R,ry:R,class:k,style:w.style,id:o.db.lookUpDomId(_.id)})})},zw=function(t,e,n){let i=0,s,o;if(t.defaultStyle!==void 0){const l=zo(t.defaultStyle);s=l.style,o=l.labelStyle}t.forEach(function(l){i++;var u="L-"+l.start+"-"+l.end,f="LS-"+l.start,g="LE-"+l.end;const _={};l.type==="arrow_open"?_.arrowhead="none":_.arrowhead="normal";let k="",w="";if(l.style!==void 0){const x=zo(l.style);k=x.style,w=x.labelStyle}else switch(l.stroke){case"normal":k="fill:none",s!==void 0&&(k=s),o!==void 0&&(w=o);break;case"dotted":k="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":k=" stroke-width: 3.5px;fill:none";break}_.style=k,_.labelStyle=w,l.interpolate!==void 0?_.curve=zs(l.interpolate,ns):t.defaultInterpolate!==void 0?_.curve=zs(t.defaultInterpolate,ns):_.curve=zs($w.curve,ns),l.text===void 0?l.style!==void 0&&(_.arrowheadStyle="fill: #333"):(_.arrowheadStyle="fill: #333",_.labelpos="c",li(ht().flowchart.htmlLabels)?(_.labelType="html",_.label=`<span id="L-${u}" class="edgeLabel L-${f}' L-${g}" style="${_.labelStyle}">${l.text.replace(/fa[blrs]?:fa-[\w-]+/g,x=>`<i class='${x.replace(":"," ")}'></i>`)}</span>`):(_.labelType="text",_.label=l.text.replace(_n.lineBreakRegex,`
`),l.style===void 0&&(_.style=_.style||"stroke: #333; stroke-width: 1.5px;fill:none"),_.labelStyle=_.labelStyle.replace("color:","fill:"))),_.id=u,_.class=f+" "+g,_.minlen=l.length||1,e.setEdge(n.db.lookUpDomId(l.start),n.db.lookUpDomId(l.end),_,i)})},Hj={setConf:zj,addVertices:Uw,addEdges:zw,getClasses:function(t,e){C.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch(n){return C.error(n),{}}},draw:function(t,e,n,i){C.info("Drawing flowchart"),i.db.clear();const{securityLevel:s,flowchart:o}=ht();let l;s==="sandbox"&&(l=re("#i"+e));const u=re(s==="sandbox"?l.nodes()[0].contentDocument.body:"body"),f=s==="sandbox"?l.nodes()[0].contentDocument:document;try{i.parser.parse(t)}catch{C.debug("Parsing failed")}let g=i.db.getDirection();g===void 0&&(g="TD");const _=o.nodeSpacing||50,k=o.rankSpacing||50,w=new qr({multigraph:!0,compound:!0}).setGraph({rankdir:g,nodesep:_,ranksep:k,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let x;const M=i.db.getSubGraphs();for(let lt=M.length-1;lt>=0;lt--)x=M[lt],i.db.addVertex(x.id,x.title,"group",void 0,x.classes);const R=i.db.getVertices();C.warn("Get vertices",R);const B=i.db.getEdges();let U=0;for(U=M.length-1;U>=0;U--){x=M[U],cg("cluster").append("text");for(let lt=0;lt<x.nodes.length;lt++)C.warn("Setting subgraph",x.nodes[lt],i.db.lookUpDomId(x.nodes[lt]),i.db.lookUpDomId(x.id)),w.setParent(i.db.lookUpDomId(x.nodes[lt]),i.db.lookUpDomId(x.id))}Uw(R,w,e,u,f,i),zw(B,w,i);const Y=new Rj;Uj.addToRender(Y),Y.arrows().none=function(J,ot,q,H){const O=J.append("marker").attr("id",ot).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");Ea(O,q[H+"Style"])},Y.arrows().normal=function(J,ot){J.append("marker").attr("id",ot).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const X=u.select(`[id="${e}"]`),Q=u.select("#"+e+" g");for(Y(Q,w),Q.selectAll("g.node").attr("title",function(){return i.db.getTooltip(this.id)}),i.db.indexNodes("subGraph"+U),U=0;U<M.length;U++)if(x=M[U],x.title!=="undefined"){const lt=f.querySelectorAll("#"+e+' [id="'+i.db.lookUpDomId(x.id)+'"] rect'),J=f.querySelectorAll("#"+e+' [id="'+i.db.lookUpDomId(x.id)+'"]'),ot=lt[0].x.baseVal.value,q=lt[0].y.baseVal.value,H=lt[0].width.baseVal.value,O=re(J[0]).select(".label");O.attr("transform",`translate(${ot+H/2}, ${q+14})`),O.attr("id",e+"Text");for(let W=0;W<x.classes.length;W++)J[0].classList.add(x.classes[W])}if(!o.htmlLabels){const lt=f.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const J of lt){const ot=J.getBBox(),q=f.createElementNS("http://www.w3.org/2000/svg","rect");q.setAttribute("rx",0),q.setAttribute("ry",0),q.setAttribute("width",ot.width),q.setAttribute("height",ot.height),J.insertBefore(q,J.firstChild)}}D1(w,X,o.diagramPadding,o.useMaxWidth),Object.keys(R).forEach(function(lt){const J=R[lt];if(J.link){const ot=u.select("#"+e+' [id="'+i.db.lookUpDomId(lt)+'"]');if(ot){const q=f.createElementNS("http://www.w3.org/2000/svg","a");q.setAttributeNS("http://www.w3.org/2000/svg","class",J.classes.join(" ")),q.setAttributeNS("http://www.w3.org/2000/svg","href",J.link),q.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),s==="sandbox"?q.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):J.linkTarget&&q.setAttributeNS("http://www.w3.org/2000/svg","target",J.linkTarget);const H=ot.insert(function(){return q},":first-child"),$=ot.select(".label-container");$&&H.append(function(){return $.node()});const O=ot.select(".label");O&&H.append(function(){return O.node()})}}})}},Hw={},Wj=function(t){const e=Object.keys(t);for(const n of e)Hw[n]=t[n]},Ww=function(t,e,n,i,s,o){const l=i.select(`[id="${n}"]`);Object.keys(t).forEach(function(f){const g=t[f];let _="default";g.classes.length>0&&(_=g.classes.join(" "));const k=zo(g.styles);let w=g.text!==void 0?g.text:g.id,x;if(li(ht().flowchart.htmlLabels)){const B={label:w.replace(/fa[blrs]?:fa-[\w-]+/g,U=>`<i class='${U.replace(":"," ")}'></i>`)};x=Sy(l,B).node(),x.parentNode.removeChild(x)}else{const B=s.createElementNS("http://www.w3.org/2000/svg","text");B.setAttribute("style",k.labelStyle.replace("color:","fill:"));const U=w.split(_n.lineBreakRegex);for(const Y of U){const X=s.createElementNS("http://www.w3.org/2000/svg","tspan");X.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),X.setAttribute("dy","1em"),X.setAttribute("x","1"),X.textContent=Y,B.appendChild(X)}x=B}let M=0,R="";switch(g.type){case"round":M=5,R="rect";break;case"square":R="rect";break;case"diamond":R="question";break;case"hexagon":R="hexagon";break;case"odd":R="rect_left_inv_arrow";break;case"lean_right":R="lean_right";break;case"lean_left":R="lean_left";break;case"trapezoid":R="trapezoid";break;case"inv_trapezoid":R="inv_trapezoid";break;case"odd_right":R="rect_left_inv_arrow";break;case"circle":R="circle";break;case"ellipse":R="ellipse";break;case"stadium":R="stadium";break;case"subroutine":R="subroutine";break;case"cylinder":R="cylinder";break;case"group":R="rect";break;case"doublecircle":R="doublecircle";break;default:R="rect"}e.setNode(g.id,{labelStyle:k.labelStyle,shape:R,labelText:w,rx:M,ry:M,class:_,style:k.style,id:g.id,link:g.link,linkTarget:g.linkTarget,tooltip:o.db.getTooltip(g.id)||"",domId:o.db.lookUpDomId(g.id),haveCallback:g.haveCallback,width:g.type==="group"?500:void 0,dir:g.dir,type:g.type,props:g.props,padding:ht().flowchart.padding}),C.info("setNode",{labelStyle:k.labelStyle,shape:R,labelText:w,rx:M,ry:M,class:_,style:k.style,id:g.id,domId:o.db.lookUpDomId(g.id),width:g.type==="group"?500:void 0,type:g.type,dir:g.dir,props:g.props,padding:ht().flowchart.padding})})},jw=function(t,e,n){C.info("abc78 edges = ",t);let i=0,s={},o,l;if(t.defaultStyle!==void 0){const u=zo(t.defaultStyle);o=u.style,l=u.labelStyle}t.forEach(function(u){i++;var f="L-"+u.start+"-"+u.end;s[f]===void 0?(s[f]=0,C.info("abc78 new entry",f,s[f])):(s[f]++,C.info("abc78 new entry",f,s[f]));let g=f+"-"+s[f];C.info("abc78 new link id to be used is",f,g,s[f]);var _="LS-"+u.start,k="LE-"+u.end;const w={style:"",labelStyle:""};switch(w.minlen=u.length||1,u.type==="arrow_open"?w.arrowhead="none":w.arrowhead="normal",w.arrowTypeStart="arrow_open",w.arrowTypeEnd="arrow_open",u.type){case"double_arrow_cross":w.arrowTypeStart="arrow_cross";case"arrow_cross":w.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":w.arrowTypeStart="arrow_point";case"arrow_point":w.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":w.arrowTypeStart="arrow_circle";case"arrow_circle":w.arrowTypeEnd="arrow_circle";break}let x="",M="";switch(u.stroke){case"normal":x="fill:none;",o!==void 0&&(x=o),l!==void 0&&(M=l),w.thickness="normal",w.pattern="solid";break;case"dotted":w.thickness="normal",w.pattern="dotted",w.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":w.thickness="thick",w.pattern="solid",w.style="stroke-width: 3.5px;fill:none;";break}if(u.style!==void 0){const R=zo(u.style);x=R.style,M=R.labelStyle}w.style=w.style+=x,w.labelStyle=w.labelStyle+=M,u.interpolate!==void 0?w.curve=zs(u.interpolate,ns):t.defaultInterpolate!==void 0?w.curve=zs(t.defaultInterpolate,ns):w.curve=zs(Hw.curve,ns),u.text===void 0?u.style!==void 0&&(w.arrowheadStyle="fill: #333"):(w.arrowheadStyle="fill: #333",w.labelpos="c"),w.labelType="text",w.label=u.text.replace(_n.lineBreakRegex,`
`),u.style===void 0&&(w.style=w.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),w.labelStyle=w.labelStyle.replace("color:","fill:"),w.id=g,w.classes="flowchart-link "+_+" "+k,e.setEdge(u.start,u.end,w,i)})},Ry={setConf:Wj,addVertices:Ww,addEdges:jw,getClasses:function(t,e){C.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch{return}},draw:function(t,e,n,i){C.info("Drawing flowchart"),i.db.clear(),oo.setGen("gen-2"),i.parser.parse(t);let s=i.db.getDirection();s===void 0&&(s="TD");const{securityLevel:o,flowchart:l}=ht(),u=l.nodeSpacing||50,f=l.rankSpacing||50;let g;o==="sandbox"&&(g=re("#i"+e));const _=re(o==="sandbox"?g.nodes()[0].contentDocument.body:"body"),k=o==="sandbox"?g.nodes()[0].contentDocument:document,w=new qr({multigraph:!0,compound:!0}).setGraph({rankdir:s,nodesep:u,ranksep:f,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let x;const M=i.db.getSubGraphs();C.info("Subgraphs - ",M);for(let at=M.length-1;at>=0;at--)x=M[at],C.info("Subgraph - ",x),i.db.addVertex(x.id,x.title,"group",void 0,x.classes,x.dir);const R=i.db.getVertices(),B=i.db.getEdges();C.info(B);let U=0;for(U=M.length-1;U>=0;U--){x=M[U],cg("cluster").append("text");for(let at=0;at<x.nodes.length;at++)C.info("Setting up subgraphs",x.nodes[at],x.id),w.setParent(x.nodes[at],x.id)}Ww(R,w,e,_,k,i),jw(B,w);const Y=_.select(`[id="${e}"]`),X=_.select("#"+e+" g");if(yy(X,w,["point","circle","cross"],"flowchart",e),Tn.insertTitle(Y,"flowchartTitleText",l.titleTopMargin,i.db.getDiagramTitle()),D1(w,Y,l.diagramPadding,l.useMaxWidth),i.db.indexNodes("subGraph"+U),!l.htmlLabels){const at=k.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const lt of at){const J=lt.getBBox(),ot=k.createElementNS("http://www.w3.org/2000/svg","rect");ot.setAttribute("rx",0),ot.setAttribute("ry",0),ot.setAttribute("width",J.width),ot.setAttribute("height",J.height),lt.insertBefore(ot,lt.firstChild)}}Object.keys(R).forEach(function(at){const lt=R[at];if(lt.link){const J=re("#"+e+' [id="'+at+'"]');if(J){const ot=k.createElementNS("http://www.w3.org/2000/svg","a");ot.setAttributeNS("http://www.w3.org/2000/svg","class",lt.classes.join(" ")),ot.setAttributeNS("http://www.w3.org/2000/svg","href",lt.link),ot.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),o==="sandbox"?ot.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):lt.linkTarget&&ot.setAttributeNS("http://www.w3.org/2000/svg","target",lt.linkTarget);const q=J.insert(function(){return ot},":first-child"),H=J.select(".label-container");H&&q.append(function(){return H.node()});const $=J.select(".label");$&&q.append(function(){return $.node()})}}})}};var By=function(){var t=function(ot,q,H,$){for(H=H||{},$=ot.length;$--;H[ot[$]]=q);return H},e=[1,3],n=[1,5],i=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],s=[1,15],o=[1,16],l=[1,17],u=[1,18],f=[1,19],g=[1,20],_=[1,21],k=[1,22],w=[1,23],x=[1,24],M=[1,25],R=[1,26],B=[1,27],U=[1,29],Y=[1,31],X=[1,34],Q=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],at={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(q,H,$,O,W,A,mt){var I=A.length-1;switch(W){case 2:return A[I-1];case 3:this.$=[];break;case 4:A[I-1].push(A[I]),this.$=A[I-1];break;case 5:case 6:this.$=A[I];break;case 7:case 8:this.$=[];break;case 9:O.setDateFormat(A[I].substr(11)),this.$=A[I].substr(11);break;case 10:O.enableInclusiveEndDates(),this.$=A[I].substr(18);break;case 11:O.TopAxis(),this.$=A[I].substr(8);break;case 12:O.setAxisFormat(A[I].substr(11)),this.$=A[I].substr(11);break;case 13:O.setTickInterval(A[I].substr(13)),this.$=A[I].substr(13);break;case 14:O.setExcludes(A[I].substr(9)),this.$=A[I].substr(9);break;case 15:O.setIncludes(A[I].substr(9)),this.$=A[I].substr(9);break;case 16:O.setTodayMarker(A[I].substr(12)),this.$=A[I].substr(12);break;case 17:O.setDiagramTitle(A[I].substr(6)),this.$=A[I].substr(6);break;case 18:this.$=A[I].trim(),O.setAccTitle(this.$);break;case 19:case 20:this.$=A[I].trim(),O.setAccDescription(this.$);break;case 21:O.addSection(A[I].substr(8)),this.$=A[I].substr(8);break;case 23:O.addTask(A[I-1],A[I]),this.$="task";break;case 27:this.$=A[I-1],O.setClickEvent(A[I-1],A[I],null);break;case 28:this.$=A[I-2],O.setClickEvent(A[I-2],A[I-1],A[I]);break;case 29:this.$=A[I-2],O.setClickEvent(A[I-2],A[I-1],null),O.setLink(A[I-2],A[I]);break;case 30:this.$=A[I-3],O.setClickEvent(A[I-3],A[I-2],A[I-1]),O.setLink(A[I-3],A[I]);break;case 31:this.$=A[I-2],O.setClickEvent(A[I-2],A[I],null),O.setLink(A[I-2],A[I-1]);break;case 32:this.$=A[I-3],O.setClickEvent(A[I-3],A[I-1],A[I]),O.setLink(A[I-3],A[I-2]);break;case 33:this.$=A[I-1],O.setLink(A[I-1],A[I]);break;case 34:case 40:this.$=A[I-1]+" "+A[I];break;case 35:case 36:case 38:this.$=A[I-2]+" "+A[I-1]+" "+A[I];break;case 37:case 39:this.$=A[I-3]+" "+A[I-2]+" "+A[I-1]+" "+A[I];break;case 41:O.parseDirective("%%{","open_directive");break;case 42:O.parseDirective(A[I],"type_directive");break;case 43:A[I]=A[I].trim().replace(/'/g,'"'),O.parseDirective(A[I],"arg_directive");break;case 44:O.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:e,30:4,40:n},{1:[3]},{3:6,4:2,5:e,30:4,40:n},t(i,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:s,13:o,14:l,15:u,16:f,17:g,18:_,19:k,20:w,21:x,23:M,25:R,26:B,27:28,28:U,30:4,35:Y,40:n},{32:32,33:[1,33],43:X},t([33,43],[2,42]),t(i,[2,8],{1:[2,2]}),t(i,[2,4]),{4:30,10:35,12:s,13:o,14:l,15:u,16:f,17:g,18:_,19:k,20:w,21:x,23:M,25:R,26:B,27:28,28:U,30:4,35:Y,40:n},t(i,[2,6]),t(i,[2,7]),t(i,[2,9]),t(i,[2,10]),t(i,[2,11]),t(i,[2,12]),t(i,[2,13]),t(i,[2,14]),t(i,[2,15]),t(i,[2,16]),t(i,[2,17]),{22:[1,36]},{24:[1,37]},t(i,[2,20]),t(i,[2,21]),t(i,[2,22]),{29:[1,38]},t(i,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},t(i,[2,5]),t(i,[2,18]),t(i,[2,19]),t(i,[2,23]),t(i,[2,27],{37:[1,44],38:[1,45]}),t(i,[2,33],{36:[1,46]}),t(Q,[2,25]),{32:47,43:X},{43:[2,43]},t(i,[2,28],{38:[1,48]}),t(i,[2,29]),t(i,[2,31],{37:[1,49]}),{11:[1,50]},t(i,[2,30]),t(i,[2,32]),t(Q,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(q,H){if(H.recoverable)this.trace(q);else{var $=new Error(q);throw $.hash=H,$}},parse:function(q){var H=this,$=[0],O=[],W=[null],A=[],mt=this.table,I="",It=0,le=0,qt=2,ut=1,St=A.slice.call(arguments,1),bt=Object.create(this.lexer),kt={yy:{}};for(var Lt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Lt)&&(kt.yy[Lt]=this.yy[Lt]);bt.setInput(q,kt.yy),kt.yy.lexer=bt,kt.yy.parser=this,typeof bt.yylloc>"u"&&(bt.yylloc={});var Ht=bt.yylloc;A.push(Ht);var pt=bt.options&&bt.options.ranges;typeof kt.yy.parseError=="function"?this.parseError=kt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _e(){var Ee;return Ee=O.pop()||bt.lex()||ut,typeof Ee!="number"&&(Ee instanceof Array&&(O=Ee,Ee=O.pop()),Ee=H.symbols_[Ee]||Ee),Ee}for(var tt,st,dt,Z,G={},z,yt,P,Nt;;){if(st=$[$.length-1],this.defaultActions[st]?dt=this.defaultActions[st]:((tt===null||typeof tt>"u")&&(tt=_e()),dt=mt[st]&&mt[st][tt]),typeof dt>"u"||!dt.length||!dt[0]){var nt="";Nt=[];for(z in mt[st])this.terminals_[z]&&z>qt&&Nt.push("'"+this.terminals_[z]+"'");bt.showPosition?nt="Parse error on line "+(It+1)+`:
`+bt.showPosition()+`
Expecting `+Nt.join(", ")+", got '"+(this.terminals_[tt]||tt)+"'":nt="Parse error on line "+(It+1)+": Unexpected "+(tt==ut?"end of input":"'"+(this.terminals_[tt]||tt)+"'"),this.parseError(nt,{text:bt.match,token:this.terminals_[tt]||tt,line:bt.yylineno,loc:Ht,expected:Nt})}if(dt[0]instanceof Array&&dt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+st+", token: "+tt);switch(dt[0]){case 1:$.push(tt),W.push(bt.yytext),A.push(bt.yylloc),$.push(dt[1]),tt=null,le=bt.yyleng,I=bt.yytext,It=bt.yylineno,Ht=bt.yylloc;break;case 2:if(yt=this.productions_[dt[1]][1],G.$=W[W.length-yt],G._$={first_line:A[A.length-(yt||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(yt||1)].first_column,last_column:A[A.length-1].last_column},pt&&(G._$.range=[A[A.length-(yt||1)].range[0],A[A.length-1].range[1]]),Z=this.performAction.apply(G,[I,le,It,kt.yy,dt[1],W,A].concat(St)),typeof Z<"u")return Z;yt&&($=$.slice(0,-1*yt*2),W=W.slice(0,-1*yt),A=A.slice(0,-1*yt)),$.push(this.productions_[dt[1]][0]),W.push(G.$),A.push(G._$),P=mt[$[$.length-2]][$[$.length-1]],$.push(P);break;case 3:return!0}}return!0}},lt=function(){var ot={EOF:1,parseError:function(H,$){if(this.yy.parser)this.yy.parser.parseError(H,$);else throw new Error(H)},setInput:function(q,H){return this.yy=H||this.yy||{},this._input=q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var q=this._input[0];this.yytext+=q,this.yyleng++,this.offset++,this.match+=q,this.matched+=q;var H=q.match(/(?:\r\n?|\n).*/g);return H?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),q},unput:function(q){var H=q.length,$=q.split(/(?:\r\n?|\n)/g);this._input=q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-H),this.offset-=H;var O=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$.length-1&&(this.yylineno-=$.length-1);var W=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$?($.length===O.length?this.yylloc.first_column:0)+O[O.length-$.length].length-$[0].length:this.yylloc.first_column-H},this.options.ranges&&(this.yylloc.range=[W[0],W[0]+this.yyleng-H]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(q){this.unput(this.match.slice(q))},pastInput:function(){var q=this.matched.substr(0,this.matched.length-this.match.length);return(q.length>20?"...":"")+q.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var q=this.match;return q.length<20&&(q+=this._input.substr(0,20-q.length)),(q.substr(0,20)+(q.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var q=this.pastInput(),H=new Array(q.length+1).join("-");return q+this.upcomingInput()+`
`+H+"^"},test_match:function(q,H){var $,O,W;if(this.options.backtrack_lexer&&(W={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(W.yylloc.range=this.yylloc.range.slice(0))),O=q[0].match(/(?:\r\n?|\n).*/g),O&&(this.yylineno+=O.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+q[0].length},this.yytext+=q[0],this.match+=q[0],this.matches=q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(q[0].length),this.matched+=q[0],$=this.performAction.call(this,this.yy,this,H,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$)return $;if(this._backtrack){for(var A in W)this[A]=W[A];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var q,H,$,O;this._more||(this.yytext="",this.match="");for(var W=this._currentRules(),A=0;A<W.length;A++)if($=this._input.match(this.rules[W[A]]),$&&(!H||$[0].length>H[0].length)){if(H=$,O=A,this.options.backtrack_lexer){if(q=this.test_match($,W[A]),q!==!1)return q;if(this._backtrack){H=!1;continue}else return!1}else if(!this.options.flex)break}return H?(q=this.test_match(H,W[O]),q!==!1?q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var H=this.next();return H||this.lex()},begin:function(H){this.conditionStack.push(H)},popState:function(){var H=this.conditionStack.length-1;return H>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(H){return H=this.conditionStack.length-1-Math.abs(H||0),H>=0?this.conditionStack[H]:"INITIAL"},pushState:function(H){this.begin(H)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(H,$,O,W){switch(O){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 38;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 26:this.popState();break;case 27:return 37;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return ot}();at.lexer=lt;function J(){this.yy={}}return J.prototype=at,at.Parser=J,new J}();By.parser=By;const jj=By,qj=t=>t.match(/^\s*gantt/)!==null;let Sa="",Py="",Fy,Vy="",fd=[],pd=[],Yy={},$y=[],Ip=[],Iu="";const qw=["active","done","crit","milestone"];let Uy=[],gd=!1,zy=!1,Hy=0;const Gj=function(t,e,n){Sr.parseDirective(this,t,e,n)},Xj=function(){$y=[],Ip=[],Iu="",Uy=[],Mp=0,jy=void 0,Np=void 0,ti=[],Sa="",Py="",Fy=void 0,Vy="",fd=[],pd=[],gd=!1,zy=!1,Hy=0,Yy={},js()},Kj=function(t){Py=t},Zj=function(){return Py},Qj=function(t){Fy=t},Jj=function(){return Fy},tq=function(t){Vy=t},eq=function(){return Vy},nq=function(t){Sa=t},rq=function(){gd=!0},iq=function(){return gd},sq=function(){zy=!0},aq=function(){return zy},oq=function(){return Sa},lq=function(t){fd=t.toLowerCase().split(/[\s,]+/)},cq=function(){return fd},uq=function(t){pd=t.toLowerCase().split(/[\s,]+/)},hq=function(){return pd},dq=function(){return Yy},fq=function(t){Iu=t,$y.push(t)},pq=function(){return $y},gq=function(){let t=Jw();const e=10;let n=0;for(;!t&&n<e;)t=Jw(),n++;return Ip=ti,Ip},Gw=function(t,e,n,i){return i.includes(t.format(e.trim()))?!1:t.isoWeekday()>=6&&n.includes("weekends")||n.includes(t.format("dddd").toLowerCase())?!0:n.includes(t.format(e.trim()))},Xw=function(t,e,n,i){if(!n.length||t.manualEndTime)return;let s=L(t.startTime,e,!0);s.add(1,"d");let o=L(t.endTime,e,!0),l=mq(s,o,e,n,i);t.endTime=o.toDate(),t.renderEndTime=l},mq=function(t,e,n,i,s){let o=!1,l=null;for(;t<=e;)o||(l=e.toDate()),o=Gw(t,n,i,s),o&&e.add(1,"d"),t.add(1,"d");return l},Wy=function(t,e,n){n=n.trim();const s=/^after\s+([\d\w- ]+)/.exec(n.trim());if(s!==null){let l=null;if(s[1].split(" ").forEach(function(u){let f=Nu(u);f!==void 0&&(l?f.endTime>l.endTime&&(l=f):l=f)}),l)return l.endTime;{const u=new Date;return u.setHours(0,0,0,0),u}}let o=L(n,e.trim(),!0);if(o.isValid())return o.toDate();{C.debug("Invalid date:"+n),C.debug("With date format:"+e.trim());const l=new Date(n);if(l===void 0||isNaN(l.getTime()))throw new Error("Invalid date:"+n);return l}},Kw=function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?L.duration(Number.parseFloat(e[1]),e[2]):L.duration.invalid()},Zw=function(t,e,n,i=!1){n=n.trim();let s=L(n,e.trim(),!0);if(s.isValid())return i&&s.add(1,"d"),s.toDate();const o=L(t),l=Kw(n);return l.isValid()&&o.add(l),o.toDate()};let Mp=0;const Mu=function(t){return t===void 0?(Mp=Mp+1,"task"+Mp):t},yq=function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const i=n.split(","),s={};nx(i,s,qw);for(let l=0;l<i.length;l++)i[l]=i[l].trim();let o="";switch(i.length){case 1:s.id=Mu(),s.startTime=t.endTime,o=i[0];break;case 2:s.id=Mu(),s.startTime=Wy(void 0,Sa,i[0]),o=i[1];break;case 3:s.id=Mu(i[0]),s.startTime=Wy(void 0,Sa,i[1]),o=i[2];break}return o&&(s.endTime=Zw(s.startTime,Sa,o,gd),s.manualEndTime=L(o,"YYYY-MM-DD",!0).isValid(),Xw(s,Sa,pd,fd)),s},_q=function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const i=n.split(","),s={};nx(i,s,qw);for(let o=0;o<i.length;o++)i[o]=i[o].trim();switch(i.length){case 1:s.id=Mu(),s.startTime={type:"prevTaskEnd",id:t},s.endTime={data:i[0]};break;case 2:s.id=Mu(),s.startTime={type:"getStartDate",startData:i[0]},s.endTime={data:i[1]};break;case 3:s.id=Mu(i[0]),s.startTime={type:"getStartDate",startData:i[1]},s.endTime={data:i[2]};break}return s};let jy,Np,ti=[];const Qw={},vq=function(t,e){const n={section:Iu,type:Iu,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},i=_q(Np,e);n.raw.startTime=i.startTime,n.raw.endTime=i.endTime,n.id=i.id,n.prevTaskId=Np,n.active=i.active,n.done=i.done,n.crit=i.crit,n.milestone=i.milestone,n.order=Hy,Hy++;const s=ti.push(n);Np=n.id,Qw[n.id]=s-1},Nu=function(t){const e=Qw[t];return ti[e]},bq=function(t,e){const n={section:Iu,type:Iu,description:t,task:t,classes:[]},i=yq(jy,e);n.startTime=i.startTime,n.endTime=i.endTime,n.id=i.id,n.active=i.active,n.done=i.done,n.crit=i.crit,n.milestone=i.milestone,jy=n,Ip.push(n)},Jw=function(){const t=function(n){const i=ti[n];let s="";switch(ti[n].raw.startTime.type){case"prevTaskEnd":{const o=Nu(i.prevTaskId);i.startTime=o.endTime;break}case"getStartDate":s=Wy(void 0,Sa,ti[n].raw.startTime.startData),s&&(ti[n].startTime=s);break}return ti[n].startTime&&(ti[n].endTime=Zw(ti[n].startTime,Sa,ti[n].raw.endTime.data,gd),ti[n].endTime&&(ti[n].processed=!0,ti[n].manualEndTime=L(ti[n].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Xw(ti[n],Sa,pd,fd))),ti[n].processed};let e=!0;for(const[n,i]of ti.entries())t(n),e=e&&i.processed;return e},kq=function(t,e){let n=e;ht().securityLevel!=="loose"&&(n=it(e)),t.split(",").forEach(function(i){Nu(i)!==void 0&&(ex(i,()=>{window.open(n,"_self")}),Yy[i]=n)}),tx(t,"clickable")},tx=function(t,e){t.split(",").forEach(function(n){let i=Nu(n);i!==void 0&&i.classes.push(e)})},wq=function(t,e,n){if(ht().securityLevel!=="loose"||e===void 0)return;let i=[];if(typeof n=="string"){i=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<i.length;o++){let l=i[o].trim();l.charAt(0)==='"'&&l.charAt(l.length-1)==='"'&&(l=l.substr(1,l.length-2)),i[o]=l}}i.length===0&&i.push(t),Nu(t)!==void 0&&ex(t,()=>{Tn.runFunc(e,...i)})},ex=function(t,e){Uy.push(function(){const n=document.querySelector(`[id="${t}"]`);n!==null&&n.addEventListener("click",function(){e()})},function(){const n=document.querySelector(`[id="${t}-text"]`);n!==null&&n.addEventListener("click",function(){e()})})},qy={parseDirective:Gj,getConfig:()=>ht().gantt,clear:Xj,setDateFormat:nq,getDateFormat:oq,enableInclusiveEndDates:rq,endDatesAreInclusive:iq,enableTopAxis:sq,topAxisEnabled:aq,setAxisFormat:Kj,getAxisFormat:Zj,setTickInterval:Qj,getTickInterval:Jj,setTodayMarker:tq,getTodayMarker:eq,setAccTitle:xs,getAccTitle:qs,setDiagramTitle:Za,getDiagramTitle:Qa,setAccDescription:Gs,getAccDescription:Xs,addSection:fq,getSections:pq,getTasks:gq,addTask:vq,findTaskById:Nu,addTaskOrg:bq,setIncludes:lq,getIncludes:cq,setExcludes:uq,getExcludes:hq,setClickEvent:function(t,e,n){t.split(",").forEach(function(i){wq(i,e,n)}),tx(t,"clickable")},setLink:kq,getLinks:dq,bindFunctions:function(t){Uy.forEach(function(e){e(t)})},parseDuration:Kw,isInvalidDate:Gw};function nx(t,e,n){let i=!0;for(;i;)i=!1,n.forEach(function(s){const o="^\\s*"+s+"\\s*$",l=new RegExp(o);t[0].match(l)&&(e[s]=!0,t.shift(1),i=!0)})}const xq=function(){C.debug("Something is calling, setConf, remove the call")};let co;const Tq={setConf:xq,draw:function(t,e,n,i){const s=ht().gantt,o=ht().securityLevel;let l;o==="sandbox"&&(l=re("#i"+e));const u=re(o==="sandbox"?l.nodes()[0].contentDocument.body:"body"),f=o==="sandbox"?l.nodes()[0].contentDocument:document,g=f.getElementById(e);co=g.parentElement.offsetWidth,co===void 0&&(co=1200),s.useWidth!==void 0&&(co=s.useWidth);const _=i.db.getTasks(),k=_.length*(s.barHeight+s.barGap)+2*s.topPadding;g.setAttribute("viewBox","0 0 "+co+" "+k);const w=u.select(`[id="${e}"]`),x=cI().domain([Ie(_,function(H){return H.startTime}),Pe(_,function(H){return H.endTime})]).rangeRound([0,co-s.leftPadding-s.rightPadding]);let M=[];for(const H of _)M.push(H.type);const R=M;M=J(M);function B(H,$){const O=H.startTime,W=$.startTime;let A=0;return O>W?A=1:O<W&&(A=-1),A}_.sort(B),U(_,co,k),Ws(w,k,co,s.useMaxWidth),w.append("text").text(i.db.getDiagramTitle()).attr("x",co/2).attr("y",s.titleTopMargin).attr("class","titleText");function U(H,$,O){const W=s.barHeight,A=W+s.barGap,mt=s.topPadding,I=s.leftPadding,It=Ab().domain([0,M.length]).range(["#00B9FA","#F95002"]).interpolate(o9);X(A,mt,I,$,O,H,i.db.getExcludes(),i.db.getIncludes()),Q(I,mt,$,O),Y(H,A,mt,I,W,It,$),at(A,mt),lt(I,mt,$,O)}function Y(H,$,O,W,A,mt,I){w.append("g").selectAll("rect").data(H).enter().append("rect").attr("x",0).attr("y",function(ut,St){return St=ut.order,St*$+O-2}).attr("width",function(){return I-s.rightPadding/2}).attr("height",$).attr("class",function(ut){for(const[St,bt]of M.entries())if(ut.type===bt)return"section section"+St%s.numberSectionStyles;return"section section0"});const It=w.append("g").selectAll("rect").data(H).enter(),le=i.db.getLinks();if(It.append("rect").attr("id",function(ut){return ut.id}).attr("rx",3).attr("ry",3).attr("x",function(ut){return ut.milestone?x(ut.startTime)+W+.5*(x(ut.endTime)-x(ut.startTime))-.5*A:x(ut.startTime)+W}).attr("y",function(ut,St){return St=ut.order,St*$+O}).attr("width",function(ut){return ut.milestone?A:x(ut.renderEndTime||ut.endTime)-x(ut.startTime)}).attr("height",A).attr("transform-origin",function(ut,St){return St=ut.order,(x(ut.startTime)+W+.5*(x(ut.endTime)-x(ut.startTime))).toString()+"px "+(St*$+O+.5*A).toString()+"px"}).attr("class",function(ut){const St="task";let bt="";ut.classes.length>0&&(bt=ut.classes.join(" "));let kt=0;for(const[Ht,pt]of M.entries())ut.type===pt&&(kt=Ht%s.numberSectionStyles);let Lt="";return ut.active?ut.crit?Lt+=" activeCrit":Lt=" active":ut.done?ut.crit?Lt=" doneCrit":Lt=" done":ut.crit&&(Lt+=" crit"),Lt.length===0&&(Lt=" task"),ut.milestone&&(Lt=" milestone "+Lt),Lt+=kt,Lt+=" "+bt,St+Lt}),It.append("text").attr("id",function(ut){return ut.id+"-text"}).text(function(ut){return ut.task}).attr("font-size",s.fontSize).attr("x",function(ut){let St=x(ut.startTime),bt=x(ut.renderEndTime||ut.endTime);ut.milestone&&(St+=.5*(x(ut.endTime)-x(ut.startTime))-.5*A),ut.milestone&&(bt=St+A);const kt=this.getBBox().width;return kt>bt-St?bt+kt+1.5*s.leftPadding>I?St+W-5:bt+W+5:(bt-St)/2+St+W}).attr("y",function(ut,St){return St=ut.order,St*$+s.barHeight/2+(s.fontSize/2-2)+O}).attr("text-height",A).attr("class",function(ut){const St=x(ut.startTime);let bt=x(ut.endTime);ut.milestone&&(bt=St+A);const kt=this.getBBox().width;let Lt="";ut.classes.length>0&&(Lt=ut.classes.join(" "));let Ht=0;for(const[_e,tt]of M.entries())ut.type===tt&&(Ht=_e%s.numberSectionStyles);let pt="";return ut.active&&(ut.crit?pt="activeCritText"+Ht:pt="activeText"+Ht),ut.done?ut.crit?pt=pt+" doneCritText"+Ht:pt=pt+" doneText"+Ht:ut.crit&&(pt=pt+" critText"+Ht),ut.milestone&&(pt+=" milestoneText"),kt>bt-St?bt+kt+1.5*s.leftPadding>I?Lt+" taskTextOutsideLeft taskTextOutside"+Ht+" "+pt:Lt+" taskTextOutsideRight taskTextOutside"+Ht+" "+pt+" width-"+kt:Lt+" taskText taskText"+Ht+" "+pt+" width-"+kt}),ht().securityLevel==="sandbox"){let ut;ut=re("#i"+e);const St=ut.nodes()[0].contentDocument;It.filter(function(bt){return le[bt.id]!==void 0}).each(function(bt){var kt=St.querySelector("#"+bt.id),Lt=St.querySelector("#"+bt.id+"-text");const Ht=kt.parentNode;var pt=St.createElement("a");pt.setAttribute("xlink:href",le[bt.id]),pt.setAttribute("target","_top"),Ht.appendChild(pt),pt.appendChild(kt),pt.appendChild(Lt)})}}function X(H,$,O,W,A,mt,I,It){const le=mt.reduce((Ht,{startTime:pt})=>Ht?Math.min(Ht,pt):pt,0),qt=mt.reduce((Ht,{endTime:pt})=>Ht?Math.max(Ht,pt):pt,0),ut=i.db.getDateFormat();if(!le||!qt)return;const St=[];let bt=null,kt=L(le);for(;kt.valueOf()<=qt;)i.db.isInvalidDate(kt,ut,I,It)?bt?bt.end=kt.clone():bt={start:kt.clone(),end:kt.clone()}:bt&&(St.push(bt),bt=null),kt.add(1,"d");w.append("g").selectAll("rect").data(St).enter().append("rect").attr("id",function(Ht){return"exclude-"+Ht.start.format("YYYY-MM-DD")}).attr("x",function(Ht){return x(Ht.start)+O}).attr("y",s.gridLineStartPadding).attr("width",function(Ht){const pt=Ht.end.clone().add(1,"day");return x(pt)-x(Ht.start)}).attr("height",A-$-s.gridLineStartPadding).attr("transform-origin",function(Ht,pt){return(x(Ht.start)+O+.5*(x(Ht.end)-x(Ht.start))).toString()+"px "+(pt*H+.5*A).toString()+"px"}).attr("class","exclude-range")}function Q(H,$,O,W){let A=ue(x).tickSize(-W+$+s.gridLineStartPadding).tickFormat(Gf(i.db.getAxisFormat()||s.axisFormat||"%Y-%m-%d"));const I=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(i.db.getTickInterval()||s.tickInterval);if(I!==null){const It=I[1];switch(I[2]){case"minute":A.ticks(zf.every(It));break;case"hour":A.ticks(Hf.every(It));break;case"day":A.ticks(Xc.every(It));break;case"week":A.ticks(Kc.every(It));break;case"month":A.ticks(jf.every(It));break}}if(w.append("g").attr("class","grid").attr("transform","translate("+H+", "+(W-50)+")").call(A).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),i.db.topAxisEnabled()||s.topAxis){let It=Te(x).tickSize(-W+$+s.gridLineStartPadding).tickFormat(Gf(i.db.getAxisFormat()||s.axisFormat||"%Y-%m-%d"));if(I!==null){const le=I[1];switch(I[2]){case"minute":It.ticks(zf.every(le));break;case"hour":It.ticks(Hf.every(le));break;case"day":It.ticks(Xc.every(le));break;case"week":It.ticks(Kc.every(le));break;case"month":It.ticks(jf.every(le));break}}w.append("g").attr("class","grid").attr("transform","translate("+H+", "+$+")").call(It).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function at(H,$){const O=[];let W=0;for(const[A,mt]of M.entries())O[A]=[mt,q(mt,R)];w.append("g").selectAll("text").data(O).enter().append(function(A){const mt=A[0].split(_n.lineBreakRegex),I=-(mt.length-1)/2,It=f.createElementNS("http://www.w3.org/2000/svg","text");It.setAttribute("dy",I+"em");for(const[le,qt]of mt.entries()){const ut=f.createElementNS("http://www.w3.org/2000/svg","tspan");ut.setAttribute("alignment-baseline","central"),ut.setAttribute("x","10"),le>0&&ut.setAttribute("dy","1em"),ut.textContent=qt,It.appendChild(ut)}return It}).attr("x",10).attr("y",function(A,mt){if(mt>0)for(let I=0;I<mt;I++)return W+=O[mt-1][1],A[1]*H/2+W*H+$;else return A[1]*H/2+$}).attr("font-size",s.sectionFontSize).attr("font-size",s.sectionFontSize).attr("class",function(A){for(const[mt,I]of M.entries())if(A[0]===I)return"sectionTitle sectionTitle"+mt%s.numberSectionStyles;return"sectionTitle"})}function lt(H,$,O,W){const A=i.db.getTodayMarker();if(A==="off")return;const mt=w.append("g").attr("class","today"),I=new Date,It=mt.append("line");It.attr("x1",x(I)+H).attr("x2",x(I)+H).attr("y1",s.titleTopMargin).attr("y2",W-s.titleTopMargin).attr("class","today"),A!==""&&It.attr("style",A.replace(/,/g,";"))}function J(H){const $={},O=[];for(let W=0,A=H.length;W<A;++W)Object.prototype.hasOwnProperty.call($,H[W])||($[H[W]]=!0,O.push(H[W]));return O}function ot(H){let $=H.length;const O={};for(;$;)O[H[--$]]=(O[H[$]]||0)+1;return O}function q(H,$){return ot($)[H]||0}}};var Gy=function(){var t=function(o,l,u,f){for(u=u||{},f=o.length;f--;u[o[f]]=l);return u},e=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(l,u,f,g,_,k,w){switch(k.length-1,_){case 1:return g;case 4:break;case 6:g.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},t(e,[2,3]),t(e,[2,4]),t(e,[2,5]),t(e,[2,6])],defaultActions:{4:[2,1]},parseError:function(l,u){if(u.recoverable)this.trace(l);else{var f=new Error(l);throw f.hash=u,f}},parse:function(l){var u=this,f=[0],g=[],_=[null],k=[],w=this.table,x="",M=0,R=0,B=2,U=1,Y=k.slice.call(arguments,1),X=Object.create(this.lexer),Q={yy:{}};for(var at in this.yy)Object.prototype.hasOwnProperty.call(this.yy,at)&&(Q.yy[at]=this.yy[at]);X.setInput(l,Q.yy),Q.yy.lexer=X,Q.yy.parser=this,typeof X.yylloc>"u"&&(X.yylloc={});var lt=X.yylloc;k.push(lt);var J=X.options&&X.options.ranges;typeof Q.yy.parseError=="function"?this.parseError=Q.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ot(){var qt;return qt=g.pop()||X.lex()||U,typeof qt!="number"&&(qt instanceof Array&&(g=qt,qt=g.pop()),qt=u.symbols_[qt]||qt),qt}for(var q,H,$,O,W={},A,mt,I,It;;){if(H=f[f.length-1],this.defaultActions[H]?$=this.defaultActions[H]:((q===null||typeof q>"u")&&(q=ot()),$=w[H]&&w[H][q]),typeof $>"u"||!$.length||!$[0]){var le="";It=[];for(A in w[H])this.terminals_[A]&&A>B&&It.push("'"+this.terminals_[A]+"'");X.showPosition?le="Parse error on line "+(M+1)+`:
`+X.showPosition()+`
Expecting `+It.join(", ")+", got '"+(this.terminals_[q]||q)+"'":le="Parse error on line "+(M+1)+": Unexpected "+(q==U?"end of input":"'"+(this.terminals_[q]||q)+"'"),this.parseError(le,{text:X.match,token:this.terminals_[q]||q,line:X.yylineno,loc:lt,expected:It})}if($[0]instanceof Array&&$.length>1)throw new Error("Parse Error: multiple actions possible at state: "+H+", token: "+q);switch($[0]){case 1:f.push(q),_.push(X.yytext),k.push(X.yylloc),f.push($[1]),q=null,R=X.yyleng,x=X.yytext,M=X.yylineno,lt=X.yylloc;break;case 2:if(mt=this.productions_[$[1]][1],W.$=_[_.length-mt],W._$={first_line:k[k.length-(mt||1)].first_line,last_line:k[k.length-1].last_line,first_column:k[k.length-(mt||1)].first_column,last_column:k[k.length-1].last_column},J&&(W._$.range=[k[k.length-(mt||1)].range[0],k[k.length-1].range[1]]),O=this.performAction.apply(W,[x,R,M,Q.yy,$[1],_,k].concat(Y)),typeof O<"u")return O;mt&&(f=f.slice(0,-1*mt*2),_=_.slice(0,-1*mt),k=k.slice(0,-1*mt)),f.push(this.productions_[$[1]][0]),_.push(W.$),k.push(W._$),I=w[f[f.length-2]][f[f.length-1]],f.push(I);break;case 3:return!0}}return!0}},i=function(){var o={EOF:1,parseError:function(u,f){if(this.yy.parser)this.yy.parser.parseError(u,f);else throw new Error(u)},setInput:function(l,u){return this.yy=u||this.yy||{},this._input=l,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var u=l.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},unput:function(l){var u=l.length,f=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u),this.offset-=u;var g=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),f.length-1&&(this.yylineno-=f.length-1);var _=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:f?(f.length===g.length?this.yylloc.first_column:0)+g[g.length-f.length].length-f[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[_[0],_[0]+this.yyleng-u]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(l){this.unput(this.match.slice(l))},pastInput:function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var l=this.pastInput(),u=new Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+u+"^"},test_match:function(l,u){var f,g,_;if(this.options.backtrack_lexer&&(_={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_.yylloc.range=this.yylloc.range.slice(0))),g=l[0].match(/(?:\r\n?|\n).*/g),g&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-g[g.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+l[0].length},this.yytext+=l[0],this.match+=l[0],this.matches=l,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(l[0].length),this.matched+=l[0],f=this.performAction.call(this,this.yy,this,u,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),f)return f;if(this._backtrack){for(var k in _)this[k]=_[k];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,u,f,g;this._more||(this.yytext="",this.match="");for(var _=this._currentRules(),k=0;k<_.length;k++)if(f=this._input.match(this.rules[_[k]]),f&&(!u||f[0].length>u[0].length)){if(u=f,g=k,this.options.backtrack_lexer){if(l=this.test_match(f,_[k]),l!==!1)return l;if(this._backtrack){u=!1;continue}else return!1}else if(!this.options.flex)break}return u?(l=this.test_match(u,_[g]),l!==!1?l:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var u=this.next();return u||this.lex()},begin:function(u){this.conditionStack.push(u)},popState:function(){var u=this.conditionStack.length-1;return u>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(u){return u=this.conditionStack.length-1-Math.abs(u||0),u>=0?this.conditionStack[u]:"INITIAL"},pushState:function(u){this.begin(u)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(u,f,g,_){switch(g){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return o}();n.lexer=i;function s(){this.yy={}}return s.prototype=n,n.Parser=s,new s}();Gy.parser=Gy;const Eq=Gy;var rx="",ix=!1;const Cq={setMessage:t=>{C.debug("Setting message to: "+t),rx=t},getMessage:()=>rx,setInfo:t=>{ix=t},getInfo:()=>ix,clear:js},Sq={draw:(t,e,n)=>{try{C.debug(`Rendering info diagram
`+t);const i=ht().securityLevel;let s;i==="sandbox"&&(s=re("#i"+e));const l=re(i==="sandbox"?s.nodes()[0].contentDocument.body:"body").select("#"+e);l.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+n),l.attr("height",100),l.attr("width",400)}catch(i){C.error("Error while rendering info diagram"),C.error(i.message)}}},Aq=t=>t.match(/^\s*info/)!==null;var Xy=function(){var t=function(lt,J,ot,q){for(ot=ot||{},q=lt.length;q--;ot[lt[q]]=J);return ot},e=[1,4],n=[1,5],i=[1,6],s=[1,7],o=[1,9],l=[1,11,13,15,17,19,20,26,27,28,29],u=[2,5],f=[1,6,11,13,15,17,19,20,26,27,28,29],g=[26,27,28],_=[2,8],k=[1,18],w=[1,19],x=[1,20],M=[1,21],R=[1,22],B=[1,23],U=[1,28],Y=[6,26,27,28,29],X={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(J,ot,q,H,$,O,W){var A=O.length-1;switch($){case 4:H.setShowData(!0);break;case 7:this.$=O[A-1];break;case 9:H.addSection(O[A-1],H.cleanupValue(O[A]));break;case 10:this.$=O[A].trim(),H.setDiagramTitle(this.$);break;case 11:this.$=O[A].trim(),H.setAccTitle(this.$);break;case 12:case 13:this.$=O[A].trim(),H.setAccDescription(this.$);break;case 14:H.addSection(O[A].substr(8)),this.$=O[A].substr(8);break;case 21:H.parseDirective("%%{","open_directive");break;case 22:H.parseDirective(O[A],"type_directive");break;case 23:O[A]=O[A].trim().replace(/'/g,'"'),H.parseDirective(O[A],"arg_directive");break;case 24:H.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:e,21:8,26:n,27:i,28:s,29:o},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:n,27:i,28:s,29:o},{3:11,4:2,5:3,6:e,21:8,26:n,27:i,28:s,29:o},t(l,u,{7:12,8:[1,13]}),t(f,[2,18]),t(f,[2,19]),t(f,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(g,_,{21:8,9:16,10:17,5:24,1:[2,3],11:k,13:w,15:x,17:M,19:R,20:B,29:o}),t(l,u,{7:25}),{23:26,24:[1,27],32:U},t([24,32],[2,22]),t(l,[2,6]),{4:29,26:n,27:i,28:s},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(g,[2,13]),t(g,[2,14]),t(g,[2,15]),t(g,_,{21:8,9:16,10:17,5:24,1:[2,4],11:k,13:w,15:x,17:M,19:R,20:B,29:o}),t(Y,[2,16]),{25:34,31:[1,35]},t(Y,[2,24]),t(l,[2,7]),t(g,[2,9]),t(g,[2,10]),t(g,[2,11]),t(g,[2,12]),{23:36,32:U},{32:[2,23]},t(Y,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(J,ot){if(ot.recoverable)this.trace(J);else{var q=new Error(J);throw q.hash=ot,q}},parse:function(J){var ot=this,q=[0],H=[],$=[null],O=[],W=this.table,A="",mt=0,I=0,It=2,le=1,qt=O.slice.call(arguments,1),ut=Object.create(this.lexer),St={yy:{}};for(var bt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,bt)&&(St.yy[bt]=this.yy[bt]);ut.setInput(J,St.yy),St.yy.lexer=ut,St.yy.parser=this,typeof ut.yylloc>"u"&&(ut.yylloc={});var kt=ut.yylloc;O.push(kt);var Lt=ut.options&&ut.options.ranges;typeof St.yy.parseError=="function"?this.parseError=St.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ht(){var Nt;return Nt=H.pop()||ut.lex()||le,typeof Nt!="number"&&(Nt instanceof Array&&(H=Nt,Nt=H.pop()),Nt=ot.symbols_[Nt]||Nt),Nt}for(var pt,_e,tt,st,dt={},Z,G,z,yt;;){if(_e=q[q.length-1],this.defaultActions[_e]?tt=this.defaultActions[_e]:((pt===null||typeof pt>"u")&&(pt=Ht()),tt=W[_e]&&W[_e][pt]),typeof tt>"u"||!tt.length||!tt[0]){var P="";yt=[];for(Z in W[_e])this.terminals_[Z]&&Z>It&&yt.push("'"+this.terminals_[Z]+"'");ut.showPosition?P="Parse error on line "+(mt+1)+`:
`+ut.showPosition()+`
Expecting `+yt.join(", ")+", got '"+(this.terminals_[pt]||pt)+"'":P="Parse error on line "+(mt+1)+": Unexpected "+(pt==le?"end of input":"'"+(this.terminals_[pt]||pt)+"'"),this.parseError(P,{text:ut.match,token:this.terminals_[pt]||pt,line:ut.yylineno,loc:kt,expected:yt})}if(tt[0]instanceof Array&&tt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_e+", token: "+pt);switch(tt[0]){case 1:q.push(pt),$.push(ut.yytext),O.push(ut.yylloc),q.push(tt[1]),pt=null,I=ut.yyleng,A=ut.yytext,mt=ut.yylineno,kt=ut.yylloc;break;case 2:if(G=this.productions_[tt[1]][1],dt.$=$[$.length-G],dt._$={first_line:O[O.length-(G||1)].first_line,last_line:O[O.length-1].last_line,first_column:O[O.length-(G||1)].first_column,last_column:O[O.length-1].last_column},Lt&&(dt._$.range=[O[O.length-(G||1)].range[0],O[O.length-1].range[1]]),st=this.performAction.apply(dt,[A,I,mt,St.yy,tt[1],$,O].concat(qt)),typeof st<"u")return st;G&&(q=q.slice(0,-1*G*2),$=$.slice(0,-1*G),O=O.slice(0,-1*G)),q.push(this.productions_[tt[1]][0]),$.push(dt.$),O.push(dt._$),z=W[q[q.length-2]][q[q.length-1]],q.push(z);break;case 3:return!0}}return!0}},Q=function(){var lt={EOF:1,parseError:function(ot,q){if(this.yy.parser)this.yy.parser.parseError(ot,q);else throw new Error(ot)},setInput:function(J,ot){return this.yy=ot||this.yy||{},this._input=J,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var J=this._input[0];this.yytext+=J,this.yyleng++,this.offset++,this.match+=J,this.matched+=J;var ot=J.match(/(?:\r\n?|\n).*/g);return ot?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),J},unput:function(J){var ot=J.length,q=J.split(/(?:\r\n?|\n)/g);this._input=J+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ot),this.offset-=ot;var H=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),q.length-1&&(this.yylineno-=q.length-1);var $=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:q?(q.length===H.length?this.yylloc.first_column:0)+H[H.length-q.length].length-q[0].length:this.yylloc.first_column-ot},this.options.ranges&&(this.yylloc.range=[$[0],$[0]+this.yyleng-ot]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(J){this.unput(this.match.slice(J))},pastInput:function(){var J=this.matched.substr(0,this.matched.length-this.match.length);return(J.length>20?"...":"")+J.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var J=this.match;return J.length<20&&(J+=this._input.substr(0,20-J.length)),(J.substr(0,20)+(J.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var J=this.pastInput(),ot=new Array(J.length+1).join("-");return J+this.upcomingInput()+`
`+ot+"^"},test_match:function(J,ot){var q,H,$;if(this.options.backtrack_lexer&&($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&($.yylloc.range=this.yylloc.range.slice(0))),H=J[0].match(/(?:\r\n?|\n).*/g),H&&(this.yylineno+=H.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:H?H[H.length-1].length-H[H.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+J[0].length},this.yytext+=J[0],this.match+=J[0],this.matches=J,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(J[0].length),this.matched+=J[0],q=this.performAction.call(this,this.yy,this,ot,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),q)return q;if(this._backtrack){for(var O in $)this[O]=$[O];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var J,ot,q,H;this._more||(this.yytext="",this.match="");for(var $=this._currentRules(),O=0;O<$.length;O++)if(q=this._input.match(this.rules[$[O]]),q&&(!ot||q[0].length>ot[0].length)){if(ot=q,H=O,this.options.backtrack_lexer){if(J=this.test_match(q,$[O]),J!==!1)return J;if(this._backtrack){ot=!1;continue}else return!1}else if(!this.options.flex)break}return ot?(J=this.test_match(ot,$[H]),J!==!1?J:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ot=this.next();return ot||this.lex()},begin:function(ot){this.conditionStack.push(ot)},popState:function(){var ot=this.conditionStack.length-1;return ot>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ot){return ot=this.conditionStack.length-1-Math.abs(ot||0),ot>=0?this.conditionStack[ot]:"INITIAL"},pushState:function(ot){this.begin(ot)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(ot,q,H,$){switch(H){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return lt}();X.lexer=Q;function at(){this.yy={}}return at.prototype=X,X.Parser=at,new at}();Xy.parser=Xy;const Lq=Xy,Iq=t=>t.match(/^\s*pie/)!==null||t.match(/^\s*bar/)!==null;let Op={},Ky=!1;const Mq={parseDirective:function(t,e,n){Sr.parseDirective(this,t,e,n)},getConfig:()=>ht().pie,addSection:function(t,e){t=_n.sanitizeText(t,ht()),Op[t]===void 0&&(Op[t]=e,C.debug("Added new section :",t))},getSections:()=>Op,cleanupValue:function(t){return t.substring(0,1)===":"&&(t=t.substring(1).trim()),Number(t.trim())},clear:function(){Op={},Ky=!1,js()},setAccTitle:xs,getAccTitle:qs,setDiagramTitle:Za,getDiagramTitle:Qa,setShowData:function(t){Ky=t},getShowData:function(){return Ky},getAccDescription:Xs,setAccDescription:Gs};let uo=ht(),ho;const md=450,Nq={draw:(t,e,n,i)=>{try{uo=ht(),C.debug(`Rendering info diagram
`+t);const Y=ht().securityLevel;let X;Y==="sandbox"&&(X=re("#i"+e));const Q=re(Y==="sandbox"?X.nodes()[0].contentDocument.body:"body"),at=Y==="sandbox"?X.nodes()[0].contentDocument:document;i.db.clear(),i.parser.parse(t),C.debug("Parsed info diagram");const lt=at.getElementById(e);ho=lt.parentElement.offsetWidth,ho===void 0&&(ho=1200),uo.useWidth!==void 0&&(ho=uo.useWidth),uo.pie.useWidth!==void 0&&(ho=uo.pie.useWidth);const J=Q.select("#"+e);Ws(J,md,ho,uo.pie.useMaxWidth),lt.setAttribute("viewBox","0 0 "+ho+" "+md);var s=40,o=18,l=4,u=Math.min(ho,md)/2-s,f=J.append("g").attr("transform","translate("+ho/2+","+md/2+")"),g=i.db.getSections(),_=0;Object.keys(g).forEach(function(q){_+=g[q]});const ot=uo.themeVariables;var k=[ot.pie1,ot.pie2,ot.pie3,ot.pie4,ot.pie5,ot.pie6,ot.pie7,ot.pie8,ot.pie9,ot.pie10,ot.pie11,ot.pie12],w=Tb().range(k),x=Object.entries(g).map(function(q,H){return{order:H,name:q[0],value:q[1]}}),M=wI().value(function(q){return q.value}).sort(function(q,H){return q.order-H.order}),R=M(x),B=zg().innerRadius(0).outerRadius(u);f.selectAll("mySlices").data(R).enter().append("path").attr("d",B).attr("fill",function(q){return w(q.data.name)}).attr("class","pieCircle"),f.selectAll("mySlices").data(R).enter().append("text").text(function(q){return(q.data.value/_*100).toFixed(0)+"%"}).attr("transform",function(q){return"translate("+B.centroid(q)+")"}).style("text-anchor","middle").attr("class","slice"),f.append("text").text(i.db.getDiagramTitle()).attr("x",0).attr("y",-(md-50)/2).attr("class","pieTitleText");var U=f.selectAll(".legend").data(w.domain()).enter().append("g").attr("class","legend").attr("transform",function(q,H){const $=o+l,O=$*w.domain().length/2,W=12*o,A=H*$-O;return"translate("+W+","+A+")"});U.append("rect").attr("width",o).attr("height",o).style("fill",w).style("stroke",w),U.data(R).append("text").attr("x",o+l).attr("y",o-l).text(function(q){return i.db.getShowData()||uo.showData||uo.pie.showData?q.data.name+" ["+q.data.value+"]":q.data.name})}catch(Y){C.error("Error while rendering info diagram"),C.error(Y)}}};var Zy=function(){var t=function(_e,tt,st,dt){for(st=st||{},dt=_e.length;dt--;st[_e[dt]]=tt);return st},e=[1,3],n=[1,5],i=[1,6],s=[1,7],o=[1,8],l=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],u=[1,22],f=[2,13],g=[1,26],_=[1,27],k=[1,28],w=[1,29],x=[1,30],M=[1,31],R=[1,24],B=[1,32],U=[1,33],Y=[1,36],X=[71,72],Q=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],at=[1,56],lt=[1,57],J=[1,58],ot=[1,59],q=[1,60],H=[1,61],$=[1,62],O=[62,63],W=[1,74],A=[1,70],mt=[1,71],I=[1,72],It=[1,73],le=[1,75],qt=[1,79],ut=[1,80],St=[1,77],bt=[1,78],kt=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],Lt={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(tt,st,dt,Z,G,z,yt){var P=z.length-1;switch(G){case 6:this.$=z[P].trim(),Z.setAccTitle(this.$);break;case 7:case 8:this.$=z[P].trim(),Z.setAccDescription(this.$);break;case 9:Z.parseDirective("%%{","open_directive");break;case 10:Z.parseDirective(z[P],"type_directive");break;case 11:z[P]=z[P].trim().replace(/'/g,'"'),Z.parseDirective(z[P],"arg_directive");break;case 12:Z.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:Z.addRequirement(z[P-3],z[P-4]);break;case 20:Z.setNewReqId(z[P-2]);break;case 21:Z.setNewReqText(z[P-2]);break;case 22:Z.setNewReqRisk(z[P-2]);break;case 23:Z.setNewReqVerifyMethod(z[P-2]);break;case 26:this.$=Z.RequirementType.REQUIREMENT;break;case 27:this.$=Z.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=Z.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=Z.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=Z.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=Z.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=Z.RiskLevel.LOW_RISK;break;case 33:this.$=Z.RiskLevel.MED_RISK;break;case 34:this.$=Z.RiskLevel.HIGH_RISK;break;case 35:this.$=Z.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=Z.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=Z.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=Z.VerifyType.VERIFY_TEST;break;case 39:Z.addElement(z[P-3]);break;case 40:Z.setNewElementType(z[P-2]);break;case 41:Z.setNewElementDocRef(z[P-2]);break;case 44:Z.addRelationship(z[P-2],z[P],z[P-4]);break;case 45:Z.addRelationship(z[P-2],z[P-4],z[P]);break;case 46:this.$=Z.Relationships.CONTAINS;break;case 47:this.$=Z.Relationships.COPIES;break;case 48:this.$=Z.Relationships.DERIVES;break;case 49:this.$=Z.Relationships.SATISFIES;break;case 50:this.$=Z.Relationships.VERIFIES;break;case 51:this.$=Z.Relationships.REFINES;break;case 52:this.$=Z.Relationships.TRACES;break}},table:[{3:1,4:2,6:e,9:4,14:n,16:i,18:s,19:o},{1:[3]},{3:10,4:2,5:[1,9],6:e,9:4,14:n,16:i,18:s,19:o},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},t(l,[2,8]),{20:[2,9]},{3:16,4:2,6:e,9:4,14:n,16:i,18:s,19:o},{1:[2,2]},{4:21,5:u,7:17,8:f,9:4,14:n,16:i,18:s,19:o,23:18,24:19,25:20,26:23,32:25,40:g,41:_,42:k,43:w,44:x,45:M,53:R,71:B,72:U},{11:34,12:[1,35],22:Y},t([12,22],[2,10]),t(l,[2,6]),t(l,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:u,7:38,8:f,9:4,14:n,16:i,18:s,19:o,23:18,24:19,25:20,26:23,32:25,40:g,41:_,42:k,43:w,44:x,45:M,53:R,71:B,72:U},{4:21,5:u,7:39,8:f,9:4,14:n,16:i,18:s,19:o,23:18,24:19,25:20,26:23,32:25,40:g,41:_,42:k,43:w,44:x,45:M,53:R,71:B,72:U},{4:21,5:u,7:40,8:f,9:4,14:n,16:i,18:s,19:o,23:18,24:19,25:20,26:23,32:25,40:g,41:_,42:k,43:w,44:x,45:M,53:R,71:B,72:U},{4:21,5:u,7:41,8:f,9:4,14:n,16:i,18:s,19:o,23:18,24:19,25:20,26:23,32:25,40:g,41:_,42:k,43:w,44:x,45:M,53:R,71:B,72:U},{4:21,5:u,7:42,8:f,9:4,14:n,16:i,18:s,19:o,23:18,24:19,25:20,26:23,32:25,40:g,41:_,42:k,43:w,44:x,45:M,53:R,71:B,72:U},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},t(X,[2,26]),t(X,[2,27]),t(X,[2,28]),t(X,[2,29]),t(X,[2,30]),t(X,[2,31]),t(Q,[2,55]),t(Q,[2,56]),t(l,[2,4]),{13:51,21:[1,52]},t(l,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:at,65:lt,66:J,67:ot,68:q,69:H,70:$},{61:63,64:at,65:lt,66:J,67:ot,68:q,69:H,70:$},{11:64,22:Y},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},t(O,[2,46]),t(O,[2,47]),t(O,[2,48]),t(O,[2,49]),t(O,[2,50]),t(O,[2,51]),t(O,[2,52]),{63:[1,68]},t(l,[2,5]),{5:W,29:69,30:A,33:mt,35:I,37:It,39:le},{5:qt,39:ut,55:76,56:St,58:bt},{32:81,71:B,72:U},{32:82,71:B,72:U},t(kt,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:W,29:87,30:A,33:mt,35:I,37:It,39:le},t(kt,[2,25]),t(kt,[2,39]),{31:[1,88]},{31:[1,89]},{5:qt,39:ut,55:90,56:St,58:bt},t(kt,[2,43]),t(kt,[2,44]),t(kt,[2,45]),{32:91,71:B,72:U},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},t(kt,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},t(kt,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:W,29:116,30:A,33:mt,35:I,37:It,39:le},{5:W,29:117,30:A,33:mt,35:I,37:It,39:le},{5:W,29:118,30:A,33:mt,35:I,37:It,39:le},{5:W,29:119,30:A,33:mt,35:I,37:It,39:le},{5:qt,39:ut,55:120,56:St,58:bt},{5:qt,39:ut,55:121,56:St,58:bt},t(kt,[2,20]),t(kt,[2,21]),t(kt,[2,22]),t(kt,[2,23]),t(kt,[2,40]),t(kt,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(tt,st){if(st.recoverable)this.trace(tt);else{var dt=new Error(tt);throw dt.hash=st,dt}},parse:function(tt){var st=this,dt=[0],Z=[],G=[null],z=[],yt=this.table,P="",Nt=0,nt=0,Ee=2,vt=1,fe=z.slice.call(arguments,1),Zt=Object.create(this.lexer),Pt={yy:{}};for(var Qt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Qt)&&(Pt.yy[Qt]=this.yy[Qt]);Zt.setInput(tt,Pt.yy),Pt.yy.lexer=Zt,Pt.yy.parser=this,typeof Zt.yylloc>"u"&&(Zt.yylloc={});var Gt=Zt.yylloc;z.push(Gt);var Bt=Zt.options&&Zt.options.ranges;typeof Pt.yy.parseError=="function"?this.parseError=Pt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function xt(){var Dt;return Dt=Z.pop()||Zt.lex()||vt,typeof Dt!="number"&&(Dt instanceof Array&&(Z=Dt,Dt=Z.pop()),Dt=st.symbols_[Dt]||Dt),Dt}for(var pn,We,ze,qe,Ve={},Hn,Re,Ce,we;;){if(We=dt[dt.length-1],this.defaultActions[We]?ze=this.defaultActions[We]:((pn===null||typeof pn>"u")&&(pn=xt()),ze=yt[We]&&yt[We][pn]),typeof ze>"u"||!ze.length||!ze[0]){var Wt="";we=[];for(Hn in yt[We])this.terminals_[Hn]&&Hn>Ee&&we.push("'"+this.terminals_[Hn]+"'");Zt.showPosition?Wt="Parse error on line "+(Nt+1)+`:
`+Zt.showPosition()+`
Expecting `+we.join(", ")+", got '"+(this.terminals_[pn]||pn)+"'":Wt="Parse error on line "+(Nt+1)+": Unexpected "+(pn==vt?"end of input":"'"+(this.terminals_[pn]||pn)+"'"),this.parseError(Wt,{text:Zt.match,token:this.terminals_[pn]||pn,line:Zt.yylineno,loc:Gt,expected:we})}if(ze[0]instanceof Array&&ze.length>1)throw new Error("Parse Error: multiple actions possible at state: "+We+", token: "+pn);switch(ze[0]){case 1:dt.push(pn),G.push(Zt.yytext),z.push(Zt.yylloc),dt.push(ze[1]),pn=null,nt=Zt.yyleng,P=Zt.yytext,Nt=Zt.yylineno,Gt=Zt.yylloc;break;case 2:if(Re=this.productions_[ze[1]][1],Ve.$=G[G.length-Re],Ve._$={first_line:z[z.length-(Re||1)].first_line,last_line:z[z.length-1].last_line,first_column:z[z.length-(Re||1)].first_column,last_column:z[z.length-1].last_column},Bt&&(Ve._$.range=[z[z.length-(Re||1)].range[0],z[z.length-1].range[1]]),qe=this.performAction.apply(Ve,[P,nt,Nt,Pt.yy,ze[1],G,z].concat(fe)),typeof qe<"u")return qe;Re&&(dt=dt.slice(0,-1*Re*2),G=G.slice(0,-1*Re),z=z.slice(0,-1*Re)),dt.push(this.productions_[ze[1]][0]),G.push(Ve.$),z.push(Ve._$),Ce=yt[dt[dt.length-2]][dt[dt.length-1]],dt.push(Ce);break;case 3:return!0}}return!0}},Ht=function(){var _e={EOF:1,parseError:function(st,dt){if(this.yy.parser)this.yy.parser.parseError(st,dt);else throw new Error(st)},setInput:function(tt,st){return this.yy=st||this.yy||{},this._input=tt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var tt=this._input[0];this.yytext+=tt,this.yyleng++,this.offset++,this.match+=tt,this.matched+=tt;var st=tt.match(/(?:\r\n?|\n).*/g);return st?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),tt},unput:function(tt){var st=tt.length,dt=tt.split(/(?:\r\n?|\n)/g);this._input=tt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-st),this.offset-=st;var Z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),dt.length-1&&(this.yylineno-=dt.length-1);var G=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:dt?(dt.length===Z.length?this.yylloc.first_column:0)+Z[Z.length-dt.length].length-dt[0].length:this.yylloc.first_column-st},this.options.ranges&&(this.yylloc.range=[G[0],G[0]+this.yyleng-st]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(tt){this.unput(this.match.slice(tt))},pastInput:function(){var tt=this.matched.substr(0,this.matched.length-this.match.length);return(tt.length>20?"...":"")+tt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var tt=this.match;return tt.length<20&&(tt+=this._input.substr(0,20-tt.length)),(tt.substr(0,20)+(tt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var tt=this.pastInput(),st=new Array(tt.length+1).join("-");return tt+this.upcomingInput()+`
`+st+"^"},test_match:function(tt,st){var dt,Z,G;if(this.options.backtrack_lexer&&(G={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(G.yylloc.range=this.yylloc.range.slice(0))),Z=tt[0].match(/(?:\r\n?|\n).*/g),Z&&(this.yylineno+=Z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Z?Z[Z.length-1].length-Z[Z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+tt[0].length},this.yytext+=tt[0],this.match+=tt[0],this.matches=tt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(tt[0].length),this.matched+=tt[0],dt=this.performAction.call(this,this.yy,this,st,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),dt)return dt;if(this._backtrack){for(var z in G)this[z]=G[z];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var tt,st,dt,Z;this._more||(this.yytext="",this.match="");for(var G=this._currentRules(),z=0;z<G.length;z++)if(dt=this._input.match(this.rules[G[z]]),dt&&(!st||dt[0].length>st[0].length)){if(st=dt,Z=z,this.options.backtrack_lexer){if(tt=this.test_match(dt,G[z]),tt!==!1)return tt;if(this._backtrack){st=!1;continue}else return!1}else if(!this.options.flex)break}return st?(tt=this.test_match(st,G[Z]),tt!==!1?tt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var st=this.next();return st||this.lex()},begin:function(st){this.conditionStack.push(st)},popState:function(){var st=this.conditionStack.length-1;return st>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(st){return st=this.conditionStack.length-1-Math.abs(st||0),st>=0?this.conditionStack[st]:"INITIAL"},pushState:function(st){this.begin(st)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(st,dt,Z,G){switch(Z){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return dt.yytext=dt.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return _e}();Lt.lexer=Ht;function pt(){this.yy={}}return pt.prototype=Lt,Lt.Parser=pt,new pt}();Zy.parser=Zy;const Oq=Zy,Dq=t=>t.match(/^\s*requirement(Diagram)?/)!==null;let Qy=[],Zi={},yd={},Xo={},_d={};const Rq={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(t,e,n){Sr.parseDirective(this,t,e,n)},getConfig:()=>ht().req,addRequirement:(t,e)=>(yd[t]===void 0&&(yd[t]={name:t,type:e,id:Zi.id,text:Zi.text,risk:Zi.risk,verifyMethod:Zi.verifyMethod}),Zi={},yd[t]),getRequirements:()=>yd,setNewReqId:t=>{Zi!==void 0&&(Zi.id=t)},setNewReqText:t=>{Zi!==void 0&&(Zi.text=t)},setNewReqRisk:t=>{Zi!==void 0&&(Zi.risk=t)},setNewReqVerifyMethod:t=>{Zi!==void 0&&(Zi.verifyMethod=t)},setAccTitle:xs,getAccTitle:qs,setAccDescription:Gs,getAccDescription:Xs,addElement:t=>(_d[t]===void 0&&(_d[t]={name:t,type:Xo.type,docRef:Xo.docRef},C.info("Added new requirement: ",t)),Xo={},_d[t]),getElements:()=>_d,setNewElementType:t=>{Xo!==void 0&&(Xo.type=t)},setNewElementDocRef:t=>{Xo!==void 0&&(Xo.docRef=t)},addRelationship:(t,e,n)=>{Qy.push({type:t,src:e,dst:n})},getRelationships:()=>Qy,clear:()=>{Qy=[],Zi={},yd={},Xo={},_d={},js()}},Jy={CONTAINS:"contains",ARROW:"arrow"},sx={ReqMarkers:Jy,insertLineEndings:(t,e)=>{let n=t.append("defs").append("marker").attr("id",Jy.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",Jy.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${e.line_height},${e.line_height/2}
      M${e.line_height},${e.line_height/2}
      L0,${e.line_height}`).attr("stroke-width",1)}};let Dr={},ax=0;const ox=(t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Dr.rect_min_width+"px").attr("height",Dr.rect_min_height+"px"),lx=(t,e,n)=>{let i=Dr.rect_min_width/2,s=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",i).attr("y",Dr.rect_padding).attr("dominant-baseline","hanging"),o=0;n.forEach(g=>{o==0?s.append("tspan").attr("text-anchor","middle").attr("x",Dr.rect_min_width/2).attr("dy",0).text(g):s.append("tspan").attr("text-anchor","middle").attr("x",Dr.rect_min_width/2).attr("dy",Dr.line_height*.75).text(g),o++});let l=1.5*Dr.rect_padding,u=o*Dr.line_height*.75,f=l+u;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Dr.rect_min_width).attr("y1",f).attr("y2",f),{titleNode:s,y:f}},cx=(t,e,n,i)=>{let s=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",Dr.rect_padding).attr("y",i).attr("dominant-baseline","hanging"),o=0;const l=30;let u=[];return n.forEach(f=>{let g=f.length;for(;g>l&&o<3;){let _=f.substring(0,l);f=f.substring(l,f.length),g=f.length,u[u.length]=_,o++}if(o==3){let _=u[u.length-1];u[u.length-1]=_.substring(0,_.length-4)+"..."}else u[u.length]=f;o=0}),u.forEach(f=>{s.append("tspan").attr("x",Dr.rect_padding).attr("dy",Dr.line_height).text(f)}),s},Bq=(t,e,n,i)=>{const s=e.node().getTotalLength(),o=e.node().getPointAtLength(s*.5),l="rel"+ax;ax++;const f=t.append("text").attr("class","req relationshipLabel").attr("id",l).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(i).node().getBBox();t.insert("rect","#"+l).attr("class","req reqLabelBox").attr("x",o.x-f.width/2).attr("y",o.y-f.height/2).attr("width",f.width).attr("height",f.height).attr("fill","white").attr("fill-opacity","85%")},Pq=function(t,e,n,i,s){const o=n.edge(Ou(e.src),Ou(e.dst)),l=eu().x(function(f){return f.x}).y(function(f){return f.y}),u=t.insert("path","#"+i).attr("class","er relationshipLine").attr("d",l(o.points)).attr("fill","none");e.type==s.db.Relationships.CONTAINS?u.attr("marker-start","url("+_n.getUrl(Dr.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(u.attr("stroke-dasharray","10,7"),u.attr("marker-end","url("+_n.getUrl(Dr.arrowMarkerAbsolute)+"#"+sx.ReqMarkers.ARROW+"_line_ending)")),Bq(t,u,Dr,`<<${e.type}>>`)},Fq=(t,e,n)=>{Object.keys(t).forEach(i=>{let s=t[i];i=Ou(i),C.info("Added new requirement: ",i);const o=n.append("g").attr("id",i),l="req-"+i,u=ox(o,l);let f=lx(o,i+"_title",[`<<${s.type}>>`,`${s.name}`]);cx(o,i+"_body",[`Id: ${s.id}`,`Text: ${s.text}`,`Risk: ${s.risk}`,`Verification: ${s.verifyMethod}`],f.y);const g=u.node().getBBox();e.setNode(i,{width:g.width,height:g.height,shape:"rect",id:i})})},Vq=(t,e,n)=>{Object.keys(t).forEach(i=>{let s=t[i];const o=Ou(i),l=n.append("g").attr("id",o),u="element-"+o,f=ox(l,u);let g=lx(l,u+"_title",["<<Element>>",`${i}`]);cx(l,u+"_body",[`Type: ${s.type||"Not Specified"}`,`Doc Ref: ${s.docRef||"None"}`],g.y);const _=f.node().getBBox();e.setNode(o,{width:_.width,height:_.height,shape:"rect",id:o})})},Yq=(t,e)=>(t.forEach(function(n){let i=Ou(n.src),s=Ou(n.dst);e.setEdge(i,s,{relationship:n})}),t),$q=function(t,e){e.nodes().forEach(function(n){n!==void 0&&e.node(n)!==void 0&&(t.select("#"+n),t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )"))})},Ou=t=>t.replace(/\s/g,"").replace(/\./g,"_"),Uq={draw:(t,e,n,i)=>{Dr=ht().requirement,i.db.clear(),i.parser.parse(t);const s=Dr.securityLevel;let o;s==="sandbox"&&(o=re("#i"+e));const u=re(s==="sandbox"?o.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);sx.insertLineEndings(u,Dr);const f=new qr({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Dr.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let g=i.db.getRequirements(),_=i.db.getElements(),k=i.db.getRelationships();Fq(g,f,u),Vq(_,f,u),Yq(k,f),Su(f),$q(u,f),k.forEach(function(B){Pq(u,B,f,e,i)});const w=Dr.rect_padding,x=u.node().getBBox(),M=x.width+w*2,R=x.height+w*2;Ws(u,R,M,Dr.useMaxWidth),u.attr("viewBox",`${x.x-w} ${x.y-w} ${M} ${R}`)}};var t2=function(){var t=function(_e,tt,st,dt){for(st=st||{},dt=_e.length;dt--;st[_e[dt]]=tt);return st},e=[1,2],n=[1,3],i=[1,5],s=[1,7],o=[2,5],l=[1,15],u=[1,17],f=[1,18],g=[1,19],_=[1,21],k=[1,22],w=[1,23],x=[1,29],M=[1,30],R=[1,31],B=[1,32],U=[1,33],Y=[1,34],X=[1,35],Q=[1,36],at=[1,37],lt=[1,38],J=[1,39],ot=[1,40],q=[1,43],H=[1,44],$=[1,45],O=[1,46],W=[1,47],A=[1,48],mt=[1,51],I=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],It=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],le=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],qt=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],ut=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],St=[67,68,69],bt=[1,121],kt=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],Lt={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(tt,st,dt,Z,G,z,yt){var P=z.length-1;switch(G){case 4:return Z.apply(z[P]),z[P];case 5:this.$=[];break;case 6:z[P-1].push(z[P]),this.$=z[P-1];break;case 7:case 8:this.$=z[P];break;case 9:this.$=[];break;case 12:z[P-3].type="addParticipant",z[P-3].description=Z.parseMessage(z[P-1]),this.$=z[P-3];break;case 13:z[P-1].type="addParticipant",this.$=z[P-1];break;case 14:z[P-3].type="addActor",z[P-3].description=Z.parseMessage(z[P-1]),this.$=z[P-3];break;case 15:z[P-1].type="addActor",this.$=z[P-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(z[P-2]),sequenceIndexStep:Number(z[P-1]),sequenceVisible:!0,signalType:Z.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(z[P-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:Z.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:Z.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:Z.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:Z.LINETYPE.ACTIVE_START,actor:z[P-1]};break;case 22:this.$={type:"activeEnd",signalType:Z.LINETYPE.ACTIVE_END,actor:z[P-1]};break;case 28:Z.setDiagramTitle(z[P].substring(6)),this.$=z[P].substring(6);break;case 29:Z.setDiagramTitle(z[P].substring(7)),this.$=z[P].substring(7);break;case 30:this.$=z[P].trim(),Z.setAccTitle(this.$);break;case 31:case 32:this.$=z[P].trim(),Z.setAccDescription(this.$);break;case 33:z[P-1].unshift({type:"loopStart",loopText:Z.parseMessage(z[P-2]),signalType:Z.LINETYPE.LOOP_START}),z[P-1].push({type:"loopEnd",loopText:z[P-2],signalType:Z.LINETYPE.LOOP_END}),this.$=z[P-1];break;case 34:z[P-1].unshift({type:"rectStart",color:Z.parseMessage(z[P-2]),signalType:Z.LINETYPE.RECT_START}),z[P-1].push({type:"rectEnd",color:Z.parseMessage(z[P-2]),signalType:Z.LINETYPE.RECT_END}),this.$=z[P-1];break;case 35:z[P-1].unshift({type:"optStart",optText:Z.parseMessage(z[P-2]),signalType:Z.LINETYPE.OPT_START}),z[P-1].push({type:"optEnd",optText:Z.parseMessage(z[P-2]),signalType:Z.LINETYPE.OPT_END}),this.$=z[P-1];break;case 36:z[P-1].unshift({type:"altStart",altText:Z.parseMessage(z[P-2]),signalType:Z.LINETYPE.ALT_START}),z[P-1].push({type:"altEnd",signalType:Z.LINETYPE.ALT_END}),this.$=z[P-1];break;case 37:z[P-1].unshift({type:"parStart",parText:Z.parseMessage(z[P-2]),signalType:Z.LINETYPE.PAR_START}),z[P-1].push({type:"parEnd",signalType:Z.LINETYPE.PAR_END}),this.$=z[P-1];break;case 38:z[P-1].unshift({type:"criticalStart",criticalText:Z.parseMessage(z[P-2]),signalType:Z.LINETYPE.CRITICAL_START}),z[P-1].push({type:"criticalEnd",signalType:Z.LINETYPE.CRITICAL_END}),this.$=z[P-1];break;case 39:z[P-1].unshift({type:"breakStart",breakText:Z.parseMessage(z[P-2]),signalType:Z.LINETYPE.BREAK_START}),z[P-1].push({type:"breakEnd",optText:Z.parseMessage(z[P-2]),signalType:Z.LINETYPE.BREAK_END}),this.$=z[P-1];break;case 42:this.$=z[P-3].concat([{type:"option",optionText:Z.parseMessage(z[P-1]),signalType:Z.LINETYPE.CRITICAL_OPTION},z[P]]);break;case 44:this.$=z[P-3].concat([{type:"and",parText:Z.parseMessage(z[P-1]),signalType:Z.LINETYPE.PAR_AND},z[P]]);break;case 46:this.$=z[P-3].concat([{type:"else",altText:Z.parseMessage(z[P-1]),signalType:Z.LINETYPE.ALT_ELSE},z[P]]);break;case 47:this.$=[z[P-1],{type:"addNote",placement:z[P-2],actor:z[P-1].actor,text:z[P]}];break;case 48:z[P-2]=[].concat(z[P-1],z[P-1]).slice(0,2),z[P-2][0]=z[P-2][0].actor,z[P-2][1]=z[P-2][1].actor,this.$=[z[P-1],{type:"addNote",placement:Z.PLACEMENT.OVER,actor:z[P-2].slice(0,2),text:z[P]}];break;case 49:this.$=[z[P-1],{type:"addLinks",actor:z[P-1].actor,text:z[P]}];break;case 50:this.$=[z[P-1],{type:"addALink",actor:z[P-1].actor,text:z[P]}];break;case 51:this.$=[z[P-1],{type:"addProperties",actor:z[P-1].actor,text:z[P]}];break;case 52:this.$=[z[P-1],{type:"addDetails",actor:z[P-1].actor,text:z[P]}];break;case 55:this.$=[z[P-2],z[P]];break;case 56:this.$=z[P];break;case 57:this.$=Z.PLACEMENT.LEFTOF;break;case 58:this.$=Z.PLACEMENT.RIGHTOF;break;case 59:this.$=[z[P-4],z[P-1],{type:"addMessage",from:z[P-4].actor,to:z[P-1].actor,signalType:z[P-3],msg:z[P]},{type:"activeStart",signalType:Z.LINETYPE.ACTIVE_START,actor:z[P-1]}];break;case 60:this.$=[z[P-4],z[P-1],{type:"addMessage",from:z[P-4].actor,to:z[P-1].actor,signalType:z[P-3],msg:z[P]},{type:"activeEnd",signalType:Z.LINETYPE.ACTIVE_END,actor:z[P-4]}];break;case 61:this.$=[z[P-3],z[P-1],{type:"addMessage",from:z[P-3].actor,to:z[P-1].actor,signalType:z[P-2],msg:z[P]}];break;case 62:this.$={type:"addParticipant",actor:z[P]};break;case 63:this.$=Z.LINETYPE.SOLID_OPEN;break;case 64:this.$=Z.LINETYPE.DOTTED_OPEN;break;case 65:this.$=Z.LINETYPE.SOLID;break;case 66:this.$=Z.LINETYPE.DOTTED;break;case 67:this.$=Z.LINETYPE.SOLID_CROSS;break;case 68:this.$=Z.LINETYPE.DOTTED_CROSS;break;case 69:this.$=Z.LINETYPE.SOLID_POINT;break;case 70:this.$=Z.LINETYPE.DOTTED_POINT;break;case 71:this.$=Z.parseMessage(z[P].trim().substring(1));break;case 72:Z.parseDirective("%%{","open_directive");break;case 73:Z.parseDirective(z[P],"type_directive");break;case 74:z[P]=z[P].trim().replace(/'/g,'"'),Z.parseDirective(z[P],"arg_directive");break;case 75:Z.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:e,5:n,6:4,7:i,11:6,79:s},{1:[3]},{3:8,4:e,5:n,6:4,7:i,11:6,79:s},{3:9,4:e,5:n,6:4,7:i,11:6,79:s},{3:10,4:e,5:n,6:4,7:i,11:6,79:s},t([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],o,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:l,5:u,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:_,25:k,26:w,27:24,28:25,29:26,30:27,31:28,32:x,33:M,34:R,36:B,38:U,39:Y,41:X,42:Q,43:at,45:lt,47:J,49:ot,53:q,58:H,59:$,60:O,61:W,69:A,79:s},{13:49,14:[1,50],82:mt},t([14,82],[2,73]),t(I,[2,6]),{6:41,10:52,11:6,16:f,17:42,20:g,21:20,22:_,25:k,26:w,27:24,28:25,29:26,30:27,31:28,32:x,33:M,34:R,36:B,38:U,39:Y,41:X,42:Q,43:at,45:lt,47:J,49:ot,53:q,58:H,59:$,60:O,61:W,69:A,79:s},t(I,[2,8]),t(I,[2,9]),{17:53,69:A},{17:54,69:A},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:A},{17:60,69:A},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},t(I,[2,28]),t(I,[2,29]),{35:[1,66]},{37:[1,67]},t(I,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},t(I,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:A},{17:89,69:A},{17:90,69:A},{17:91,69:A},t([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},t(I,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},t(I,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},t(I,[2,20]),{5:[1,102]},{5:[1,103]},t(I,[2,23]),t(I,[2,24]),t(I,[2,25]),t(I,[2,26]),t(I,[2,27]),t(I,[2,30]),t(I,[2,31]),t(It,o,{8:104}),t(It,o,{8:105}),t(It,o,{8:106}),t(le,o,{44:107,8:108}),t(qt,o,{46:109,8:110}),t(ut,o,{48:111,8:112}),t(It,o,{8:113}),{17:116,67:[1,114],68:[1,115],69:A},t(St,[2,63]),t(St,[2,64]),t(St,[2,65]),t(St,[2,66]),t(St,[2,67]),t(St,[2,68]),t(St,[2,69]),t(St,[2,70]),{17:117,69:A},{17:119,57:118,69:A},{69:[2,57]},{69:[2,58]},{55:120,78:bt},{55:122,78:bt},{55:123,78:bt},{55:124,78:bt},t(kt,[2,10]),{13:125,82:mt},{82:[2,74]},{19:[1,126]},t(I,[2,13]),{19:[1,127]},t(I,[2,15]),{5:[1,128]},t(I,[2,18]),t(I,[2,19]),t(I,[2,21]),t(I,[2,22]),{4:l,5:u,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:_,25:k,26:w,27:24,28:25,29:26,30:27,31:28,32:x,33:M,34:R,36:B,38:U,39:Y,40:[1,129],41:X,42:Q,43:at,45:lt,47:J,49:ot,53:q,58:H,59:$,60:O,61:W,69:A,79:s},{4:l,5:u,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:_,25:k,26:w,27:24,28:25,29:26,30:27,31:28,32:x,33:M,34:R,36:B,38:U,39:Y,40:[1,130],41:X,42:Q,43:at,45:lt,47:J,49:ot,53:q,58:H,59:$,60:O,61:W,69:A,79:s},{4:l,5:u,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:_,25:k,26:w,27:24,28:25,29:26,30:27,31:28,32:x,33:M,34:R,36:B,38:U,39:Y,40:[1,131],41:X,42:Q,43:at,45:lt,47:J,49:ot,53:q,58:H,59:$,60:O,61:W,69:A,79:s},{40:[1,132]},{4:l,5:u,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:_,25:k,26:w,27:24,28:25,29:26,30:27,31:28,32:x,33:M,34:R,36:B,38:U,39:Y,40:[2,45],41:X,42:Q,43:at,45:lt,47:J,49:ot,52:[1,133],53:q,58:H,59:$,60:O,61:W,69:A,79:s},{40:[1,134]},{4:l,5:u,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:_,25:k,26:w,27:24,28:25,29:26,30:27,31:28,32:x,33:M,34:R,36:B,38:U,39:Y,40:[2,43],41:X,42:Q,43:at,45:lt,47:J,49:ot,51:[1,135],53:q,58:H,59:$,60:O,61:W,69:A,79:s},{40:[1,136]},{4:l,5:u,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:_,25:k,26:w,27:24,28:25,29:26,30:27,31:28,32:x,33:M,34:R,36:B,38:U,39:Y,40:[2,41],41:X,42:Q,43:at,45:lt,47:J,49:ot,50:[1,137],53:q,58:H,59:$,60:O,61:W,69:A,79:s},{4:l,5:u,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:_,25:k,26:w,27:24,28:25,29:26,30:27,31:28,32:x,33:M,34:R,36:B,38:U,39:Y,40:[1,138],41:X,42:Q,43:at,45:lt,47:J,49:ot,53:q,58:H,59:$,60:O,61:W,69:A,79:s},{17:139,69:A},{17:140,69:A},{55:141,78:bt},{55:142,78:bt},{55:143,78:bt},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},t(I,[2,17]),t(I,[2,33]),t(I,[2,34]),t(I,[2,35]),t(I,[2,36]),{19:[1,148]},t(I,[2,37]),{19:[1,149]},t(I,[2,38]),{19:[1,150]},t(I,[2,39]),{55:151,78:bt},{55:152,78:bt},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:A},t(kt,[2,11]),t(I,[2,12]),t(I,[2,14]),t(le,o,{8:108,44:154}),t(qt,o,{8:110,46:155}),t(ut,o,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(tt,st){if(st.recoverable)this.trace(tt);else{var dt=new Error(tt);throw dt.hash=st,dt}},parse:function(tt){var st=this,dt=[0],Z=[],G=[null],z=[],yt=this.table,P="",Nt=0,nt=0,Ee=2,vt=1,fe=z.slice.call(arguments,1),Zt=Object.create(this.lexer),Pt={yy:{}};for(var Qt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Qt)&&(Pt.yy[Qt]=this.yy[Qt]);Zt.setInput(tt,Pt.yy),Pt.yy.lexer=Zt,Pt.yy.parser=this,typeof Zt.yylloc>"u"&&(Zt.yylloc={});var Gt=Zt.yylloc;z.push(Gt);var Bt=Zt.options&&Zt.options.ranges;typeof Pt.yy.parseError=="function"?this.parseError=Pt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function xt(){var Dt;return Dt=Z.pop()||Zt.lex()||vt,typeof Dt!="number"&&(Dt instanceof Array&&(Z=Dt,Dt=Z.pop()),Dt=st.symbols_[Dt]||Dt),Dt}for(var pn,We,ze,qe,Ve={},Hn,Re,Ce,we;;){if(We=dt[dt.length-1],this.defaultActions[We]?ze=this.defaultActions[We]:((pn===null||typeof pn>"u")&&(pn=xt()),ze=yt[We]&&yt[We][pn]),typeof ze>"u"||!ze.length||!ze[0]){var Wt="";we=[];for(Hn in yt[We])this.terminals_[Hn]&&Hn>Ee&&we.push("'"+this.terminals_[Hn]+"'");Zt.showPosition?Wt="Parse error on line "+(Nt+1)+`:
`+Zt.showPosition()+`
Expecting `+we.join(", ")+", got '"+(this.terminals_[pn]||pn)+"'":Wt="Parse error on line "+(Nt+1)+": Unexpected "+(pn==vt?"end of input":"'"+(this.terminals_[pn]||pn)+"'"),this.parseError(Wt,{text:Zt.match,token:this.terminals_[pn]||pn,line:Zt.yylineno,loc:Gt,expected:we})}if(ze[0]instanceof Array&&ze.length>1)throw new Error("Parse Error: multiple actions possible at state: "+We+", token: "+pn);switch(ze[0]){case 1:dt.push(pn),G.push(Zt.yytext),z.push(Zt.yylloc),dt.push(ze[1]),pn=null,nt=Zt.yyleng,P=Zt.yytext,Nt=Zt.yylineno,Gt=Zt.yylloc;break;case 2:if(Re=this.productions_[ze[1]][1],Ve.$=G[G.length-Re],Ve._$={first_line:z[z.length-(Re||1)].first_line,last_line:z[z.length-1].last_line,first_column:z[z.length-(Re||1)].first_column,last_column:z[z.length-1].last_column},Bt&&(Ve._$.range=[z[z.length-(Re||1)].range[0],z[z.length-1].range[1]]),qe=this.performAction.apply(Ve,[P,nt,Nt,Pt.yy,ze[1],G,z].concat(fe)),typeof qe<"u")return qe;Re&&(dt=dt.slice(0,-1*Re*2),G=G.slice(0,-1*Re),z=z.slice(0,-1*Re)),dt.push(this.productions_[ze[1]][0]),G.push(Ve.$),z.push(Ve._$),Ce=yt[dt[dt.length-2]][dt[dt.length-1]],dt.push(Ce);break;case 3:return!0}}return!0}},Ht=function(){var _e={EOF:1,parseError:function(st,dt){if(this.yy.parser)this.yy.parser.parseError(st,dt);else throw new Error(st)},setInput:function(tt,st){return this.yy=st||this.yy||{},this._input=tt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var tt=this._input[0];this.yytext+=tt,this.yyleng++,this.offset++,this.match+=tt,this.matched+=tt;var st=tt.match(/(?:\r\n?|\n).*/g);return st?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),tt},unput:function(tt){var st=tt.length,dt=tt.split(/(?:\r\n?|\n)/g);this._input=tt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-st),this.offset-=st;var Z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),dt.length-1&&(this.yylineno-=dt.length-1);var G=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:dt?(dt.length===Z.length?this.yylloc.first_column:0)+Z[Z.length-dt.length].length-dt[0].length:this.yylloc.first_column-st},this.options.ranges&&(this.yylloc.range=[G[0],G[0]+this.yyleng-st]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(tt){this.unput(this.match.slice(tt))},pastInput:function(){var tt=this.matched.substr(0,this.matched.length-this.match.length);return(tt.length>20?"...":"")+tt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var tt=this.match;return tt.length<20&&(tt+=this._input.substr(0,20-tt.length)),(tt.substr(0,20)+(tt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var tt=this.pastInput(),st=new Array(tt.length+1).join("-");return tt+this.upcomingInput()+`
`+st+"^"},test_match:function(tt,st){var dt,Z,G;if(this.options.backtrack_lexer&&(G={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(G.yylloc.range=this.yylloc.range.slice(0))),Z=tt[0].match(/(?:\r\n?|\n).*/g),Z&&(this.yylineno+=Z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Z?Z[Z.length-1].length-Z[Z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+tt[0].length},this.yytext+=tt[0],this.match+=tt[0],this.matches=tt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(tt[0].length),this.matched+=tt[0],dt=this.performAction.call(this,this.yy,this,st,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),dt)return dt;if(this._backtrack){for(var z in G)this[z]=G[z];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var tt,st,dt,Z;this._more||(this.yytext="",this.match="");for(var G=this._currentRules(),z=0;z<G.length;z++)if(dt=this._input.match(this.rules[G[z]]),dt&&(!st||dt[0].length>st[0].length)){if(st=dt,Z=z,this.options.backtrack_lexer){if(tt=this.test_match(dt,G[z]),tt!==!1)return tt;if(this._backtrack){st=!1;continue}else return!1}else if(!this.options.flex)break}return st?(tt=this.test_match(st,G[Z]),tt!==!1?tt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var st=this.next();return st||this.lex()},begin:function(st){this.conditionStack.push(st)},popState:function(){var st=this.conditionStack.length-1;return st>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(st){return st=this.conditionStack.length-1-Math.abs(st||0),st>=0?this.conditionStack[st]:"INITIAL"},pushState:function(st){this.begin(st)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(st,dt,Z,G){switch(Z){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return dt.yytext=dt.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 52:return 5;case 53:return dt.yytext=dt.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 65:return 5;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};return _e}();Lt.lexer=Ht;function pt(){this.yy={}}return pt.prototype=Lt,Lt.Parser=pt,new pt}();t2.parser=t2;const zq=t2,Hq=t=>t.match(/^\s*sequenceDiagram/)!==null;let vd,Ko={},na=[],Dp=!1,e2;const Wq=function(t,e,n){Sr.parseDirective(this,t,e,n)},n2=function(t,e,n,i){const s=Ko[t];s&&e===s.name&&n==null||((n==null||n.text==null)&&(n={text:e,wrap:null,type:i}),(i==null||n.text==null)&&(n={text:e,wrap:null,type:i}),Ko[t]={name:e,description:n.text,wrap:n.wrap===void 0&&Du()||!!n.wrap,prevActor:vd,links:{},properties:{},actorCnt:null,rectData:null,type:i||"participant"},vd&&Ko[vd]&&(Ko[vd].nextActor=t),vd=t)},jq=t=>{let e,n=0;for(e=0;e<na.length;e++)na[e].type===kd.ACTIVE_START&&na[e].from.actor===t&&n++,na[e].type===kd.ACTIVE_END&&na[e].from.actor===t&&n--;return n},qq=function(t,e,n,i){na.push({from:t,to:e,message:n.text,wrap:n.wrap===void 0&&Du()||!!n.wrap,answer:i})},$r=function(t,e,n={text:void 0,wrap:void 0},i){if(i===kd.ACTIVE_END&&jq(t.actor)<1){let o=new Error("Trying to inactivate an inactive participant ("+t.actor+")");throw o.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},o}return na.push({from:t,to:e,message:n.text,wrap:n.wrap===void 0&&Du()||!!n.wrap,type:i}),!0},Gq=function(){return na},Xq=function(){return Ko},bd=function(t){return Ko[t]},Kq=function(){return Object.keys(Ko)},Zq=function(){Dp=!0},Qq=function(){Dp=!1},Jq=()=>Dp,tG=function(t){e2=t},Du=()=>e2!==void 0?e2:ht().sequence.wrap,eG=function(){Ko={},na=[],Dp=!1,js()},nG=function(t){const e=t.trim(),n={text:e.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:e.match(/^:?wrap:/)!==null?!0:e.match(/^:?nowrap:/)!==null?!1:void 0};return C.debug("parseMessage:",n),n},kd={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},rG={FILLED:0,OPEN:1},iG={LEFTOF:0,RIGHTOF:1,OVER:2},ux=function(t,e,n){n.text,n.wrap===void 0&&Du()||n.wrap;const i=[].concat(t,t);na.push({from:i[0],to:i[1],message:n.text,wrap:n.wrap===void 0&&Du()||!!n.wrap,type:kd.NOTE,placement:e})},hx=function(t,e){const n=bd(t);try{let i=$s(e.text,ht());i=i.replace(/&amp;/g,"&"),i=i.replace(/&equals;/g,"=");const s=JSON.parse(i);r2(n,s)}catch(i){C.error("error while parsing actor link text",i)}},sG=function(t,e){const n=bd(t);try{const l={};let u=$s(e.text,ht());var i=u.indexOf("@");u=u.replace(/&amp;/g,"&"),u=u.replace(/&equals;/g,"=");var s=u.slice(0,i-1).trim(),o=u.slice(i+1).trim();l[s]=o,r2(n,l)}catch(l){C.error("error while parsing actor link text",l)}};function r2(t,e){if(t.links==null)t.links=e;else for(let n in e)t.links[n]=e[n]}const dx=function(t,e){const n=bd(t);try{let i=$s(e.text,ht());const s=JSON.parse(i);fx(n,s)}catch(i){C.error("error while parsing actor properties text",i)}};function fx(t,e){if(t.properties==null)t.properties=e;else for(let n in e)t.properties[n]=e[n]}const px=function(t,e){const n=bd(t),i=document.getElementById(e.text);try{const s=i.innerHTML,o=JSON.parse(s);o.properties&&fx(n,o.properties),o.links&&r2(n,o.links)}catch(s){C.error("error while parsing actor details text",s)}},aG=function(t,e){if(t!==void 0&&t.properties!==void 0)return t.properties[e]},gx=function(t){if(Array.isArray(t))t.forEach(function(e){gx(e)});else switch(t.type){case"sequenceIndex":na.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":n2(t.actor,t.actor,t.description,"participant");break;case"addActor":n2(t.actor,t.actor,t.description,"actor");break;case"activeStart":$r(t.actor,void 0,void 0,t.signalType);break;case"activeEnd":$r(t.actor,void 0,void 0,t.signalType);break;case"addNote":ux(t.actor,t.placement,t.text);break;case"addLinks":hx(t.actor,t.text);break;case"addALink":sG(t.actor,t.text);break;case"addProperties":dx(t.actor,t.text);break;case"addDetails":px(t.actor,t.text);break;case"addMessage":$r(t.from,t.to,t.msg,t.signalType);break;case"loopStart":$r(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":$r(void 0,void 0,void 0,t.signalType);break;case"rectStart":$r(void 0,void 0,t.color,t.signalType);break;case"rectEnd":$r(void 0,void 0,void 0,t.signalType);break;case"optStart":$r(void 0,void 0,t.optText,t.signalType);break;case"optEnd":$r(void 0,void 0,void 0,t.signalType);break;case"altStart":$r(void 0,void 0,t.altText,t.signalType);break;case"else":$r(void 0,void 0,t.altText,t.signalType);break;case"altEnd":$r(void 0,void 0,void 0,t.signalType);break;case"setAccTitle":xs(t.text);break;case"parStart":$r(void 0,void 0,t.parText,t.signalType);break;case"and":$r(void 0,void 0,t.parText,t.signalType);break;case"parEnd":$r(void 0,void 0,void 0,t.signalType);break;case"criticalStart":$r(void 0,void 0,t.criticalText,t.signalType);break;case"option":$r(void 0,void 0,t.optionText,t.signalType);break;case"criticalEnd":$r(void 0,void 0,void 0,t.signalType);break;case"breakStart":$r(void 0,void 0,t.breakText,t.signalType);break;case"breakEnd":$r(void 0,void 0,void 0,t.signalType);break}},mx={addActor:n2,addMessage:qq,addSignal:$r,addLinks:hx,addDetails:px,addProperties:dx,autoWrap:Du,setWrap:tG,enableSequenceNumbers:Zq,disableSequenceNumbers:Qq,showSequenceNumbers:Jq,getMessages:Gq,getActors:Xq,getActor:bd,getActorKeys:Kq,getActorProperty:aG,getAccTitle:qs,getDiagramTitle:Qa,setDiagramTitle:Za,parseDirective:Wq,getConfig:()=>ht().sequence,clear:eG,parseMessage:nG,LINETYPE:kd,ARROWTYPE:rG,PLACEMENT:iG,addNote:ux,setAccTitle:xs,apply:gx,setAccDescription:Gs,getAccDescription:Xs};let i2=[];const oG=t=>{i2.push(t)},yx=()=>{i2.forEach(t=>{t()}),i2=[]},Rp=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.class!==void 0&&n.attr("class",e.class),n},_x=(t,e)=>{oG(()=>{const n=document.querySelectorAll(t);n.length!==0&&(n[0].addEventListener("mouseover",function(){hG("actor"+e+"_popup")}),n[0].addEventListener("mouseout",function(){dG("actor"+e+"_popup")}))})},lG=function(t,e,n,i,s){if(e.links===void 0||e.links===null||Object.keys(e.links).length===0)return{height:0,width:0};const o=e.links,l=e.actorCnt,u=e.rectData;var f="none";s&&(f="block !important");const g=t.append("g");g.attr("id","actor"+l+"_popup"),g.attr("class","actorPopupMenu"),g.attr("display",f),_x("#actor"+l+"_popup",l);var _="";u.class!==void 0&&(_=" "+u.class);let k=u.width>n?u.width:n;const w=g.append("rect");if(w.attr("class","actorPopupMenuPanel"+_),w.attr("x",u.x),w.attr("y",u.height),w.attr("fill",u.fill),w.attr("stroke",u.stroke),w.attr("width",k),w.attr("height",u.height),w.attr("rx",u.rx),w.attr("ry",u.ry),o!=null){var x=20;for(let B in o){var M=g.append("a"),R=it(o[B]);M.attr("xlink:href",R),M.attr("target","_blank"),SG(i)(B,M,u.x+10,u.height+x,k,20,{class:"actor"},i),x+=30}}return w.attr("height",x),{height:u.height+x,width:k}},vx=function(t,e,n,i){const s=t.append("image");s.attr("x",e),s.attr("y",n);var o=it(i);s.attr("xlink:href",o)},bx=function(t,e,n,i){const s=t.append("use");s.attr("x",e),s.attr("y",n);var o=it(i);s.attr("xlink:href","#"+o)},cG=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'block'; }"},uG=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'none'; }"},hG=function(t){var e=document.getElementById(t);e!=null&&(e.style.display="block")},dG=function(t){var e=document.getElementById(t);e!=null&&(e.style.display="none")},Ru=function(t,e){let n=0,i=0;const s=e.text.split(_n.lineBreakRegex);let o=[],l=0,u=()=>e.y;if(e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0)switch(e.valign){case"top":case"start":u=()=>Math.round(e.y+e.textMargin);break;case"middle":case"center":u=()=>Math.round(e.y+(n+i+e.textMargin)/2);break;case"bottom":case"end":u=()=>Math.round(e.y+(n+i+2*e.textMargin)-e.textMargin);break}if(e.anchor!==void 0&&e.textMargin!==void 0&&e.width!==void 0)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle";break}for(let[f,g]of s.entries()){e.textMargin!==void 0&&e.textMargin===0&&e.fontSize!==void 0&&(l=f*e.fontSize);const _=t.append("text");if(_.attr("x",e.x),_.attr("y",u()),e.anchor!==void 0&&_.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),e.fontFamily!==void 0&&_.style("font-family",e.fontFamily),e.fontSize!==void 0&&_.style("font-size",e.fontSize),e.fontWeight!==void 0&&_.style("font-weight",e.fontWeight),e.fill!==void 0&&_.attr("fill",e.fill),e.class!==void 0&&_.attr("class",e.class),e.dy!==void 0?_.attr("dy",e.dy):l!==0&&_.attr("dy",l),e.tspan){const k=_.append("tspan");k.attr("x",e.x),e.fill!==void 0&&k.attr("fill",e.fill),k.text(g)}else _.text(g);e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0&&(i+=(_._groups||_)[0][0].getBBox().height,n=i),o.push(_)}return o},kx=function(t,e){function n(s,o,l,u,f){return s+","+o+" "+(s+l)+","+o+" "+(s+l)+","+(o+u-f)+" "+(s+l-f*1.2)+","+(o+u)+" "+s+","+(o+u)}const i=t.append("polygon");return i.attr("points",n(e.x,e.y,e.width,e.height,7)),i.attr("class","labelBox"),e.y=e.y+e.height/2,Ru(t,e),i};let Aa=-1;const wx=(t,e)=>{t.selectAll&&t.selectAll(".actor-line").attr("class","200").attr("y2",e-55)},fG=function(t,e,n){const i=e.x+e.width/2,s=t.append("g");var o=s;e.y===0&&(Aa++,o.append("line").attr("id","actor"+Aa).attr("x1",i).attr("y1",5).attr("x2",i).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),o=s.append("g"),e.actorCnt=Aa,e.links!=null&&(o.attr("id","root-"+Aa),_x("#root-"+Aa,Aa)));const l=Bp();var u="actor";e.properties!=null&&e.properties.class?u=e.properties.class:l.fill="#eaeaea",l.x=e.x,l.y=e.y,l.width=e.width,l.height=e.height,l.class=u,l.rx=3,l.ry=3;const f=Rp(o,l);if(e.rectData=l,e.properties!=null&&e.properties.icon){const _=e.properties.icon.trim();_.charAt(0)==="@"?bx(o,l.x+l.width-20,l.y+10,_.substr(1)):vx(o,l.x+l.width-20,l.y+10,_)}xx(n)(e.description,o,l.x,l.y,l.width,l.height,{class:"actor"},n);let g=e.height;if(f.node){const _=f.node().getBBox();e.height=_.height,g=_.height}return g},pG=function(t,e,n){const i=e.x+e.width/2;e.y===0&&(Aa++,t.append("line").attr("id","actor"+Aa).attr("x1",i).attr("y1",80).attr("x2",i).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const s=t.append("g");s.attr("class","actor-man");const o=Bp();o.x=e.x,o.y=e.y,o.fill="#eaeaea",o.width=e.width,o.height=e.height,o.class="actor",o.rx=3,o.ry=3,s.append("line").attr("id","actor-man-torso"+Aa).attr("x1",i).attr("y1",e.y+25).attr("x2",i).attr("y2",e.y+45),s.append("line").attr("id","actor-man-arms"+Aa).attr("x1",i-18).attr("y1",e.y+33).attr("x2",i+18).attr("y2",e.y+33),s.append("line").attr("x1",i-18).attr("y1",e.y+60).attr("x2",i).attr("y2",e.y+45),s.append("line").attr("x1",i).attr("y1",e.y+45).attr("x2",i+16).attr("y2",e.y+60);const l=s.append("circle");l.attr("cx",e.x+e.width/2),l.attr("cy",e.y+10),l.attr("r",15),l.attr("width",e.width),l.attr("height",e.height);const u=s.node().getBBox();return e.height=u.height,xx(n)(e.description,s,o.x,o.y+35,o.width,o.height,{class:"actor"},n),e.height},gG=function(t,e,n){switch(e.type){case"actor":return pG(t,e,n);case"participant":return fG(t,e,n)}},mG=function(t){return t.append("g")},yG=function(t,e,n,i,s){const o=Bp(),l=e.anchored;o.x=e.startx,o.y=e.starty,o.class="activation"+s%3,o.width=e.stopx-e.startx,o.height=n-e.starty,Rp(l,o)},_G=function(t,e,n,i){const{boxMargin:s,boxTextMargin:o,labelBoxHeight:l,labelBoxWidth:u,messageFontFamily:f,messageFontSize:g,messageFontWeight:_}=i,k=t.append("g"),w=function(R,B,U,Y){return k.append("line").attr("x1",R).attr("y1",B).attr("x2",U).attr("y2",Y).attr("class","loopLine")};w(e.startx,e.starty,e.stopx,e.starty),w(e.stopx,e.starty,e.stopx,e.stopy),w(e.startx,e.stopy,e.stopx,e.stopy),w(e.startx,e.starty,e.startx,e.stopy),e.sections!==void 0&&e.sections.forEach(function(R){w(e.startx,R.y,e.stopx,R.y).style("stroke-dasharray","3, 3")});let x=s2();x.text=n,x.x=e.startx,x.y=e.starty,x.fontFamily=f,x.fontSize=g,x.fontWeight=_,x.anchor="middle",x.valign="middle",x.tspan=!1,x.width=u||50,x.height=l||20,x.textMargin=o,x.class="labelText",kx(k,x),x=s2(),x.text=e.title,x.x=e.startx+u/2+(e.stopx-e.startx)/2,x.y=e.starty+s+o,x.anchor="middle",x.valign="middle",x.textMargin=o,x.class="loopText",x.fontFamily=f,x.fontSize=g,x.fontWeight=_,x.wrap=!0;let M=Ru(k,x);return e.sectionTitles!==void 0&&e.sectionTitles.forEach(function(R,B){if(R.message){x.text=R.message,x.x=e.startx+(e.stopx-e.startx)/2,x.y=e.sections[B].y+s+o,x.class="loopText",x.anchor="middle",x.valign="middle",x.tspan=!1,x.fontFamily=f,x.fontSize=g,x.fontWeight=_,x.wrap=e.wrap,M=Ru(k,x);let U=Math.round(M.map(Y=>(Y._groups||Y)[0][0].getBBox().height).reduce((Y,X)=>Y+X));e.sections[B].height+=U-(s+o)}}),e.height=Math.round(e.stopy-e.starty),k},vG=function(t,e){Rp(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},bG=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},kG=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},wG=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},xG=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},TG=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},EG=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},CG=function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},s2=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},Bp=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},xx=function(){function t(s,o,l,u,f,g,_){const k=o.append("text").attr("x",l+f/2).attr("y",u+g/2+5).style("text-anchor","middle").text(s);i(k,_)}function e(s,o,l,u,f,g,_,k){const{actorFontSize:w,actorFontFamily:x,actorFontWeight:M}=k;let R=w&&w.replace?w.replace("px",""):w;const B=s.split(_n.lineBreakRegex);for(let U=0;U<B.length;U++){const Y=U*R-R*(B.length-1)/2,X=o.append("text").attr("x",l+f/2).attr("y",u).style("text-anchor","middle").style("font-size",w).style("font-weight",M).style("font-family",x);X.append("tspan").attr("x",l+f/2).attr("dy",Y).text(B[U]),X.attr("y",u+g/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(X,_)}}function n(s,o,l,u,f,g,_,k){const w=o.append("switch"),M=w.append("foreignObject").attr("x",l).attr("y",u).attr("width",f).attr("height",g).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");M.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(s),e(s,w,l,u,f,g,_,k),i(M,_)}function i(s,o){for(const l in o)o.hasOwnProperty(l)&&s.attr(l,o[l])}return function(s){return s.textPlacement==="fo"?n:s.textPlacement==="old"?t:e}}(),SG=function(){function t(s,o,l,u,f,g,_){const k=o.append("text").attr("x",l).attr("y",u).style("text-anchor","start").text(s);i(k,_)}function e(s,o,l,u,f,g,_,k){const{actorFontSize:w,actorFontFamily:x,actorFontWeight:M}=k,R=s.split(_n.lineBreakRegex);for(let B=0;B<R.length;B++){const U=B*w-w*(R.length-1)/2,Y=o.append("text").attr("x",l).attr("y",u).style("text-anchor","start").style("font-size",w).style("font-weight",M).style("font-family",x);Y.append("tspan").attr("x",l).attr("dy",U).text(R[B]),Y.attr("y",u+g/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(Y,_)}}function n(s,o,l,u,f,g,_,k){const w=o.append("switch"),M=w.append("foreignObject").attr("x",l).attr("y",u).attr("width",f).attr("height",g).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");M.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(s),e(s,w,l,u,f,g,_,k),i(M,_)}function i(s,o){for(const l in o)o.hasOwnProperty(l)&&s.attr(l,o[l])}return function(s){return s.textPlacement==="fo"?n:s.textPlacement==="old"?t:e}}(),Rr={drawRect:Rp,drawText:Ru,drawLabel:kx,drawActor:gG,drawPopup:lG,drawImage:vx,drawEmbeddedImage:bx,anchorElement:mG,drawActivation:yG,drawLoop:_G,drawBackgroundRect:vG,insertArrowHead:xG,insertArrowFilledHead:TG,insertSequenceNumber:EG,insertArrowCrossHead:CG,insertDatabaseIcon:bG,insertComputerIcon:kG,insertClockIcon:wG,getTextObj:s2,getNoteRect:Bp,popupMenu:cG,popdownMenu:uG,fixLifeLineHeights:wx,sanitizeUrl:it};let At={};const ge={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(t=>t.height||0))+(this.loops.length===0?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.messages.length===0?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.notes.length===0?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(t){this.actors.push(t)},addLoop:function(t){this.loops.push(t)},addMessage:function(t){this.messages.push(t)},addNote:function(t){this.notes.push(t)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Ex(ht())},updateVal:function(t,e,n,i){t[e]===void 0?t[e]=n:t[e]=i(n,t[e])},updateBounds:function(t,e,n,i){const s=this;let o=0;function l(u){return function(g){o++;const _=s.sequenceItems.length-o+1;s.updateVal(g,"starty",e-_*At.boxMargin,Math.min),s.updateVal(g,"stopy",i+_*At.boxMargin,Math.max),s.updateVal(ge.data,"startx",t-_*At.boxMargin,Math.min),s.updateVal(ge.data,"stopx",n+_*At.boxMargin,Math.max),u!=="activation"&&(s.updateVal(g,"startx",t-_*At.boxMargin,Math.min),s.updateVal(g,"stopx",n+_*At.boxMargin,Math.max),s.updateVal(ge.data,"starty",e-_*At.boxMargin,Math.min),s.updateVal(ge.data,"stopy",i+_*At.boxMargin,Math.max))}}this.sequenceItems.forEach(l()),this.activations.forEach(l("activation"))},insert:function(t,e,n,i){const s=Math.min(t,n),o=Math.max(t,n),l=Math.min(e,i),u=Math.max(e,i);this.updateVal(ge.data,"startx",s,Math.min),this.updateVal(ge.data,"starty",l,Math.min),this.updateVal(ge.data,"stopx",o,Math.max),this.updateVal(ge.data,"stopy",u,Math.max),this.updateBounds(s,l,o,u)},newActivation:function(t,e,n){const i=n[t.from.actor],s=Pp(t.from.actor).length||0,o=i.x+i.width/2+(s-1)*At.activationWidth/2;this.activations.push({startx:o,starty:this.verticalPos+2,stopx:o+At.activationWidth,stopy:void 0,actor:t.from.actor,anchored:Rr.anchorElement(e)})},endActivation:function(t){const e=this.activations.map(function(n){return n.actor}).lastIndexOf(t.from.actor);return this.activations.splice(e,1)[0]},createLoop:function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},newLoop:function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:ge.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},AG=function(t,e){ge.bumpVerticalPos(At.boxMargin),e.height=At.boxMargin,e.starty=ge.getVerticalPos();const n=Rr.getNoteRect();n.x=e.startx,n.y=e.starty,n.width=e.width||At.width,n.class="note";const i=t.append("g"),s=Rr.drawRect(i,n),o=Rr.getTextObj();o.x=e.startx,o.y=e.starty,o.width=n.width,o.dy="1em",o.text=e.message,o.class="noteText",o.fontFamily=At.noteFontFamily,o.fontSize=At.noteFontSize,o.fontWeight=At.noteFontWeight,o.anchor=At.noteAlign,o.textMargin=At.noteMargin,o.valign="center";const l=Ru(i,o),u=Math.round(l.map(f=>(f._groups||f)[0][0].getBBox().height).reduce((f,g)=>f+g));s.attr("height",u+2*At.noteMargin),e.height+=u+2*At.noteMargin,ge.bumpVerticalPos(u+2*At.noteMargin),e.stopy=e.starty+u+2*At.noteMargin,e.stopx=e.startx+n.width,ge.insert(e.startx,e.starty,e.stopx,e.stopy),ge.models.addNote(e)},Bu=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),Pu=t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),a2=t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight});function LG(t,e){ge.bumpVerticalPos(10);const{startx:n,stopx:i,message:s}=e,o=_n.splitBreaks(s).length,l=Tn.calculateTextDimensions(s,Bu(At)),u=l.height/o;e.height+=u,ge.bumpVerticalPos(u);let f,g=l.height-10;const _=l.width;if(n===i){f=ge.getVerticalPos()+g,At.rightAngles||(g+=At.boxMargin,f=ge.getVerticalPos()+g),g+=30;const k=Math.max(_/2,At.width/2);ge.insert(n-k,ge.getVerticalPos()-10+g,i+k,ge.getVerticalPos()+30+g)}else g+=At.boxMargin,f=ge.getVerticalPos()+g,ge.insert(n,f-10,i,f);return ge.bumpVerticalPos(g),e.height+=g,e.stopy=e.starty+e.height,ge.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),f}const IG=function(t,e,n,i){const{startx:s,stopx:o,starty:l,message:u,type:f,sequenceIndex:g,sequenceVisible:_}=e,k=Tn.calculateTextDimensions(u,Bu(At)),w=Rr.getTextObj();w.x=s,w.y=l+10,w.width=o-s,w.class="messageText",w.dy="1em",w.text=u,w.fontFamily=At.messageFontFamily,w.fontSize=At.messageFontSize,w.fontWeight=At.messageFontWeight,w.anchor=At.messageAlign,w.valign="center",w.textMargin=At.wrapPadding,w.tspan=!1,Ru(t,w);const x=k.width;let M;s===o?At.rightAngles?M=t.append("path").attr("d",`M  ${s},${n} H ${s+Math.max(At.width/2,x/2)} V ${n+25} H ${s}`):M=t.append("path").attr("d","M "+s+","+n+" C "+(s+60)+","+(n-10)+" "+(s+60)+","+(n+30)+" "+s+","+(n+20)):(M=t.append("line"),M.attr("x1",s),M.attr("y1",n),M.attr("x2",o),M.attr("y2",n)),f===i.db.LINETYPE.DOTTED||f===i.db.LINETYPE.DOTTED_CROSS||f===i.db.LINETYPE.DOTTED_POINT||f===i.db.LINETYPE.DOTTED_OPEN?(M.style("stroke-dasharray","3, 3"),M.attr("class","messageLine1")):M.attr("class","messageLine0");let R="";At.arrowMarkerAbsolute&&(R=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,R=R.replace(/\(/g,"\\("),R=R.replace(/\)/g,"\\)")),M.attr("stroke-width",2),M.attr("stroke","none"),M.style("fill","none"),(f===i.db.LINETYPE.SOLID||f===i.db.LINETYPE.DOTTED)&&M.attr("marker-end","url("+R+"#arrowhead)"),(f===i.db.LINETYPE.SOLID_POINT||f===i.db.LINETYPE.DOTTED_POINT)&&M.attr("marker-end","url("+R+"#filled-head)"),(f===i.db.LINETYPE.SOLID_CROSS||f===i.db.LINETYPE.DOTTED_CROSS)&&M.attr("marker-end","url("+R+"#crosshead)"),(_||At.showSequenceNumbers)&&(M.attr("marker-start","url("+R+"#sequencenumber)"),t.append("text").attr("x",s).attr("y",n+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(g))},o2=function(t,e,n,i,s,o){if(s.hideUnusedParticipants===!0){const g=new Set;o.forEach(_=>{g.add(_.from),g.add(_.to)}),n=n.filter(_=>g.has(_))}let l=0,u=0,f=0;for(const g of n){const _=e[g];_.width=_.width||At.width,_.height=Math.max(_.height||At.height,At.height),_.margin=_.margin||At.actorMargin,_.x=l+u,_.y=i;const k=Rr.drawActor(t,_,At);f=Math.max(f,k),ge.insert(_.x,i,_.x+_.width,_.height),l+=_.width,u+=_.margin,ge.models.addActor(_)}ge.bumpVerticalPos(f)},Tx=function(t,e,n,i){let s=0,o=0;for(const l of n){const u=e[l],f=OG(u),g=Rr.drawPopup(t,u,f,At,At.forceMenus,i);g.height>s&&(s=g.height),g.width+u.x>o&&(o=g.width+u.x)}return{maxHeight:s,maxWidth:o}},Ex=function(t){ci(At,t),t.fontFamily&&(At.actorFontFamily=At.noteFontFamily=At.messageFontFamily=t.fontFamily),t.fontSize&&(At.actorFontSize=At.noteFontSize=At.messageFontSize=t.fontSize),t.fontWeight&&(At.actorFontWeight=At.noteFontWeight=At.messageFontWeight=t.fontWeight)},Pp=function(t){return ge.activations.filter(function(e){return e.actor===t})},Cx=function(t,e){const n=e[t],i=Pp(t),s=i.reduce(function(l,u){return Math.min(l,u.startx)},n.x+n.width/2),o=i.reduce(function(l,u){return Math.max(l,u.stopx)},n.x+n.width/2);return[s,o]};function La(t,e,n,i,s){ge.bumpVerticalPos(n);let o=i;if(e.id&&e.message&&t[e.id]){const l=t[e.id].width,u=Bu(At);e.message=Tn.wrapLabel(`[${e.message}]`,l-2*At.wrapPadding,u),e.width=l,e.wrap=!0;const f=Tn.calculateTextDimensions(e.message,u),g=Math.max(f.height,At.labelBoxHeight);o=i+g,C.debug(`${g} - ${e.message}`)}s(e),ge.bumpVerticalPos(o)}const MG=function(t,e,n,i){const{securityLevel:s,sequence:o}=ht();At=o;let l;s==="sandbox"&&(l=re("#i"+e));const u=re(s==="sandbox"?l.nodes()[0].contentDocument.body:"body"),f=s==="sandbox"?l.nodes()[0].contentDocument:document;ge.init(),C.debug(i.db);const g=s==="sandbox"?u.select(`[id="${e}"]`):re(`[id="${e}"]`),_=i.db.getActors(),k=i.db.getActorKeys(),w=i.db.getMessages(),x=i.db.getDiagramTitle(),M=NG(_,w,i);At.height=DG(_,M),Rr.insertComputerIcon(g),Rr.insertDatabaseIcon(g),Rr.insertClockIcon(g),o2(g,_,k,0,At,w);const R=PG(w,_,M,i);Rr.insertArrowHead(g),Rr.insertArrowCrossHead(g),Rr.insertArrowFilledHead(g),Rr.insertSequenceNumber(g);function B(O,W){const A=ge.endActivation(O);A.starty+18>W&&(A.starty=W-6,W+=12),Rr.drawActivation(g,A,W,At,Pp(O.from.actor).length),ge.insert(A.startx,W-10,A.stopx,W)}let U=1,Y=1;const X=[];w.forEach(function(O){let W,A,mt;switch(O.type){case i.db.LINETYPE.NOTE:A=O.noteModel,AG(g,A);break;case i.db.LINETYPE.ACTIVE_START:ge.newActivation(O,g,_);break;case i.db.LINETYPE.ACTIVE_END:B(O,ge.getVerticalPos());break;case i.db.LINETYPE.LOOP_START:La(R,O,At.boxMargin,At.boxMargin+At.boxTextMargin,I=>ge.newLoop(I));break;case i.db.LINETYPE.LOOP_END:W=ge.endLoop(),Rr.drawLoop(g,W,"loop",At),ge.bumpVerticalPos(W.stopy-ge.getVerticalPos()),ge.models.addLoop(W);break;case i.db.LINETYPE.RECT_START:La(R,O,At.boxMargin,At.boxMargin,I=>ge.newLoop(void 0,I.message));break;case i.db.LINETYPE.RECT_END:W=ge.endLoop(),Rr.drawBackgroundRect(g,W),ge.models.addLoop(W),ge.bumpVerticalPos(W.stopy-ge.getVerticalPos());break;case i.db.LINETYPE.OPT_START:La(R,O,At.boxMargin,At.boxMargin+At.boxTextMargin,I=>ge.newLoop(I));break;case i.db.LINETYPE.OPT_END:W=ge.endLoop(),Rr.drawLoop(g,W,"opt",At),ge.bumpVerticalPos(W.stopy-ge.getVerticalPos()),ge.models.addLoop(W);break;case i.db.LINETYPE.ALT_START:La(R,O,At.boxMargin,At.boxMargin+At.boxTextMargin,I=>ge.newLoop(I));break;case i.db.LINETYPE.ALT_ELSE:La(R,O,At.boxMargin+At.boxTextMargin,At.boxMargin,I=>ge.addSectionToLoop(I));break;case i.db.LINETYPE.ALT_END:W=ge.endLoop(),Rr.drawLoop(g,W,"alt",At),ge.bumpVerticalPos(W.stopy-ge.getVerticalPos()),ge.models.addLoop(W);break;case i.db.LINETYPE.PAR_START:La(R,O,At.boxMargin,At.boxMargin+At.boxTextMargin,I=>ge.newLoop(I));break;case i.db.LINETYPE.PAR_AND:La(R,O,At.boxMargin+At.boxTextMargin,At.boxMargin,I=>ge.addSectionToLoop(I));break;case i.db.LINETYPE.PAR_END:W=ge.endLoop(),Rr.drawLoop(g,W,"par",At),ge.bumpVerticalPos(W.stopy-ge.getVerticalPos()),ge.models.addLoop(W);break;case i.db.LINETYPE.AUTONUMBER:U=O.message.start||U,Y=O.message.step||Y,O.message.visible?i.db.enableSequenceNumbers():i.db.disableSequenceNumbers();break;case i.db.LINETYPE.CRITICAL_START:La(R,O,At.boxMargin,At.boxMargin+At.boxTextMargin,I=>ge.newLoop(I));break;case i.db.LINETYPE.CRITICAL_OPTION:La(R,O,At.boxMargin+At.boxTextMargin,At.boxMargin,I=>ge.addSectionToLoop(I));break;case i.db.LINETYPE.CRITICAL_END:W=ge.endLoop(),Rr.drawLoop(g,W,"critical",At),ge.bumpVerticalPos(W.stopy-ge.getVerticalPos()),ge.models.addLoop(W);break;case i.db.LINETYPE.BREAK_START:La(R,O,At.boxMargin,At.boxMargin+At.boxTextMargin,I=>ge.newLoop(I));break;case i.db.LINETYPE.BREAK_END:W=ge.endLoop(),Rr.drawLoop(g,W,"break",At),ge.bumpVerticalPos(W.stopy-ge.getVerticalPos()),ge.models.addLoop(W);break;default:try{mt=O.msgModel,mt.starty=ge.getVerticalPos(),mt.sequenceIndex=U,mt.sequenceVisible=i.db.showSequenceNumbers();const I=LG(g,mt);X.push({messageModel:mt,lineStartY:I}),ge.models.addMessage(mt)}catch(I){C.error("error while drawing message",I)}}[i.db.LINETYPE.SOLID_OPEN,i.db.LINETYPE.DOTTED_OPEN,i.db.LINETYPE.SOLID,i.db.LINETYPE.DOTTED,i.db.LINETYPE.SOLID_CROSS,i.db.LINETYPE.DOTTED_CROSS,i.db.LINETYPE.SOLID_POINT,i.db.LINETYPE.DOTTED_POINT].includes(O.type)&&(U=U+Y)}),X.forEach(O=>IG(g,O.messageModel,O.lineStartY,i)),At.mirrorActors&&(ge.bumpVerticalPos(At.boxMargin*2),o2(g,_,k,ge.getVerticalPos(),At,w),ge.bumpVerticalPos(At.boxMargin),wx(g,ge.getVerticalPos()));const Q=Tx(g,_,k,f),{bounds:at}=ge.getBounds();C.debug("For line height fix Querying: #"+e+" .actor-line"),cg("#"+e+" .actor-line").attr("y2",at.stopy);let J=at.stopy-at.starty;J<Q.maxHeight&&(J=Q.maxHeight);let ot=J+2*At.diagramMarginY;At.mirrorActors&&(ot=ot-At.boxMargin+At.bottomMarginAdj);let q=at.stopx-at.startx;q<Q.maxWidth&&(q=Q.maxWidth);const H=q+2*At.diagramMarginX;x&&g.append("text").text(x).attr("x",(at.stopx-at.startx)/2-2*At.diagramMarginX).attr("y",-25),Ws(g,ot,H,At.useMaxWidth);const $=x?40:0;g.attr("viewBox",at.startx-At.diagramMarginX+" -"+(At.diagramMarginY+$)+" "+H+" "+(ot+$)),C.debug("models:",ge.models)};function NG(t,e,n){const i={};return e.forEach(function(s){if(t[s.to]&&t[s.from]){const o=t[s.to];if(s.placement===n.db.PLACEMENT.LEFTOF&&!o.prevActor||s.placement===n.db.PLACEMENT.RIGHTOF&&!o.nextActor)return;const l=s.placement!==void 0,u=!l,f=l?Pu(At):Bu(At),g=s.wrap?Tn.wrapLabel(s.message,At.width-2*At.wrapPadding,f):s.message,k=Tn.calculateTextDimensions(g,f).width+2*At.wrapPadding;u&&s.from===o.nextActor?i[s.to]=Math.max(i[s.to]||0,k):u&&s.from===o.prevActor?i[s.from]=Math.max(i[s.from]||0,k):u&&s.from===s.to?(i[s.from]=Math.max(i[s.from]||0,k/2),i[s.to]=Math.max(i[s.to]||0,k/2)):s.placement===n.db.PLACEMENT.RIGHTOF?i[s.from]=Math.max(i[s.from]||0,k):s.placement===n.db.PLACEMENT.LEFTOF?i[o.prevActor]=Math.max(i[o.prevActor]||0,k):s.placement===n.db.PLACEMENT.OVER&&(o.prevActor&&(i[o.prevActor]=Math.max(i[o.prevActor]||0,k/2)),o.nextActor&&(i[s.from]=Math.max(i[s.from]||0,k/2)))}}),C.debug("maxMessageWidthPerActor:",i),i}const OG=function(t){let e=0;const n=a2(At);for(const i in t.links){const o=Tn.calculateTextDimensions(i,n).width+2*At.wrapPadding+2*At.boxMargin;e<o&&(e=o)}return e};function DG(t,e){let n=0;Object.keys(t).forEach(i=>{const s=t[i];s.wrap&&(s.description=Tn.wrapLabel(s.description,At.width-2*At.wrapPadding,a2(At)));const o=Tn.calculateTextDimensions(s.description,a2(At));s.width=s.wrap?At.width:Math.max(At.width,o.width+2*At.wrapPadding),s.height=s.wrap?Math.max(o.height,At.height):At.height,n=Math.max(n,s.height)});for(const i in e){const s=t[i];if(!s)continue;const o=t[s.nextActor];if(!o)continue;const u=e[i]+At.actorMargin-s.width/2-o.width/2;s.margin=Math.max(u,At.actorMargin)}return Math.max(n,At.height)}const RG=function(t,e,n){const i=e[t.from].x,s=e[t.to].x,o=t.wrap&&t.message;let l=Tn.calculateTextDimensions(o?Tn.wrapLabel(t.message,At.width,Pu(At)):t.message,Pu(At));const u={width:o?At.width:Math.max(At.width,l.width+2*At.noteMargin),height:0,startx:e[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===n.db.PLACEMENT.RIGHTOF?(u.width=o?Math.max(At.width,l.width):Math.max(e[t.from].width/2+e[t.to].width/2,l.width+2*At.noteMargin),u.startx=i+(e[t.from].width+At.actorMargin)/2):t.placement===n.db.PLACEMENT.LEFTOF?(u.width=Math.max(o?At.width:e[t.from].width/2+e[t.to].width/2,l.width+2*At.noteMargin),u.startx=i-u.width+(e[t.from].width-At.actorMargin)/2):t.to===t.from?(l=Tn.calculateTextDimensions(o?Tn.wrapLabel(t.message,Math.max(At.width,e[t.from].width),Pu(At)):t.message,Pu(At)),u.width=o?Math.max(At.width,e[t.from].width):Math.max(e[t.from].width,At.width,l.width+2*At.noteMargin),u.startx=i+(e[t.from].width-u.width)/2):(u.width=Math.abs(i+e[t.from].width/2-(s+e[t.to].width/2))+At.actorMargin,u.startx=i<s?i+e[t.from].width/2-At.actorMargin/2:s+e[t.to].width/2-At.actorMargin/2),o&&(u.message=Tn.wrapLabel(t.message,u.width-2*At.wrapPadding,Pu(At))),C.debug(`NM:[${u.startx},${u.stopx},${u.starty},${u.stopy}:${u.width},${u.height}=${t.message}]`),u},BG=function(t,e,n){let i=!1;if([n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(i=!0),!i)return{};const s=Cx(t.from,e),o=Cx(t.to,e),l=s[0]<=o[0]?1:0,u=s[0]<o[0]?0:1,f=[...s,...o],g=Math.abs(o[u]-s[l]);t.wrap&&t.message&&(t.message=Tn.wrapLabel(t.message,Math.max(g+2*At.wrapPadding,At.width),Bu(At)));const _=Tn.calculateTextDimensions(t.message,Bu(At));return{width:Math.max(t.wrap?0:_.width+2*At.wrapPadding,g+2*At.wrapPadding,At.width),height:0,startx:s[l],stopx:o[u],starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,f),toBounds:Math.max.apply(null,f)}},PG=function(t,e,n,i){const s={},o=[];let l,u,f;return t.forEach(function(g){switch(g.id=Tn.random({length:10}),g.type){case i.db.LINETYPE.LOOP_START:case i.db.LINETYPE.ALT_START:case i.db.LINETYPE.OPT_START:case i.db.LINETYPE.PAR_START:case i.db.LINETYPE.CRITICAL_START:case i.db.LINETYPE.BREAK_START:o.push({id:g.id,msg:g.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case i.db.LINETYPE.ALT_ELSE:case i.db.LINETYPE.PAR_AND:case i.db.LINETYPE.CRITICAL_OPTION:g.message&&(l=o.pop(),s[l.id]=l,s[g.id]=l,o.push(l));break;case i.db.LINETYPE.LOOP_END:case i.db.LINETYPE.ALT_END:case i.db.LINETYPE.OPT_END:case i.db.LINETYPE.PAR_END:case i.db.LINETYPE.CRITICAL_END:case i.db.LINETYPE.BREAK_END:l=o.pop(),s[l.id]=l;break;case i.db.LINETYPE.ACTIVE_START:{const k=e[g.from?g.from.actor:g.to.actor],w=Pp(g.from?g.from.actor:g.to.actor).length,x=k.x+k.width/2+(w-1)*At.activationWidth/2,M={startx:x,stopx:x+At.activationWidth,actor:g.from.actor,enabled:!0};ge.activations.push(M)}break;case i.db.LINETYPE.ACTIVE_END:{const k=ge.activations.map(w=>w.actor).lastIndexOf(g.from.actor);delete ge.activations.splice(k,1)[0]}break}g.placement!==void 0?(u=RG(g,e,i),g.noteModel=u,o.forEach(k=>{l=k,l.from=Math.min(l.from,u.startx),l.to=Math.max(l.to,u.startx+u.width),l.width=Math.max(l.width,Math.abs(l.from-l.to))-At.labelBoxWidth})):(f=BG(g,e,i),g.msgModel=f,f.startx&&f.stopx&&o.length>0&&o.forEach(k=>{if(l=k,f.startx===f.stopx){const w=e[g.from],x=e[g.to];l.from=Math.min(w.x-f.width/2,w.x-w.width/2,l.from),l.to=Math.max(x.x+f.width/2,x.x+w.width/2,l.to),l.width=Math.max(l.width,Math.abs(l.to-l.from))-At.labelBoxWidth}else l.from=Math.min(f.startx,l.from),l.to=Math.max(f.stopx,l.to),l.width=Math.max(l.width,f.width)-At.labelBoxWidth}))}),ge.activations=[],C.debug("Loop type widths:",s),s},Sx={bounds:ge,drawActors:o2,drawActorsPopup:Tx,setConf:Ex,draw:MG};var l2=function(){var t=function(ut,St,bt,kt){for(bt=bt||{},kt=ut.length;kt--;bt[ut[kt]]=St);return bt},e=[1,2],n=[1,3],i=[1,5],s=[1,7],o=[2,5],l=[1,15],u=[1,17],f=[1,21],g=[1,22],_=[1,23],k=[1,24],w=[1,37],x=[1,25],M=[1,26],R=[1,27],B=[1,28],U=[1,29],Y=[1,32],X=[1,33],Q=[1,34],at=[1,35],lt=[1,36],J=[1,39],ot=[1,40],q=[1,41],H=[1,42],$=[1,38],O=[1,45],W=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],A=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],mt=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],I=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],It={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(St,bt,kt,Lt,Ht,pt,_e){var tt=pt.length-1;switch(Ht){case 4:return Lt.setRootDoc(pt[tt]),pt[tt];case 5:this.$=[];break;case 6:pt[tt]!="nl"&&(pt[tt-1].push(pt[tt]),this.$=pt[tt-1]);break;case 7:case 8:this.$=pt[tt];break;case 9:this.$="nl";break;case 12:this.$=pt[tt];break;case 13:const G=pt[tt-1];G.description=Lt.trimColon(pt[tt]),this.$=G;break;case 14:this.$={stmt:"relation",state1:pt[tt-2],state2:pt[tt]};break;case 15:const z=Lt.trimColon(pt[tt]);this.$={stmt:"relation",state1:pt[tt-3],state2:pt[tt-1],description:z};break;case 19:this.$={stmt:"state",id:pt[tt-3],type:"default",description:"",doc:pt[tt-1]};break;case 20:var st=pt[tt],dt=pt[tt-2].trim();if(pt[tt].match(":")){var Z=pt[tt].split(":");st=Z[0],dt=[dt,Z[1]]}this.$={stmt:"state",id:st,type:"default",description:dt};break;case 21:this.$={stmt:"state",id:pt[tt-3],type:"default",description:pt[tt-5],doc:pt[tt-1]};break;case 22:this.$={stmt:"state",id:pt[tt],type:"fork"};break;case 23:this.$={stmt:"state",id:pt[tt],type:"join"};break;case 24:this.$={stmt:"state",id:pt[tt],type:"choice"};break;case 25:this.$={stmt:"state",id:Lt.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:pt[tt-1].trim(),note:{position:pt[tt-2].trim(),text:pt[tt].trim()}};break;case 30:this.$=pt[tt].trim(),Lt.setAccTitle(this.$);break;case 31:case 32:this.$=pt[tt].trim(),Lt.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:pt[tt-1].trim(),classes:pt[tt].trim()};break;case 35:this.$={stmt:"applyClass",id:pt[tt-1].trim(),styleClass:pt[tt].trim()};break;case 38:Lt.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:Lt.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:Lt.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:Lt.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:pt[tt].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:pt[tt-2].trim(),classes:[pt[tt].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:pt[tt-2].trim(),classes:[pt[tt].trim()],type:"default",description:""};break;case 50:Lt.parseDirective("%%{","open_directive");break;case 51:Lt.parseDirective(pt[tt],"type_directive");break;case 52:pt[tt]=pt[tt].trim().replace(/'/g,'"'),Lt.parseDirective(pt[tt],"arg_directive");break;case 53:Lt.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:e,5:n,6:4,7:i,45:6,60:s},{1:[3]},{3:8,4:e,5:n,6:4,7:i,45:6,60:s},{3:9,4:e,5:n,6:4,7:i,45:6,60:s},{3:10,4:e,5:n,6:4,7:i,45:6,60:s},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],o,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:l,5:u,6:30,9:14,10:16,11:18,12:19,13:20,16:f,17:g,19:_,22:k,24:w,25:x,26:M,27:R,28:B,29:U,32:31,33:Y,35:X,37:Q,38:at,42:lt,45:6,50:J,51:ot,52:q,53:H,56:$,60:s},{47:43,48:[1,44],63:O},t([48,63],[2,51]),t(W,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:f,17:g,19:_,22:k,24:w,25:x,26:M,27:R,28:B,29:U,32:31,33:Y,35:X,37:Q,38:at,42:lt,45:6,50:J,51:ot,52:q,53:H,56:$,60:s},t(W,[2,8]),t(W,[2,9]),t(W,[2,10]),t(W,[2,11]),t(W,[2,12],{14:[1,47],15:[1,48]}),t(W,[2,16]),{18:[1,49]},t(W,[2,18],{20:[1,50]}),{23:[1,51]},t(W,[2,22]),t(W,[2,23]),t(W,[2,24]),t(W,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},t(W,[2,28]),t(W,[2,29]),{34:[1,56]},{36:[1,57]},t(W,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},t(A,[2,44],{57:[1,61]}),t(A,[2,45],{57:[1,62]}),t(W,[2,38]),t(W,[2,39]),t(W,[2,40]),t(W,[2,41]),t(mt,[2,36]),{49:63,62:[1,64]},t(mt,[2,53]),t(W,[2,7]),t(W,[2,13]),{13:65,24:w,56:$},t(W,[2,17]),t(I,o,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},t(W,[2,30]),t(W,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:O},{63:[2,52]},t(W,[2,14],{14:[1,76]}),{4:l,5:u,6:30,9:14,10:16,11:18,12:19,13:20,16:f,17:g,19:_,21:[1,77],22:k,24:w,25:x,26:M,27:R,28:B,29:U,32:31,33:Y,35:X,37:Q,38:at,42:lt,45:6,50:J,51:ot,52:q,53:H,56:$,60:s},t(W,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},t(W,[2,33]),t(W,[2,34]),t(W,[2,35]),t(A,[2,46]),t(A,[2,47]),t(mt,[2,37]),t(W,[2,15]),t(W,[2,19]),t(I,o,{8:81}),t(W,[2,26]),t(W,[2,27]),{4:l,5:u,6:30,9:14,10:16,11:18,12:19,13:20,16:f,17:g,19:_,21:[1,82],22:k,24:w,25:x,26:M,27:R,28:B,29:U,32:31,33:Y,35:X,37:Q,38:at,42:lt,45:6,50:J,51:ot,52:q,53:H,56:$,60:s},t(W,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(St,bt){if(bt.recoverable)this.trace(St);else{var kt=new Error(St);throw kt.hash=bt,kt}},parse:function(St){var bt=this,kt=[0],Lt=[],Ht=[null],pt=[],_e=this.table,tt="",st=0,dt=0,Z=2,G=1,z=pt.slice.call(arguments,1),yt=Object.create(this.lexer),P={yy:{}};for(var Nt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Nt)&&(P.yy[Nt]=this.yy[Nt]);yt.setInput(St,P.yy),P.yy.lexer=yt,P.yy.parser=this,typeof yt.yylloc>"u"&&(yt.yylloc={});var nt=yt.yylloc;pt.push(nt);var Ee=yt.options&&yt.options.ranges;typeof P.yy.parseError=="function"?this.parseError=P.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function vt(){var qe;return qe=Lt.pop()||yt.lex()||G,typeof qe!="number"&&(qe instanceof Array&&(Lt=qe,qe=Lt.pop()),qe=bt.symbols_[qe]||qe),qe}for(var fe,Zt,Pt,Qt,Gt={},Bt,xt,pn,We;;){if(Zt=kt[kt.length-1],this.defaultActions[Zt]?Pt=this.defaultActions[Zt]:((fe===null||typeof fe>"u")&&(fe=vt()),Pt=_e[Zt]&&_e[Zt][fe]),typeof Pt>"u"||!Pt.length||!Pt[0]){var ze="";We=[];for(Bt in _e[Zt])this.terminals_[Bt]&&Bt>Z&&We.push("'"+this.terminals_[Bt]+"'");yt.showPosition?ze="Parse error on line "+(st+1)+`:
`+yt.showPosition()+`
Expecting `+We.join(", ")+", got '"+(this.terminals_[fe]||fe)+"'":ze="Parse error on line "+(st+1)+": Unexpected "+(fe==G?"end of input":"'"+(this.terminals_[fe]||fe)+"'"),this.parseError(ze,{text:yt.match,token:this.terminals_[fe]||fe,line:yt.yylineno,loc:nt,expected:We})}if(Pt[0]instanceof Array&&Pt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Zt+", token: "+fe);switch(Pt[0]){case 1:kt.push(fe),Ht.push(yt.yytext),pt.push(yt.yylloc),kt.push(Pt[1]),fe=null,dt=yt.yyleng,tt=yt.yytext,st=yt.yylineno,nt=yt.yylloc;break;case 2:if(xt=this.productions_[Pt[1]][1],Gt.$=Ht[Ht.length-xt],Gt._$={first_line:pt[pt.length-(xt||1)].first_line,last_line:pt[pt.length-1].last_line,first_column:pt[pt.length-(xt||1)].first_column,last_column:pt[pt.length-1].last_column},Ee&&(Gt._$.range=[pt[pt.length-(xt||1)].range[0],pt[pt.length-1].range[1]]),Qt=this.performAction.apply(Gt,[tt,dt,st,P.yy,Pt[1],Ht,pt].concat(z)),typeof Qt<"u")return Qt;xt&&(kt=kt.slice(0,-1*xt*2),Ht=Ht.slice(0,-1*xt),pt=pt.slice(0,-1*xt)),kt.push(this.productions_[Pt[1]][0]),Ht.push(Gt.$),pt.push(Gt._$),pn=_e[kt[kt.length-2]][kt[kt.length-1]],kt.push(pn);break;case 3:return!0}}return!0}},le=function(){var ut={EOF:1,parseError:function(bt,kt){if(this.yy.parser)this.yy.parser.parseError(bt,kt);else throw new Error(bt)},setInput:function(St,bt){return this.yy=bt||this.yy||{},this._input=St,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var St=this._input[0];this.yytext+=St,this.yyleng++,this.offset++,this.match+=St,this.matched+=St;var bt=St.match(/(?:\r\n?|\n).*/g);return bt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),St},unput:function(St){var bt=St.length,kt=St.split(/(?:\r\n?|\n)/g);this._input=St+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-bt),this.offset-=bt;var Lt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),kt.length-1&&(this.yylineno-=kt.length-1);var Ht=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:kt?(kt.length===Lt.length?this.yylloc.first_column:0)+Lt[Lt.length-kt.length].length-kt[0].length:this.yylloc.first_column-bt},this.options.ranges&&(this.yylloc.range=[Ht[0],Ht[0]+this.yyleng-bt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(St){this.unput(this.match.slice(St))},pastInput:function(){var St=this.matched.substr(0,this.matched.length-this.match.length);return(St.length>20?"...":"")+St.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var St=this.match;return St.length<20&&(St+=this._input.substr(0,20-St.length)),(St.substr(0,20)+(St.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var St=this.pastInput(),bt=new Array(St.length+1).join("-");return St+this.upcomingInput()+`
`+bt+"^"},test_match:function(St,bt){var kt,Lt,Ht;if(this.options.backtrack_lexer&&(Ht={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ht.yylloc.range=this.yylloc.range.slice(0))),Lt=St[0].match(/(?:\r\n?|\n).*/g),Lt&&(this.yylineno+=Lt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Lt?Lt[Lt.length-1].length-Lt[Lt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+St[0].length},this.yytext+=St[0],this.match+=St[0],this.matches=St,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(St[0].length),this.matched+=St[0],kt=this.performAction.call(this,this.yy,this,bt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),kt)return kt;if(this._backtrack){for(var pt in Ht)this[pt]=Ht[pt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var St,bt,kt,Lt;this._more||(this.yytext="",this.match="");for(var Ht=this._currentRules(),pt=0;pt<Ht.length;pt++)if(kt=this._input.match(this.rules[Ht[pt]]),kt&&(!bt||kt[0].length>bt[0].length)){if(bt=kt,Lt=pt,this.options.backtrack_lexer){if(St=this.test_match(kt,Ht[pt]),St!==!1)return St;if(this._backtrack){bt=!1;continue}else return!1}else if(!this.options.flex)break}return bt?(St=this.test_match(bt,Ht[Lt]),St!==!1?St:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var bt=this.next();return bt||this.lex()},begin:function(bt){this.conditionStack.push(bt)},popState:function(){var bt=this.conditionStack.length-1;return bt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(bt){return bt=this.conditionStack.length-1-Math.abs(bt||0),bt>=0?this.conditionStack[bt]:"INITIAL"},pushState:function(bt){this.begin(bt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(bt,kt,Lt,Ht){switch(Lt){case 0:return 41;case 1:return 50;case 2:return 51;case 3:return 52;case 4:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:break;case 11:break;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:break;case 17:return this.pushState("SCALE"),17;case 18:return 18;case 19:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 25:this.popState();break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 34:return this.pushState("SCALE"),17;case 35:return 18;case 36:this.popState();break;case 37:this.pushState("STATE");break;case 38:return this.popState(),kt.yytext=kt.yytext.slice(0,-8).trim(),25;case 39:return this.popState(),kt.yytext=kt.yytext.slice(0,-8).trim(),26;case 40:return this.popState(),kt.yytext=kt.yytext.slice(0,-10).trim(),27;case 41:return this.popState(),kt.yytext=kt.yytext.slice(0,-8).trim(),25;case 42:return this.popState(),kt.yytext=kt.yytext.slice(0,-8).trim(),26;case 43:return this.popState(),kt.yytext=kt.yytext.slice(0,-10).trim(),27;case 44:return 50;case 45:return 51;case 46:return 52;case 47:return 53;case 48:this.begin("STATE_STRING");break;case 49:return this.popState(),this.pushState("STATE_ID"),"AS";case 50:return this.popState(),"ID";case 51:this.popState();break;case 52:return"STATE_DESCR";case 53:return 19;case 54:this.popState();break;case 55:return this.popState(),this.pushState("struct"),20;case 56:break;case 57:return this.popState(),21;case 58:break;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 64:break;case 65:return"NOTE_TEXT";case 66:return this.popState(),"ID";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),kt.yytext=kt.yytext.substr(2).trim(),31;case 69:return this.popState(),kt.yytext=kt.yytext.slice(0,-8).trim(),31;case 70:return 7;case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return kt.yytext=kt.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 79:return 5;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}};return ut}();It.lexer=le;function qt(){this.yy={}}return qt.prototype=It,It.Parser=qt,new qt}();l2.parser=l2;const Ax=l2,FG=(t,e)=>{var n;return((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*stateDiagram/)!==null},VG=(t,e)=>{var n;return!!(t.match(/^\s*stateDiagram-v2/)!==null||t.match(/^\s*stateDiagram/)&&((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},YG="LR",$G="TB",Fp="state",c2="relation",UG="classDef",zG="applyClass",wd="default",Lx="divider",u2="[*]",Ix="start",Mx=u2,Nx="end",Ox="color",Dx="fill",HG="bgFill",WG=",";function Rx(){return{}}let Bx=YG,Vp=[],xd=Rx();const Px=()=>({relations:[],states:{},documents:{}});let Yp={root:Px()},Si=Yp.root,Td=0,Fx=0;const jG={LINE:0,DOTTED_LINE:1},qG={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},$p=t=>JSON.parse(JSON.stringify(t)),GG=function(t,e,n){Sr.parseDirective(this,t,e,n)},XG=t=>{C.info("Setting root doc",t),Vp=t},KG=()=>Vp,Up=(t,e,n)=>{if(e.stmt===c2)Up(t,e.state1,!0),Up(t,e.state2,!1);else if(e.stmt===Fp&&e.id==="[*]"&&(e.id=n?t.id+"_start":t.id+"_end",e.start=n),e.doc){const i=[];let s=[],o;for(o=0;o<e.doc.length;o++)if(e.doc[o].type===Lx){const l=$p(e.doc[o]);l.doc=$p(s),i.push(l),s=[]}else s.push(e.doc[o]);if(i.length>0&&s.length>0){const l={stmt:Fp,id:s4(),type:"divider",doc:$p(s)};i.push($p(l)),e.doc=i}e.doc.forEach(l=>Up(e,l,!0))}},ZG=()=>(Up({id:"root"},{id:"root",doc:Vp},!0),{id:"root",doc:Vp}),QG=t=>{let e;t.doc?e=t.doc:e=t,C.info(e),Vx(!0),C.info("Extract",e),e.forEach(n=>{switch(n.stmt){case Fp:Zl(n.id,n.type,n.doc,n.description,n.note,n.classes,n.styles,n.textStyles);break;case c2:Yx(n.state1,n.state2,n.description);break;case UG:$x(n.id,n.classes);break;case zG:p2(n.id,n.styleClass);break}})},Zl=function(t,e=wd,n=null,i=null,s=null,o=null,l=null,u=null){Si.states[t]===void 0?(C.info("Adding state ",t,i),Si.states[t]={id:t,descriptions:[],type:e,doc:n,note:s,classes:[],styles:[],textStyles:[]}):(Si.states[t].doc||(Si.states[t].doc=n),Si.states[t].type||(Si.states[t].type=e)),i&&(C.info("Setting state description",t,i),typeof i=="string"&&f2(t,i.trim()),typeof i=="object"&&i.forEach(f=>f2(t,f.trim()))),s&&(Si.states[t].note=s,Si.states[t].note.text=_n.sanitizeText(Si.states[t].note.text,ht())),o&&(C.info("Setting state classes",t,o),(typeof o=="string"?[o]:o).forEach(g=>p2(t,g.trim()))),l&&(C.info("Setting state styles",t,l),(typeof l=="string"?[l]:l).forEach(g=>lX(t,g.trim()))),u&&(C.info("Setting state styles",t,l),(typeof u=="string"?[u]:u).forEach(g=>cX(t,g.trim())))},Vx=function(t){Yp={root:Px()},Si=Yp.root,Td=0,xd=Rx(),t||js()},Ed=function(t){return Si.states[t]},JG=function(){return Si.states},tX=function(){C.info("Documents = ",Yp)},eX=function(){return Si.relations};function h2(t=""){let e=t;return t===u2&&(Td++,e=`${Ix}${Td}`),e}function d2(t="",e=wd){return t===u2?Ix:e}function nX(t=""){let e=t;return t===Mx&&(Td++,e=`${Nx}${Td}`),e}function rX(t="",e=wd){return t===Mx?Nx:e}function iX(t,e,n){let i=h2(t.id),s=d2(t.id,t.type),o=h2(e.id),l=d2(e.id,e.type);Zl(i,s,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),Zl(o,l,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),Si.relations.push({id1:i,id2:o,relationTitle:_n.sanitizeText(n,ht())})}const Yx=function(t,e,n){if(typeof t=="object")iX(t,e,n);else{const i=h2(t),s=d2(t),o=nX(e),l=rX(e);Zl(i,s),Zl(o,l),Si.relations.push({id1:i,id2:o,title:_n.sanitizeText(n,ht())})}},f2=function(t,e){const n=Si.states[t],i=e.startsWith(":")?e.replace(":","").trim():e;n.descriptions.push(_n.sanitizeText(i,ht()))},sX=function(t){return t.substring(0,1)===":"?t.substr(2).trim():t.trim()},aX=()=>(Fx++,"divider-id-"+Fx),$x=function(t,e=""){xd[t]===void 0&&(xd[t]={id:t,styles:[],textStyles:[]});const n=xd[t];e!=null&&e.split(WG).forEach(i=>{const s=i.replace(/([^;]*);/,"$1").trim();if(i.match(Ox)){const l=s.replace(Dx,HG).replace(Ox,Dx);n.textStyles.push(l)}n.styles.push(s)})},oX=function(){return xd},p2=function(t,e){t.split(",").forEach(function(n){let i=Ed(n);if(i===void 0){const s=n.trim();Zl(s),i=Ed(s)}i.classes.push(e)})},lX=function(t,e){const n=Ed(t);n!==void 0&&n.textStyles.push(e)},cX=function(t,e){const n=Ed(t);n!==void 0&&n.textStyles.push(e)},fo={parseDirective:GG,getConfig:()=>ht().state,addState:Zl,clear:Vx,getState:Ed,getStates:JG,getRelations:eX,getClasses:oX,getDirection:()=>Bx,addRelation:Yx,getDividerId:aX,setDirection:t=>{Bx=t},cleanupLabel:sX,lineType:jG,relationType:qG,logDocuments:tX,getRootDoc:KG,setRootDoc:XG,getRootDocV2:ZG,extract:QG,trimColon:t=>t&&t[0]===":"?t.substr(1).trim():t.trim(),getAccTitle:qs,setAccTitle:xs,getAccDescription:Xs,setAccDescription:Gs,addStyleClass:$x,setCssClass:p2,addDescription:f2,setDiagramTitle:Za,getDiagramTitle:Qa},uX=t=>t.append("circle").attr("class","start-state").attr("r",ht().state.sizeUnit).attr("cx",ht().state.padding+ht().state.sizeUnit).attr("cy",ht().state.padding+ht().state.sizeUnit),hX=t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",ht().state.textHeight).attr("class","divider").attr("x2",ht().state.textHeight*2).attr("y1",0).attr("y2",0),dX=(t,e)=>{const n=t.append("text").attr("x",2*ht().state.padding).attr("y",ht().state.textHeight+2*ht().state.padding).attr("font-size",ht().state.fontSize).attr("class","state-title").text(e.id),i=n.node().getBBox();return t.insert("rect",":first-child").attr("x",ht().state.padding).attr("y",ht().state.padding).attr("width",i.width+2*ht().state.padding).attr("height",i.height+2*ht().state.padding).attr("rx",ht().state.radius),n},fX=(t,e)=>{const n=function(w,x,M){const R=w.append("tspan").attr("x",2*ht().state.padding).text(x);M||R.attr("dy",ht().state.textHeight)},s=t.append("text").attr("x",2*ht().state.padding).attr("y",ht().state.textHeight+1.3*ht().state.padding).attr("font-size",ht().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),o=s.height,l=t.append("text").attr("x",ht().state.padding).attr("y",o+ht().state.padding*.4+ht().state.dividerMargin+ht().state.textHeight).attr("class","state-description");let u=!0,f=!0;e.descriptions.forEach(function(w){u||(n(l,w,f),f=!1),u=!1});const g=t.append("line").attr("x1",ht().state.padding).attr("y1",ht().state.padding+o+ht().state.dividerMargin/2).attr("y2",ht().state.padding+o+ht().state.dividerMargin/2).attr("class","descr-divider"),_=l.node().getBBox(),k=Math.max(_.width,s.width);return g.attr("x2",k+3*ht().state.padding),t.insert("rect",":first-child").attr("x",ht().state.padding).attr("y",ht().state.padding).attr("width",k+2*ht().state.padding).attr("height",_.height+o+2*ht().state.padding).attr("rx",ht().state.radius),t},pX=(t,e,n)=>{const i=ht().state.padding,s=2*ht().state.padding,o=t.node().getBBox(),l=o.width,u=o.x,f=t.append("text").attr("x",0).attr("y",ht().state.titleShift).attr("font-size",ht().state.fontSize).attr("class","state-title").text(e.id),_=f.node().getBBox().width+s;let k=Math.max(_,l);k===l&&(k=k+s);let w;const x=t.node().getBBox();e.doc,w=u-i,_>l&&(w=(l-k)/2+i),Math.abs(u-x.x)<i&&_>l&&(w=u-(_-l)/2);const M=1-ht().state.textHeight;return t.insert("rect",":first-child").attr("x",w).attr("y",M).attr("class",n?"alt-composit":"composit").attr("width",k).attr("height",x.height+ht().state.textHeight+ht().state.titleShift+1).attr("rx","0"),f.attr("x",w+i),_<=l&&f.attr("x",u+(k-s)/2-_/2+i),t.insert("rect",":first-child").attr("x",w).attr("y",ht().state.titleShift-ht().state.textHeight-ht().state.padding).attr("width",k).attr("height",ht().state.textHeight*3).attr("rx",ht().state.radius),t.insert("rect",":first-child").attr("x",w).attr("y",ht().state.titleShift-ht().state.textHeight-ht().state.padding).attr("width",k).attr("height",x.height+3+2*ht().state.textHeight).attr("rx",ht().state.radius),t},gX=t=>(t.append("circle").attr("class","end-state-outer").attr("r",ht().state.sizeUnit+ht().state.miniPadding).attr("cx",ht().state.padding+ht().state.sizeUnit+ht().state.miniPadding).attr("cy",ht().state.padding+ht().state.sizeUnit+ht().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",ht().state.sizeUnit).attr("cx",ht().state.padding+ht().state.sizeUnit+2).attr("cy",ht().state.padding+ht().state.sizeUnit+2)),mX=(t,e)=>{let n=ht().state.forkWidth,i=ht().state.forkHeight;if(e.parentId){let s=n;n=i,i=s}return t.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",i).attr("x",ht().state.padding).attr("y",ht().state.padding)},yX=(t,e,n,i)=>{let s=0;const o=i.append("text");o.style("text-anchor","start"),o.attr("class","noteText");let l=t.replace(/\r\n/g,"<br/>");l=l.replace(/\n/g,"<br/>");const u=l.split(_n.lineBreakRegex);let f=1.25*ht().state.noteMargin;for(const g of u){const _=g.trim();if(_.length>0){const k=o.append("tspan");if(k.text(_),f===0){const w=k.node().getBBox();f+=w.height}s+=f,k.attr("x",e+ht().state.noteMargin),k.attr("y",n+s+1.25*ht().state.noteMargin)}}return{textWidth:o.node().getBBox().width,textHeight:s}},_X=(t,e)=>{e.attr("class","state-note");const n=e.append("rect").attr("x",0).attr("y",ht().state.padding),i=e.append("g"),{textWidth:s,textHeight:o}=yX(t,0,0,i);return n.attr("height",o+2*ht().state.noteMargin),n.attr("width",s+ht().state.noteMargin*2),n},Ux=function(t,e){const n=e.id,i={id:n,label:e.id,width:0,height:0},s=t.append("g").attr("id",n).attr("class","stateGroup");e.type==="start"&&uX(s),e.type==="end"&&gX(s),(e.type==="fork"||e.type==="join")&&mX(s,e),e.type==="note"&&_X(e.note.text,s),e.type==="divider"&&hX(s),e.type==="default"&&e.descriptions.length===0&&dX(s,e),e.type==="default"&&e.descriptions.length>0&&fX(s,e);const o=s.node().getBBox();return i.width=o.width+2*ht().state.padding,i.height=o.height+2*ht().state.padding,i};let zx=0;const vX=function(t,e,n){const i=function(f){switch(f){case fo.relationType.AGGREGATION:return"aggregation";case fo.relationType.EXTENSION:return"extension";case fo.relationType.COMPOSITION:return"composition";case fo.relationType.DEPENDENCY:return"dependency"}};e.points=e.points.filter(f=>!Number.isNaN(f.y));const s=e.points,o=eu().x(function(f){return f.x}).y(function(f){return f.y}).curve(nu),l=t.append("path").attr("d",o(s)).attr("id","edge"+zx).attr("class","transition");let u="";if(ht().state.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),l.attr("marker-end","url("+u+"#"+i(fo.relationType.DEPENDENCY)+"End)"),n.title!==void 0){const f=t.append("g").attr("class","stateLabel"),{x:g,y:_}=Tn.calcLabelPosition(e.points),k=_n.getRows(n.title);let w=0;const x=[];let M=0,R=0;for(let Y=0;Y<=k.length;Y++){const X=f.append("text").attr("text-anchor","middle").text(k[Y]).attr("x",g).attr("y",_+w),Q=X.node().getBBox();M=Math.max(M,Q.width),R=Math.min(R,Q.x),C.info(Q.x,g,_+w),w===0&&(w=X.node().getBBox().height,C.info("Title height",w,_)),x.push(X)}let B=w*k.length;if(k.length>1){const Y=(k.length-1)*w*.5;x.forEach((X,Q)=>X.attr("y",_+Q*w-Y)),B=w*k.length}const U=f.node().getBBox();f.insert("rect",":first-child").attr("class","box").attr("x",g-M/2-ht().state.padding/2).attr("y",_-B/2-ht().state.padding/2-3.5).attr("width",M+ht().state.padding).attr("height",B+ht().state.padding),C.info(U)}zx++};let as;const g2={},bX=function(){},kX=function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},wX=function(t,e,n,i){as=ht().state;const s=ht().securityLevel;let o;s==="sandbox"&&(o=re("#i"+e));const l=re(s==="sandbox"?o.nodes()[0].contentDocument.body:"body"),u=s==="sandbox"?o.nodes()[0].contentDocument:document;C.debug("Rendering diagram "+t);const f=l.select(`[id='${e}']`);kX(f),new qr({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const _=i.db.getRootDoc();Hx(_,f,void 0,!1,l,u,i);const k=as.padding,w=f.node().getBBox(),x=w.width+k*2,M=w.height+k*2,R=x*1.75;Ws(f,M,R,as.useMaxWidth),f.attr("viewBox",`${w.x-as.padding}  ${w.y-as.padding} `+x+" "+M)},xX=t=>t?t.length*as.fontSizeFactor:1,Hx=(t,e,n,i,s,o,l)=>{const u=new qr({compound:!0,multigraph:!0});let f,g=!0;for(f=0;f<t.length;f++)if(t[f].stmt==="relation"){g=!1;break}n?u.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:g?1:as.edgeLengthFactor,nodeSep:g?1:50,isMultiGraph:!0}):u.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:g?1:as.edgeLengthFactor,nodeSep:g?1:50,ranker:"tight-tree",isMultiGraph:!0}),u.setDefaultEdgeLabel(function(){return{}}),l.db.extract(t);const _=l.db.getStates(),k=l.db.getRelations(),w=Object.keys(_);for(const U of w){const Y=_[U];n&&(Y.parentId=n);let X;if(Y.doc){let Q=e.append("g").attr("id",Y.id).attr("class","stateGroup");X=Hx(Y.doc,Q,Y.id,!i,s,o,l);{Q=pX(Q,Y,i);let at=Q.node().getBBox();X.width=at.width,X.height=at.height+as.padding/2,g2[Y.id]={y:as.compositTitleSize}}}else X=Ux(e,Y);if(Y.note){const Q={descriptions:[],id:Y.id+"-note",note:Y.note,type:"note"},at=Ux(e,Q);Y.note.position==="left of"?(u.setNode(X.id+"-note",at),u.setNode(X.id,X)):(u.setNode(X.id,X),u.setNode(X.id+"-note",at)),u.setParent(X.id,X.id+"-group"),u.setParent(X.id+"-note",X.id+"-group")}else u.setNode(X.id,X)}C.debug("Count=",u.nodeCount(),u);let x=0;k.forEach(function(U){x++,C.debug("Setting edge",U),u.setEdge(U.id1,U.id2,{relation:U,width:xX(U.title),height:as.labelHeight*_n.getRows(U.title).length,labelpos:"c"},"id"+x)}),Su(u),C.debug("Graph after layout",u.nodes());const M=e.node();u.nodes().forEach(function(U){U!==void 0&&u.node(U)!==void 0?(C.warn("Node "+U+": "+JSON.stringify(u.node(U))),s.select("#"+M.id+" #"+U).attr("transform","translate("+(u.node(U).x-u.node(U).width/2)+","+(u.node(U).y+(g2[U]?g2[U].y:0)-u.node(U).height/2)+" )"),s.select("#"+M.id+" #"+U).attr("data-x-shift",u.node(U).x-u.node(U).width/2),o.querySelectorAll("#"+M.id+" #"+U+" .divider").forEach(X=>{const Q=X.parentElement;let at=0,lt=0;Q&&(Q.parentElement&&(at=Q.parentElement.getBBox().width),lt=parseInt(Q.getAttribute("data-x-shift"),10),Number.isNaN(lt)&&(lt=0)),X.setAttribute("x1",0-lt+8),X.setAttribute("x2",at-lt-8)})):C.debug("No Node "+U+": "+JSON.stringify(u.node(U)))});let R=M.getBBox();u.edges().forEach(function(U){U!==void 0&&u.edge(U)!==void 0&&(C.debug("Edge "+U.v+" -> "+U.w+": "+JSON.stringify(u.edge(U))),vX(e,u.edge(U),u.edge(U).relation))}),R=M.getBBox();const B={id:n||"root",label:n||"root",width:0,height:0};return B.width=R.width+2*as.padding,B.height=R.height+2*as.padding,C.debug("Doc rendered",B,u),B},TX={setConf:bX,draw:wX},zp="rect",m2="rectWithTitle",EX="start",CX="end",SX="divider",AX="roundedWithTitle",LX="note",IX="noteGroup",Fu="statediagram",MX=`${Fu}-state`,Wx="transition",NX="note",OX=`${Wx} note-edge`,DX=`${Fu}-${NX}`,RX=`${Fu}-cluster`,BX=`${Fu}-cluster-alt`,jx="parent",qx="note",PX="state",y2="----",FX=`${y2}${qx}`,Gx=`${y2}${jx}`,Xx="fill:none",Kx="fill: #333",Zx="c",Qx="text",Jx="normal";let Hp={},Zo=0;const VX=function(t){const e=Object.keys(t);for(const n of e)t[n]},YX=function(t,e){C.trace("Extracting classes"),e.db.clear();try{return e.parser.parse(t),e.db.extract(e.db.getRootDocV2()),e.db.getClasses()}catch(n){return n}};function $X(t){return t==null?"":t.classes?t.classes.join(" "):""}function _2(t="",e=0,n="",i=y2){const s=n!==null&&n.length>0?`${i}${n}`:"";return`${PX}-${t}${s}-${e}`}const Cd=(t,e,n,i,s,o)=>{const l=n.id,u=$X(i[l]);if(l!=="root"){let f=zp;n.start===!0&&(f=EX),n.start===!1&&(f=CX),n.type!==wd&&(f=n.type),Hp[l]||(Hp[l]={id:l,shape:f,description:_n.sanitizeText(l,ht()),classes:`${u} ${MX}`});const g=Hp[l];n.description&&(Array.isArray(g.description)?(g.shape=m2,g.description.push(n.description)):g.description.length>0?(g.shape=m2,g.description===l?g.description=[n.description]:g.description=[g.description,n.description]):(g.shape=zp,g.description=n.description),g.description=_n.sanitizeTextOrArray(g.description,ht())),g.description.length===1&&g.shape===m2&&(g.shape=zp),!g.type&&n.doc&&(C.info("Setting cluster for ",l,v2(n)),g.type="group",g.dir=v2(n),g.shape=n.type===Lx?SX:AX,g.classes=g.classes+" "+RX+" "+(o?BX:""));const _={labelStyle:"",shape:g.shape,labelText:g.description,classes:g.classes,style:"",id:l,dir:g.dir,domId:_2(l,Zo),type:g.type,padding:15};if(n.note){const k={labelStyle:"",shape:LX,labelText:n.note.text,classes:DX,style:"",id:l+FX+"-"+Zo,domId:_2(l,Zo,qx),type:g.type,padding:15},w={labelStyle:"",shape:IX,labelText:n.note.text,classes:g.classes,style:"",id:l+Gx,domId:_2(l,Zo,jx),type:"group",padding:0};Zo++;const x=l+Gx;t.setNode(x,w),t.setNode(k.id,k),t.setNode(l,_),t.setParent(l,x),t.setParent(k.id,x);let M=l,R=k.id;n.note.position==="left of"&&(M=k.id,R=l),t.setEdge(M,R,{arrowhead:"none",arrowType:"",style:Xx,labelStyle:"",classes:OX,arrowheadStyle:Kx,labelpos:Zx,labelType:Qx,thickness:Jx})}else t.setNode(l,_)}e&&e.id!=="root"&&(C.trace("Setting node ",l," to be child of its parent ",e.id),t.setParent(l,e.id)),n.doc&&(C.trace("Adding nodes children "),UX(t,n,n.doc,i,s,!o))},UX=(t,e,n,i,s,o)=>{C.trace("items",n),n.forEach(l=>{switch(l.stmt){case Fp:Cd(t,e,l,i,s,o);break;case wd:Cd(t,e,l,i,s,o);break;case c2:{Cd(t,e,l.state1,i,s,o),Cd(t,e,l.state2,i,s,o);const u={id:"edge"+Zo,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:Xx,labelStyle:"",label:_n.sanitizeText(l.description,ht()),arrowheadStyle:Kx,labelpos:Zx,labelType:Qx,thickness:Jx,classes:Wx};t.setEdge(l.state1.id,l.state2.id,u,Zo),Zo++}break}})},v2=(t,e=$G)=>{let n=e;if(t.doc)for(let i=0;i<t.doc.length;i++){const s=t.doc[i];s.stmt==="dir"&&(n=s.value)}return n},zX={setConf:VX,getClasses:YX,draw:function(t,e,n,i){C.info("Drawing state diagram (v2)",e),Hp={},i.db.getDirection();const{securityLevel:s,state:o}=ht(),l=o.nodeSpacing||50,u=o.rankSpacing||50;C.info(i.db.getRootDocV2()),i.db.extract(i.db.getRootDocV2()),C.info(i.db.getRootDocV2());const f=i.db.getStates(),g=new qr({multigraph:!0,compound:!0}).setGraph({rankdir:v2(i.db.getRootDocV2()),nodesep:l,ranksep:u,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Cd(g,void 0,i.db.getRootDocV2(),f,i.db,!0);let _;s==="sandbox"&&(_=re("#i"+e));const k=re(s==="sandbox"?_.nodes()[0].contentDocument.body:"body"),w=k.select(`[id="${e}"]`),x=k.select("#"+e+" g");yy(x,g,["barb"],Fu,e);const M=8;Tn.insertTitle(w,"statediagramTitleText",o.titleTopMargin,i.db.getDiagramTitle());const R=w.node().getBBox(),B=R.width+M*2,U=R.height+M*2;w.attr("class",Fu);const Y=w.node().getBBox();Ws(w,U,B,o.useMaxWidth);const X=`${Y.x-M} ${Y.y-M} ${B} ${U}`;C.debug(`viewBox ${X}`),w.attr("viewBox",X);const Q=document.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const at of Q){const lt=at.getBBox(),J=document.createElementNS("http://www.w3.org/2000/svg",zp);J.setAttribute("rx",0),J.setAttribute("ry",0),J.setAttribute("width",lt.width),J.setAttribute("height",lt.height),at.insertBefore(J,at.firstChild)}}};var b2=function(){var t=function(R,B,U,Y){for(U=U||{},Y=R.length;Y--;U[R[Y]]=B);return U},e=[1,2],n=[1,5],i=[6,9,11,17,18,20,22,23,24,26],s=[1,15],o=[1,16],l=[1,17],u=[1,18],f=[1,19],g=[1,20],_=[1,24],k=[4,6,9,11,17,18,20,22,23,24,26],w={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(B,U,Y,X,Q,at,lt){var J=at.length-1;switch(Q){case 1:return at[J-1];case 3:this.$=[];break;case 4:at[J-1].push(at[J]),this.$=at[J-1];break;case 5:case 6:this.$=at[J];break;case 7:case 8:this.$=[];break;case 11:X.setDiagramTitle(at[J].substr(6)),this.$=at[J].substr(6);break;case 12:this.$=at[J].trim(),X.setAccTitle(this.$);break;case 13:case 14:this.$=at[J].trim(),X.setAccDescription(this.$);break;case 15:X.addSection(at[J].substr(8)),this.$=at[J].substr(8);break;case 16:X.addTask(at[J-1],at[J]),this.$="task";break;case 18:X.parseDirective("%%{","open_directive");break;case 19:X.parseDirective(at[J],"type_directive");break;case 20:at[J]=at[J].trim().replace(/'/g,'"'),X.parseDirective(at[J],"arg_directive");break;case 21:X.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:e,7:3,12:4,26:n},{1:[3]},t(i,[2,3],{5:6}),{3:7,4:e,7:3,12:4,26:n},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:s,18:o,20:l,22:u,23:f,24:g,26:n},{1:[2,2]},{14:22,15:[1,23],29:_},t([15,29],[2,19]),t(i,[2,8],{1:[2,1]}),t(i,[2,4]),{7:21,10:25,12:4,17:s,18:o,20:l,22:u,23:f,24:g,26:n},t(i,[2,6]),t(i,[2,7]),t(i,[2,11]),{19:[1,26]},{21:[1,27]},t(i,[2,14]),t(i,[2,15]),{25:[1,28]},t(i,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},t(i,[2,5]),t(i,[2,12]),t(i,[2,13]),t(i,[2,16]),t(k,[2,9]),{14:32,29:_},{29:[2,20]},{11:[1,33]},t(k,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(B,U){if(U.recoverable)this.trace(B);else{var Y=new Error(B);throw Y.hash=U,Y}},parse:function(B){var U=this,Y=[0],X=[],Q=[null],at=[],lt=this.table,J="",ot=0,q=0,H=2,$=1,O=at.slice.call(arguments,1),W=Object.create(this.lexer),A={yy:{}};for(var mt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,mt)&&(A.yy[mt]=this.yy[mt]);W.setInput(B,A.yy),A.yy.lexer=W,A.yy.parser=this,typeof W.yylloc>"u"&&(W.yylloc={});var I=W.yylloc;at.push(I);var It=W.options&&W.options.ranges;typeof A.yy.parseError=="function"?this.parseError=A.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function le(){var st;return st=X.pop()||W.lex()||$,typeof st!="number"&&(st instanceof Array&&(X=st,st=X.pop()),st=U.symbols_[st]||st),st}for(var qt,ut,St,bt,kt={},Lt,Ht,pt,_e;;){if(ut=Y[Y.length-1],this.defaultActions[ut]?St=this.defaultActions[ut]:((qt===null||typeof qt>"u")&&(qt=le()),St=lt[ut]&&lt[ut][qt]),typeof St>"u"||!St.length||!St[0]){var tt="";_e=[];for(Lt in lt[ut])this.terminals_[Lt]&&Lt>H&&_e.push("'"+this.terminals_[Lt]+"'");W.showPosition?tt="Parse error on line "+(ot+1)+`:
`+W.showPosition()+`
Expecting `+_e.join(", ")+", got '"+(this.terminals_[qt]||qt)+"'":tt="Parse error on line "+(ot+1)+": Unexpected "+(qt==$?"end of input":"'"+(this.terminals_[qt]||qt)+"'"),this.parseError(tt,{text:W.match,token:this.terminals_[qt]||qt,line:W.yylineno,loc:I,expected:_e})}if(St[0]instanceof Array&&St.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ut+", token: "+qt);switch(St[0]){case 1:Y.push(qt),Q.push(W.yytext),at.push(W.yylloc),Y.push(St[1]),qt=null,q=W.yyleng,J=W.yytext,ot=W.yylineno,I=W.yylloc;break;case 2:if(Ht=this.productions_[St[1]][1],kt.$=Q[Q.length-Ht],kt._$={first_line:at[at.length-(Ht||1)].first_line,last_line:at[at.length-1].last_line,first_column:at[at.length-(Ht||1)].first_column,last_column:at[at.length-1].last_column},It&&(kt._$.range=[at[at.length-(Ht||1)].range[0],at[at.length-1].range[1]]),bt=this.performAction.apply(kt,[J,q,ot,A.yy,St[1],Q,at].concat(O)),typeof bt<"u")return bt;Ht&&(Y=Y.slice(0,-1*Ht*2),Q=Q.slice(0,-1*Ht),at=at.slice(0,-1*Ht)),Y.push(this.productions_[St[1]][0]),Q.push(kt.$),at.push(kt._$),pt=lt[Y[Y.length-2]][Y[Y.length-1]],Y.push(pt);break;case 3:return!0}}return!0}},x=function(){var R={EOF:1,parseError:function(U,Y){if(this.yy.parser)this.yy.parser.parseError(U,Y);else throw new Error(U)},setInput:function(B,U){return this.yy=U||this.yy||{},this._input=B,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var B=this._input[0];this.yytext+=B,this.yyleng++,this.offset++,this.match+=B,this.matched+=B;var U=B.match(/(?:\r\n?|\n).*/g);return U?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),B},unput:function(B){var U=B.length,Y=B.split(/(?:\r\n?|\n)/g);this._input=B+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-U),this.offset-=U;var X=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Q=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===X.length?this.yylloc.first_column:0)+X[X.length-Y.length].length-Y[0].length:this.yylloc.first_column-U},this.options.ranges&&(this.yylloc.range=[Q[0],Q[0]+this.yyleng-U]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(B){this.unput(this.match.slice(B))},pastInput:function(){var B=this.matched.substr(0,this.matched.length-this.match.length);return(B.length>20?"...":"")+B.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var B=this.match;return B.length<20&&(B+=this._input.substr(0,20-B.length)),(B.substr(0,20)+(B.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var B=this.pastInput(),U=new Array(B.length+1).join("-");return B+this.upcomingInput()+`
`+U+"^"},test_match:function(B,U){var Y,X,Q;if(this.options.backtrack_lexer&&(Q={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Q.yylloc.range=this.yylloc.range.slice(0))),X=B[0].match(/(?:\r\n?|\n).*/g),X&&(this.yylineno+=X.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:X?X[X.length-1].length-X[X.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+B[0].length},this.yytext+=B[0],this.match+=B[0],this.matches=B,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(B[0].length),this.matched+=B[0],Y=this.performAction.call(this,this.yy,this,U,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var at in Q)this[at]=Q[at];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var B,U,Y,X;this._more||(this.yytext="",this.match="");for(var Q=this._currentRules(),at=0;at<Q.length;at++)if(Y=this._input.match(this.rules[Q[at]]),Y&&(!U||Y[0].length>U[0].length)){if(U=Y,X=at,this.options.backtrack_lexer){if(B=this.test_match(Y,Q[at]),B!==!1)return B;if(this._backtrack){U=!1;continue}else return!1}else if(!this.options.flex)break}return U?(B=this.test_match(U,Q[X]),B!==!1?B:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var U=this.next();return U||this.lex()},begin:function(U){this.conditionStack.push(U)},popState:function(){var U=this.conditionStack.length-1;return U>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(U){return U=this.conditionStack.length-1-Math.abs(U||0),U>=0?this.conditionStack[U]:"INITIAL"},pushState:function(U){this.begin(U)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(U,Y,X,Q){switch(X){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return R}();w.lexer=x;function M(){this.yy={}}return M.prototype=w,w.Parser=M,new M}();b2.parser=b2;const HX=b2,WX=t=>t.match(/^\s*journey/)!==null;let Vu="";const k2=[],Sd=[],Ad=[],jX=function(t,e,n){Sr.parseDirective(this,t,e,n)},qX=function(){k2.length=0,Sd.length=0,Vu="",Ad.length=0,js()},GX=function(t){Vu=t,k2.push(t)},XX=function(){return k2},KX=function(){let t=t6();const e=100;let n=0;for(;!t&&n<e;)t=t6(),n++;return Sd.push(...Ad),Sd},ZX=function(){const t=[];return Sd.forEach(n=>{n.people&&t.push(...n.people)}),[...new Set(t)].sort()},QX=function(t,e){const n=e.substr(1).split(":");let i=0,s=[];n.length===1?(i=Number(n[0]),s=[]):(i=Number(n[0]),s=n[1].split(","));const o=s.map(u=>u.trim()),l={section:Vu,type:Vu,people:o,task:t,score:i};Ad.push(l)},JX=function(t){const e={section:Vu,type:Vu,description:t,task:t,classes:[]};Sd.push(e)},t6=function(){const t=function(n){return Ad[n].processed};let e=!0;for(const[n,i]of Ad.entries())t(n),e=e&&i.processed;return e},e6={parseDirective:jX,getConfig:()=>ht().journey,clear:qX,setDiagramTitle:Za,getDiagramTitle:Qa,setAccTitle:xs,getAccTitle:qs,setAccDescription:Gs,getAccDescription:Xs,addSection:GX,getSections:XX,getTasks:KX,addTask:QX,addTaskOrg:JX,getActors:function(){return ZX()}},Wp=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.class!==void 0&&n.attr("class",e.class),n},tK=function(t,e){const i=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),s=t.append("g");s.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),s.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function o(f){const g=zg().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);f.append("path").attr("class","mouth").attr("d",g).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}function l(f){const g=zg().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);f.append("path").attr("class","mouth").attr("d",g).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}function u(f){f.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return e.score>3?o(s):e.score<3?l(s):u(s),i},n6=function(t,e){const n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),n.class!==void 0&&n.attr("class",n.class),e.title!==void 0&&n.append("title").text(e.title),n},r6=function(t,e){const n=e.text.replace(/<br\s*\/?>/gi," "),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.attr("class","legend"),i.style("text-anchor",e.anchor),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.text(n),i},eK=function(t,e){function n(s,o,l,u,f){return s+","+o+" "+(s+l)+","+o+" "+(s+l)+","+(o+u-f)+" "+(s+l-f*1.2)+","+(o+u)+" "+s+","+(o+u)}const i=t.append("polygon");i.attr("points",n(e.x,e.y,50,20,7)),i.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,r6(t,e)},nK=function(t,e,n){const i=t.append("g"),s=w2();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=n.width,s.height=n.height,s.class="journey-section section-type-"+e.num,s.rx=3,s.ry=3,Wp(i,s),s6(n)(e.text,i,s.x,s.y,s.width,s.height,{class:"journey-section section-type-"+e.num},n,e.colour)};let i6=-1;const rK=function(t,e,n){const i=e.x+n.width/2,s=t.append("g");i6++;const o=300+5*30;s.append("line").attr("id","task"+i6).attr("x1",i).attr("y1",e.y).attr("x2",i).attr("y2",o).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),tK(s,{cx:i,cy:300+(5-e.score)*30,score:e.score});const l=w2();l.x=e.x,l.y=e.y,l.fill=e.fill,l.width=n.width,l.height=n.height,l.class="task task-type-"+e.num,l.rx=3,l.ry=3,Wp(s,l);let u=e.x+14;e.people.forEach(f=>{const g=e.actors[f].color,_={cx:u,cy:e.y,r:7,fill:g,stroke:"#000",title:f,pos:e.actors[f].position};n6(s,_),u+=10}),s6(n)(e.task,s,l.x,l.y,l.width,l.height,{class:"task"},n,e.colour)},iK=function(t,e){Wp(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},sK=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},w2=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},s6=function(){function t(s,o,l,u,f,g,_,k){const w=o.append("text").attr("x",l+f/2).attr("y",u+g/2+5).style("font-color",k).style("text-anchor","middle").text(s);i(w,_)}function e(s,o,l,u,f,g,_,k,w){const{taskFontSize:x,taskFontFamily:M}=k,R=s.split(/<br\s*\/?>/gi);for(let B=0;B<R.length;B++){const U=B*x-x*(R.length-1)/2,Y=o.append("text").attr("x",l+f/2).attr("y",u).attr("fill",w).style("text-anchor","middle").style("font-size",x).style("font-family",M);Y.append("tspan").attr("x",l+f/2).attr("dy",U).text(R[B]),Y.attr("y",u+g/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(Y,_)}}function n(s,o,l,u,f,g,_,k){const w=o.append("switch"),M=w.append("foreignObject").attr("x",l).attr("y",u).attr("width",f).attr("height",g).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");M.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(s),e(s,w,l,u,f,g,_,k),i(M,_)}function i(s,o){for(const l in o)l in o&&s.attr(l,o[l])}return function(s){return s.textPlacement==="fo"?n:s.textPlacement==="old"?t:e}}(),Ld={drawRect:Wp,drawCircle:n6,drawSection:nK,drawText:r6,drawLabel:eK,drawTask:rK,drawBackgroundRect:iK,getTextObj:sK,getNoteRect:w2,initGraphics:function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")}},aK=function(t){Object.keys(t).forEach(function(n){jp[n]=t[n]})},po={};function oK(t){const e=ht().journey;let n=60;Object.keys(po).forEach(i=>{const s=po[i].color,o={cx:20,cy:n,r:7,fill:s,stroke:"#000",pos:po[i].position};Ld.drawCircle(t,o);const l={x:40,y:n+7,fill:"#666",text:i,textMargin:e.boxTextMargin|5};Ld.drawText(t,l),n+=20})}const jp=ht().journey,Ql=jp.leftMargin,lK=function(t,e,n,i){const s=ht().journey;i.db.clear(),i.parser.parse(t+`
`);const o=ht().securityLevel;let l;o==="sandbox"&&(l=re("#i"+e));const u=re(o==="sandbox"?l.nodes()[0].contentDocument.body:"body");Es.init();const f=u.select("#"+e);Ld.initGraphics(f);const g=i.db.getTasks(),_=i.db.getDiagramTitle(),k=i.db.getActors();for(const U in po)delete po[U];let w=0;k.forEach(U=>{po[U]={color:s.actorColours[w%s.actorColours.length],position:w},w++}),oK(f),Es.insert(0,0,Ql,Object.keys(po).length*50),cK(f,g,0);const x=Es.getBounds();_&&f.append("text").text(_).attr("x",Ql).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const M=x.stopy-x.starty+2*s.diagramMarginY,R=Ql+x.stopx+2*s.diagramMarginX;Ws(f,M,R,s.useMaxWidth),f.append("line").attr("x1",Ql).attr("y1",s.height*4).attr("x2",R-Ql-4).attr("y2",s.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const B=_?70:0;f.attr("viewBox",`${x.startx} -25 ${R} ${M+B}`),f.attr("preserveAspectRatio","xMinYMin meet"),f.attr("height",M+B+25)},Es={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(t,e,n,i){t[e]===void 0?t[e]=n:t[e]=i(n,t[e])},updateBounds:function(t,e,n,i){const s=ht().journey,o=this;let l=0;function u(f){return function(_){l++;const k=o.sequenceItems.length-l+1;o.updateVal(_,"starty",e-k*s.boxMargin,Math.min),o.updateVal(_,"stopy",i+k*s.boxMargin,Math.max),o.updateVal(Es.data,"startx",t-k*s.boxMargin,Math.min),o.updateVal(Es.data,"stopx",n+k*s.boxMargin,Math.max),f!=="activation"&&(o.updateVal(_,"startx",t-k*s.boxMargin,Math.min),o.updateVal(_,"stopx",n+k*s.boxMargin,Math.max),o.updateVal(Es.data,"starty",e-k*s.boxMargin,Math.min),o.updateVal(Es.data,"stopy",i+k*s.boxMargin,Math.max))}}this.sequenceItems.forEach(u())},insert:function(t,e,n,i){const s=Math.min(t,n),o=Math.max(t,n),l=Math.min(e,i),u=Math.max(e,i);this.updateVal(Es.data,"startx",s,Math.min),this.updateVal(Es.data,"starty",l,Math.min),this.updateVal(Es.data,"stopx",o,Math.max),this.updateVal(Es.data,"stopy",u,Math.max),this.updateBounds(s,l,o,u)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},x2=jp.sectionFills,a6=jp.sectionColours,cK=function(t,e,n){const i=ht().journey;let s="";const o=i.height*2+i.diagramMarginY,l=n+o;let u=0,f="#CCC",g="black",_=0;for(const[k,w]of e.entries()){if(s!==w.section){f=x2[u%x2.length],_=u%x2.length,g=a6[u%a6.length];const M={x:k*i.taskMargin+k*i.width+Ql,y:50,text:w.section,fill:f,num:_,colour:g};Ld.drawSection(t,M,i),s=w.section,u++}const x=w.people.reduce((M,R)=>(po[R]&&(M[R]=po[R]),M),{});w.x=k*i.taskMargin+k*i.width+Ql,w.y=l,w.width=i.diagramMarginX,w.height=i.diagramMarginY,w.colour=g,w.fill=f,w.num=_,w.actors=x,Ld.drawTask(t,w,i),Es.insert(w.x,w.y,w.x+w.width+i.taskMargin,300+5*30)}},o6={setConf:aK,draw:lK};let l6={};const T2={setConf:function(t){l6={...l6,...t}},draw:(t,e,n)=>{try{C.debug(`Renering svg for syntax error
`);const i=re("#"+e),s=i.append("g");s.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),s.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),s.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),s.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),s.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),s.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),s.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),s.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+n),i.attr("height",100),i.attr("width",500),i.attr("viewBox","768 0 912 512")}catch(i){C.error("Error while rendering info diagram"),C.error(VD(i))}}};let c6=!1;const Id=()=>{c6||(c6=!0,ui("error",{db:{clear:()=>{}},styles:T4,renderer:T2,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},t=>t.toLowerCase().trim()==="error"),ui("c4",{parser:UR,db:z4,renderer:Q4,styles:M4,init:t=>{Q4.setConf(t.c4)}},zR),ui("class",{parser:J4,db:gu,renderer:cH,styles:Fh,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,gu.clear()}},LB),ui("classDiagram",{parser:J4,db:gu,renderer:oW,styles:Fh,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,gu.clear()}},IB),ui("er",{parser:lW,db:fW,renderer:SW,styles:x4},cW),ui("gantt",{parser:jj,db:qy,renderer:Tq,styles:E4},qj),ui("info",{parser:Eq,db:Cq,renderer:Sq,styles:C4},Aq),ui("pie",{parser:Lq,db:Mq,renderer:Nq,styles:S4},Iq),ui("requirement",{parser:Oq,db:Rq,renderer:Uq,styles:A4},Dq),ui("sequence",{parser:zq,db:mx,renderer:Sx,styles:L4,init:t=>{if(t.sequence||(t.sequence={}),t.sequence.arrowMarkerAbsolute=t.arrowMarkerAbsolute,"sequenceDiagram"in t)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");mx.setWrap(t.wrap),Sx.setConf(t.sequence)}},Hq),ui("state",{parser:Ax,db:fo,renderer:TX,styles:B1,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,fo.clear()}},FG),ui("stateDiagram",{parser:Ax,db:fo,renderer:zX,styles:B1,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,fo.clear()}},VG),ui("journey",{parser:HX,db:e6,renderer:o6,styles:I4,init:t=>{o6.setConf(t.journey),e6.clear()}},WX),ui("flowchart",{parser:mw,db:oo,renderer:Ry,styles:R1,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Hj.setConf(t.flowchart),oo.clear(),oo.setGen("gen-1")}},AW),ui("flowchart-v2",{parser:mw,db:oo,renderer:Ry,styles:R1,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,_4({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),Ry.setConf(t.flowchart),oo.clear(),oo.setGen("gen-2")}},LW),ui("gitGraph",{parser:fR,db:OR,renderer:YR,styles:$R},pR))};class E2{constructor(e,n){y(this,"type","graph"),y(this,"parser"),y(this,"renderer"),y(this,"db"),y(this,"detectTypeFailed",!1);var i,s;this.txt=e;const o=ht();this.txt=e;try{this.type=om(e,o)}catch(f){this.handleError(f,n),this.type="error",this.detectTypeFailed=!0}const l=O4(this.type);C.debug("Type "+this.type),this.db=l.db,(s=(i=this.db).clear)==null||s.call(i),this.renderer=l.renderer,this.parser=l.parser;const u=this.parser.parse.bind(this.parser);this.parser.parse=f=>u(yO(f,this.db)),this.parser.parser.yy=this.db,l.init&&(l.init(o),C.debug("Initialized diagram "+this.type,o)),this.txt+=`
`,this.parse(this.txt,n)}parse(e,n){var i,s;if(this.detectTypeFailed)return!1;try{return e=e+`
`,(s=(i=this.db).clear)==null||s.call(i),this.parser.parse(e),!0}catch(o){this.handleError(o,n)}return!1}handleError(e,n){if(n===void 0)throw e;if(fm(e)){n(e.str,e.hash);return}n(e)}getParser(){return this.parser}getType(){return this.type}}const C2=(t,e)=>{const n=om(t,ht());try{O4(n)}catch{const s=bO(n);if(!s)throw new Error(`Diagram ${n} not found.`);return s().then(({diagram:o})=>(ui(n,o,void 0),new E2(t,e)))}return new E2(t,e)},S2=E2;function uK(t,e){Eu(e)||t.attr("aria-roledescription",e)}function hK(t,e,n,i){if(t.insert!==void 0)if(e||n){if(n){const s="chart-desc-"+i;t.attr("aria-describedby",s),t.insert("desc",":first-child").attr("id",s).text(n)}if(e){const s="chart-title-"+i;t.attr("aria-labelledby",s),t.insert("title",":first-child").attr("id",s).text(e)}}else return}const A2=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],u6="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",h6="sandbox",d6="loose",dK="http://www.w3.org/2000/svg",f6="http://www.w3.org/1999/xlink",p6="http://www.w3.org/1999/xhtml",fK="100%",pK="100%",gK="border:0;margin:0;",mK="margin:0",yK="allow-top-navigation-by-user-activation allow-popups",_K='The "iframe" tag is not supported by your browser.',g6=["foreignobject"],m6=["dominant-baseline"];function vK(t,e){return Id(),new S2(t,e).parse(t,e)}async function bK(t,e){return Id(),(await C2(t,e)).parse(t,e)}const y6=function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const i=n.substring(1,n.length-1);return/^\+?\d+$/.test(i)?"ﬂ°°"+i+"¶ß":"ﬂ°"+i+"¶ß"}),e},L2=function(t){let e=t;return e=e.replace(/ﬂ°°/g,"&#"),e=e.replace(/ﬂ°/g,"&"),e=e.replace(/¶ß/g,";"),e},_6=(t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,kK=(t,e,n={})=>{var i;let s="";if(t.themeCSS!==void 0&&(s+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(s+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(s+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),!Eu(n)&&A2.includes(e)){const f=t.htmlLabels||((i=t.flowchart)==null?void 0:i.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const g in n){const _=n[g];Eu(_.styles)||f.forEach(k=>{s+=_6(_.id,k,_.styles)}),Eu(_.textStyles)||(s+=_6(_.id,"tspan",_.textStyles))}}return s},v6=(t,e,n,i)=>{const s=kK(t,e,n),o=cR(e,s,t.themeVariables);return bm(QD(`${i}{${o}}`),tR)},b6=(t="",e,n)=>{let i=t;return!n&&!e&&(i=i.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),i=L2(i),i=i.replace(/<br>/g,"<br/>"),i},k6=(t="",e)=>{const n=e?e.viewBox.baseVal.height+"px":pK,i=btoa('<body style="'+mK+'">'+t+"</body>");return`<iframe style="width:${fK};height:${n};${gK}" src="data:text/html;base64,${i}" sandbox="${yK}">
  ${_K}
</iframe>`},qp=(t,e,n,i,s)=>{const o=t.append("div");o.attr("id",n),i&&o.attr("style",i);const l=o.append("svg").attr("id",e).attr("width","100%").attr("xmlns",dK);return s&&l.attr("xmlns:xlink",s),l.append("g"),t};function Gp(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const w6=(t,e,n,i)=>{var s,o,l;(s=t.getElementById(e))==null||s.remove(),(o=t.getElementById(n))==null||o.remove(),(l=t.getElementById(i))==null||l.remove()},wK=function(t,e,n,i){var s,o,l,u,f;Id(),Ph();const g=Tn.detectInit(e);g&&(Fl(g),km(g));const _=ht();C.debug(_),e.length>((s=_==null?void 0:_.maxTextSize)!=null?s:5e4)&&(e=u6),e=e.replace(/\r\n?/g,`
`);const k="#"+t,w="i"+t,x="#"+w,M="d"+t,R="#"+M;let B=re("body");const U=_.securityLevel===h6,Y=_.securityLevel===d6,X=_.fontFamily;if(i!==void 0){if(i&&(i.innerHTML=""),U){const qt=Gp(re(i),w);B=re(qt.nodes()[0].contentDocument.body),B.node().style.margin=0}else B=re(i);qp(B,t,M,`font-family: ${X}`,f6)}else{if(w6(document,t,M,w),U){const qt=Gp(re("body"),w);B=re(qt.nodes()[0].contentDocument.body),B.node().style.margin=0}else B=re("body");qp(B,t,M)}e=y6(e);let Q,at;try{if(Q=C2(e),"then"in Q)throw new Error("Diagram is a promise. Use renderAsync.")}catch(qt){Q=new S2("error"),at=qt}const lt=B.select(R).node(),J=Q.type,ot=lt.firstChild,q=ot.firstChild,H=A2.includes(J)?Q.renderer.getClasses(e,Q):{},$=v6(_,J,H,k),O=document.createElement("style");O.innerHTML=$,ot.insertBefore(O,q);try{Q.renderer.draw(e,t,N1.version,Q)}catch(qt){throw T2.draw(e,t,N1.version),qt}const W=B.select(`${R} svg`),A=(l=(o=Q.db).getAccTitle)==null?void 0:l.call(o),mt=(f=(u=Q.db).getAccDescription)==null?void 0:f.call(u);x6(J,W,A,mt),B.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",p6);let I=B.select(R).node().innerHTML;if(C.debug("config.arrowMarkerAbsolute",_.arrowMarkerAbsolute),I=b6(I,U,li(_.arrowMarkerAbsolute)),U){const qt=B.select(R+" svg").node();I=k6(I,qt)}else Y||(I=Ah.sanitize(I,{ADD_TAGS:g6,ADD_ATTR:m6}));if(n!==void 0)switch(J){case"flowchart":case"flowchart-v2":n(I,oo.bindFunctions);break;case"gantt":n(I,qy.bindFunctions);break;case"class":case"classDiagram":n(I,gu.bindFunctions);break;default:n(I)}else C.debug("CB = undefined!");yx();const le=re(U?x:R).node();if(le&&"remove"in le&&le.remove(),at)throw at;return I},xK=async function(t,e,n,i){var s,o,l,u,f;Id(),Ph();const g=Tn.detectInit(e);g&&(Fl(g),km(g));const _=ht();C.debug(_),e.length>((s=_==null?void 0:_.maxTextSize)!=null?s:5e4)&&(e=u6),e=e.replace(/\r\n?/g,`
`);const k="#"+t,w="i"+t,x="#"+w,M="d"+t,R="#"+M;let B=re("body");const U=_.securityLevel===h6,Y=_.securityLevel===d6,X=_.fontFamily;if(i!==void 0){if(i&&(i.innerHTML=""),U){const qt=Gp(re(i),w);B=re(qt.nodes()[0].contentDocument.body),B.node().style.margin=0}else B=re(i);qp(B,t,M,`font-family: ${X}`,f6)}else{if(w6(document,t,M,w),U){const qt=Gp(re("body"),w);B=re(qt.nodes()[0].contentDocument.body),B.node().style.margin=0}else B=re("body");qp(B,t,M)}e=y6(e);let Q,at;try{Q=await C2(e)}catch(qt){Q=new S2("error"),at=qt}const lt=B.select(R).node(),J=Q.type,ot=lt.firstChild,q=ot.firstChild,H=A2.includes(J)?Q.renderer.getClasses(e,Q):{},$=v6(_,J,H,k),O=document.createElement("style");O.innerHTML=$,ot.insertBefore(O,q);try{await Q.renderer.draw(e,t,N1.version,Q)}catch(qt){throw T2.draw(e,t,N1.version),qt}const W=B.select(`${R} svg`),A=(l=(o=Q.db).getAccTitle)==null?void 0:l.call(o),mt=(f=(u=Q.db).getAccDescription)==null?void 0:f.call(u);x6(J,W,A,mt),B.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",p6);let I=B.select(R).node().innerHTML;if(C.debug("config.arrowMarkerAbsolute",_.arrowMarkerAbsolute),I=b6(I,U,li(_.arrowMarkerAbsolute)),U){const qt=B.select(R+" svg").node();I=k6(I,qt)}else Y||(I=Ah.sanitize(I,{ADD_TAGS:g6,ADD_ATTR:m6}));if(n!==void 0)switch(J){case"flowchart":case"flowchart-v2":n(I,oo.bindFunctions);break;case"gantt":n(I,qy.bindFunctions);break;case"class":case"classDiagram":n(I,gu.bindFunctions);break;default:n(I)}else C.debug("CB = undefined!");yx();const le=re(U?x:R).node();if(le&&"remove"in le&&le.remove(),at)throw at;return I};let Jl={};const TK=function(t,e,n,i){try{if(e!==void 0)switch(e=e.trim(),n){case"open_directive":Jl={};break;case"type_directive":if(!Jl)throw new Error("currentDirective is undefined");Jl.type=e.toLowerCase();break;case"arg_directive":if(!Jl)throw new Error("currentDirective is undefined");Jl.args=JSON.parse(e);break;case"close_directive":EK(t,Jl,i),Jl=void 0;break}}catch(s){C.error(`Error while rendering sequenceDiagram directive: ${e} jison context: ${n}`),C.error(s.message)}},EK=function(t,e,n){switch(C.debug(`Directive type=${e.type} with args:`,e.args),e.type){case"init":case"initialize":{["config"].forEach(i=>{e.args[i]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),e.args[n]=e.args[i],delete e.args[i])}),C.debug("sanitize in handleDirective",e.args),Fl(e.args),C.debug("sanitize in handleDirective (done)",e.args),km(e.args);break}case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap(e.type==="wrap");break;case"themeCss":C.warn("themeCss encountered");break;default:C.warn(`Unhandled directive: source: '%%{${e.type}: ${JSON.stringify(e.args?e.args:{})}}%%`,e);break}};function CK(t={}){var e;t!=null&&t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={fontFamily:t.fontFamily}),nR(t),t!=null&&t.theme&&t.theme in qa?t.themeVariables=qa[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=qa.default.getThemeVariables(t.themeVariables));const n=typeof t=="object"?eR(t):y4();V(n.logLevel),Id()}function x6(t,e,n,i){uK(e,t),hK(e,n,i,e.attr("id"))}const Sr=Object.freeze({render:wK,renderAsync:xK,parse:vK,parseAsync:bK,parseDirective:TK,initialize:CK,getConfig:ht,setConfig:_4,getSiteConfig:y4,updateSiteConfig:rR,reset:()=>{Ph()},globalReset:()=>{Ph(fu)},defaultConfig:fu});V(ht().logLevel),Ph(ht());let T6=!1;const SK=async function(t,e,n){try{T6?await S6(t,e,n):C6(t,e,n)}catch(i){C.warn("Syntax Error rendering"),fm(i)&&C.warn(i.str),Cs.parseError&&Cs.parseError(i)}},E6=(t,e,n)=>{C.warn(t),fm(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},C6=function(t,e,n){const i=Sr.getConfig();t&&(Cs.sequenceConfig=t),C.debug(`${n?"":"No "}Callback function found`);let s;if(e===void 0)s=document.querySelectorAll(".mermaid");else if(typeof e=="string")s=document.querySelectorAll(e);else if(e instanceof HTMLElement)s=[e];else if(e instanceof NodeList)s=e;else throw new Error("Invalid argument nodes for mermaid.init");C.debug(`Found ${s.length} diagrams`),(t==null?void 0:t.startOnLoad)!==void 0&&(C.debug("Start On Load: "+(t==null?void 0:t.startOnLoad)),Sr.updateSiteConfig({startOnLoad:t==null?void 0:t.startOnLoad}));const o=new Tn.initIdGenerator(i.deterministicIds,i.deterministicIDSeed);let l;const u=[];for(const f of Array.from(s)){C.info("Rendering diagram: "+f.id);/*! Check if previously processed */if(f.getAttribute("data-processed"))continue;f.setAttribute("data-processed","true");const g=`mermaid-${o.next()}`;l=f.innerHTML,l=Tn.entityDecode(l).trim().replace(/<br\s*\/?>/gi,"<br/>");const _=Tn.detectInit(l);_&&C.debug("Detected early reinit: ",_);try{Sr.render(g,l,(k,w)=>{f.innerHTML=k,n!==void 0&&n(g),w&&w(f)},f)}catch(k){E6(k,u,Cs.parseError)}}if(u.length>0)throw u[0]},AK=t=>{for(const{id:e,detector:n,loader:i}of t)Qk(e,n,i)},LK=async t=>{C.debug(`Loading ${t.length} external diagrams`);const n=(await Promise.allSettled(t.map(async({id:i,detector:s,loader:o})=>{const{diagram:l}=await o();ui(i,l,s)}))).filter(i=>i.status==="rejected");if(n.length>0){C.error(`Failed to load ${n.length} external diagrams`);for(const i of n)C.error(i);throw new Error(`Failed to load ${n.length} external diagrams`)}},S6=async function(t,e,n){const i=Sr.getConfig();t&&(Cs.sequenceConfig=t),C.debug(`${n?"":"No "}Callback function found`);let s;if(e===void 0)s=document.querySelectorAll(".mermaid");else if(typeof e=="string")s=document.querySelectorAll(e);else if(e instanceof HTMLElement)s=[e];else if(e instanceof NodeList)s=e;else throw new Error("Invalid argument nodes for mermaid.init");C.debug(`Found ${s.length} diagrams`),(t==null?void 0:t.startOnLoad)!==void 0&&(C.debug("Start On Load: "+(t==null?void 0:t.startOnLoad)),Sr.updateSiteConfig({startOnLoad:t==null?void 0:t.startOnLoad}));const o=new Tn.initIdGenerator(i.deterministicIds,i.deterministicIDSeed);let l;const u=[];for(const f of Array.from(s)){C.info("Rendering diagram: "+f.id);/*! Check if previously processed */if(f.getAttribute("data-processed"))continue;f.setAttribute("data-processed","true");const g=`mermaid-${o.next()}`;l=f.innerHTML,l=Tn.entityDecode(l).trim().replace(/<br\s*\/?>/gi,"<br/>");const _=Tn.detectInit(l);_&&C.debug("Detected early reinit: ",_);try{await Sr.renderAsync(g,l,(k,w)=>{f.innerHTML=k,n!==void 0&&n(g),w&&w(f)},f)}catch(k){E6(k,u,Cs.parseError)}}if(u.length>0)throw u[0]},IK=function(t){Sr.initialize(t)},MK=async(t,{lazyLoad:e=!0}={})=>{e?AK(t):await LK(t),T6=!0},A6=function(){if(Cs.startOnLoad){const{startOnLoad:t}=Sr.getConfig();t&&Cs.init()}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",A6,!1)}const NK=function(t){Cs.parseError=t},OK=t=>Sr.parse(t,Cs.parseError),Xp=[];let I2=!1;const L6=async()=>{if(!I2){for(I2=!0;Xp.length>0;){const t=Xp.shift();if(t)try{await t()}catch(e){C.error("Error executing queue",e)}}I2=!1}},DK=t=>new Promise((e,n)=>{const i=()=>new Promise((s,o)=>{Sr.parseAsync(t,Cs.parseError).then(l=>{s(l),e(l)},l=>{C.error("Error parsing",l),o(l),n(l)})});Xp.push(i),L6()}),RK=(t,e,n,i)=>new Promise((s,o)=>{const l=()=>new Promise((u,f)=>{Sr.renderAsync(t,e,n,i).then(g=>{u(g),s(g)},g=>{C.error("Error parsing",g),f(g),o(g)})});Xp.push(l),L6()}),Cs={startOnLoad:!0,diagrams:{},mermaidAPI:Sr,parse:OK,parseAsync:DK,render:Sr.render,renderAsync:RK,init:SK,initThrowsErrors:C6,initThrowsErrorsAsync:S6,registerExternalDiagrams:MK,initialize:IK,parseError:void 0,contentLoaded:A6,setParseErrorHandler:NK};return Cs})})(oct,F0);const V0=HK(F0);let lct=r=>crypto.getRandomValues(new Uint8Array(r)),cct=(r,a,h)=>{let p=(2<<Math.log(r.length-1)/Math.LN2)-1,y=-~(1.6*p*a/r.length);return(b=a)=>{let E="";for(;;){let S=h(y),L=y;for(;L--;)if(E+=r[S[L]&p]||"",E.length===b)return E}}},uct=(r,a=21)=>cct(r,a,lct);const hct=typeof atob=="function",wv=typeof Buffer=="function",IT=typeof TextDecoder=="function"?new TextDecoder:void 0;typeof TextEncoder=="function"&&new TextEncoder;const dct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",fct=Array.prototype.slice.call(dct),f0=(r=>{let a={};return r.forEach((h,p)=>a[h]=p),a})(fct),pct=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,wc=String.fromCharCode.bind(String),MT=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(r,a=h=>h)=>new Uint8Array(Array.prototype.slice.call(r,0).map(a)),ZC=r=>r.replace(/[^A-Za-z0-9\+\/]/g,""),gct=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,mct=r=>{switch(r.length){case 4:var a=(7&r.charCodeAt(0))<<18|(63&r.charCodeAt(1))<<12|(63&r.charCodeAt(2))<<6|63&r.charCodeAt(3),h=a-65536;return wc((h>>>10)+55296)+wc((h&1023)+56320);case 3:return wc((15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2));default:return wc((31&r.charCodeAt(0))<<6|63&r.charCodeAt(1))}},yct=r=>r.replace(gct,mct),_ct=r=>{if(r=r.replace(/\s+/g,""),!pct.test(r))throw new TypeError("malformed base64.");r+="==".slice(2-(r.length&3));let a,h="",p,y;for(let b=0;b<r.length;)a=f0[r.charAt(b++)]<<18|f0[r.charAt(b++)]<<12|(p=f0[r.charAt(b++)])<<6|(y=f0[r.charAt(b++)]),h+=p===64?wc(a>>16&255):y===64?wc(a>>16&255,a>>8&255):wc(a>>16&255,a>>8&255,a&255);return h},QC=hct?r=>atob(ZC(r)):wv?r=>Buffer.from(r,"base64").toString("binary"):_ct,vct=wv?r=>MT(Buffer.from(r,"base64")):r=>MT(QC(r),a=>a.charCodeAt(0)),bct=wv?r=>Buffer.from(r,"base64").toString("utf8"):IT?r=>IT.decode(vct(r)):r=>yct(QC(r)),kct=r=>ZC(r.replace(/[-_]/g,a=>a=="-"?"+":"/")),wct=r=>bct(kct(r));const xct=()=>({theme:"default"});V0.startOnLoad=!1;V0.initialize({startOnLoad:!1});const Tct=uct("abcedfghicklmn",10),NT=new Map;function Ect(r,a){const h=r+JSON.stringify(a),p=NT.get(h);if(p)return p;V0.initialize({startOnLoad:!1,...M8(xct()||{}),...M8(a)});const y=wct(r),b=Tct(),E=V0.render(b,y);return NT.set(h,E),E}const Cct=hr({props:{innerHtml:{type:String,required:!0}},emits:["shadow"],setup(r,{emit:a}){const h=r;sn(Rn);const p=Xe(),y=ee(()=>p.value?p.value.shadowRoot||p.value.attachShadow({mode:"open"}):null);return Oo(()=>{y.value&&(a("shadow",y.value),y.value.innerHTML=h.innerHtml)}),(b,E)=>(Xt(),Fe("div",{ref_key:"el",ref:p},null,512))}}),Sct=Bn(Cct,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/internals/ShadowRoot.vue"]]),Act=hr({props:{code:{type:String,required:!0},scale:{type:Number,required:!1},theme:{type:String,required:!1}},setup(r){const a=r;sn(Rn);const h=fa(),p=Xe(),y=ee(()=>Ect(a.code||"",{theme:a.theme||(rg.value?"dark":void 0),...h.attrs})),b=ee(()=>y.value),E=Xe();return Er(b,()=>{E.value=void 0}),Oo(()=>{var L,D,C;const S=(D=(L=p.value)==null?void 0:L.children)==null?void 0:D[0];if(S&&S.hasAttribute("viewBox")&&E.value==null){const V=parseFloat(((C=S.getAttribute("viewBox"))==null?void 0:C.split(" ")[3])||"");E.value=isNaN(V)?void 0:V}},{flush:"post"}),Oo(()=>{var L,D;const S=(D=(L=p.value)==null?void 0:L.children)==null?void 0:D[0];S!=null&&a.scale!=null&&E.value!=null&&(S.setAttribute("height",`${E.value*a.scale}`),S.removeAttribute("width"),S.removeAttribute("style"))},{flush:"post"}),(S,L)=>(Xt(),vn(Sct,{ref_key:"el",ref:p,class:"mermaid","inner-html":Mt(b),onShadow:L[0]||(L[0]=D=>p.value=D)},null,8,["inner-html"]))}}),sg=Bn(Act,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/builtin/Mermaid.vue"]]),Lct={class:"slidev-layout two-columns w-full h-full grid grid-cols-2"},Ict=hr({props:{class:{type:String}},setup(r){const a=r;return sn(Rn),(h,p)=>(Xt(),Fe("div",Lct,[d("div",{class:Mr(["col-left",a.class])},[Os(h.$slots,"default")],2),d("div",{class:Mr(["col-right",a.class])},[Os(h.$slots,"right")],2)]))}}),ag=Bn(Ict,[["__file","/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/node_modules/@slidev/client/layouts/two-cols.vue"]]),Mct=d("pre",{class:"slidev-code language-typescript"},[d("code",null,[d("span",{class:"line"},[d("span",{class:"token keyword"},"import"),v(" sum "),d("span",{class:"token keyword"},"from"),v(),d("span",{class:"token string"},'"mathlib"'),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[d("span",{class:"token keyword"},"const"),v(),d("span",{class:"token function-variable function"},"getTotal"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"("),v("results"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"number"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"return"),v(),d("span",{class:"token function"},"sum"),d("span",{class:"token punctuation"},"("),v("results"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[d("span",{class:"token keyword"},"const"),v(),d("span",{class:"token function-variable function"},"getPlayersCard"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"("),v("player"),d("span",{class:"token operator"},":"),v(" Player"),d("span",{class:"token punctuation"},","),v(" scoreCards"),d("span",{class:"token operator"},":"),v(" ScoreCard"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"return"),v(" scoreCards"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"find"),d("span",{class:"token punctuation"},"("),d("span",{class:"token punctuation"},"("),v("scoreCard"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>"),v(" scoreCard"),d("span",{class:"token punctuation"},"."),v("playerId "),d("span",{class:"token operator"},"==="),v(" player"),d("span",{class:"token punctuation"},"."),v("id"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[d("span",{class:"token keyword"},"const"),v(" convertResultsToCsvRows "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"("),v("players"),d("span",{class:"token operator"},":"),v(" Player"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},")"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"let"),v(" rows"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"for"),v(),d("span",{class:"token punctuation"},"("),d("span",{class:"token keyword"},"let"),v(" player "),d("span",{class:"token keyword"},"of"),v(" players"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"const"),v(" card "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"getPlayersCard"),d("span",{class:"token punctuation"},"("),v("player"),d("span",{class:"token punctuation"},","),v(" scoreCards"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"let"),v(" row"),d("span",{class:"token operator"},":"),v(" ScoreRow"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"let"),v(" results"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"number"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"for"),v(),d("span",{class:"token punctuation"},"("),d("span",{class:"token keyword"},"let"),v(" i "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token number"},"0"),d("span",{class:"token punctuation"},";"),v(" i "),d("span",{class:"token operator"},"<"),v(" holes"),d("span",{class:"token punctuation"},"."),v("length"),d("span",{class:"token punctuation"},";"),v(" i"),d("span",{class:"token operator"},"++"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"const"),v(" hole "),d("span",{class:"token operator"},"="),v(" holes"),d("span",{class:"token punctuation"},"["),v("i"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"const"),v(" strokes "),d("span",{class:"token operator"},"="),v(" card"),d("span",{class:"token punctuation"},"."),v("strokes"),d("span",{class:"token punctuation"},"["),v("i"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"const"),v(" par "),d("span",{class:"token operator"},"="),v(" holes"),d("span",{class:"token punctuation"},"["),v("i"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},"."),v("par"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      results"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"push"),d("span",{class:"token punctuation"},"("),v("strokes "),d("span",{class:"token operator"},"-"),v(" par"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"const"),v(" total "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"getTotal"),d("span",{class:"token punctuation"},"("),v("results"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("    rows"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"push"),d("span",{class:"token punctuation"},"("),d("span",{class:"token punctuation"},"["),d("span",{class:"token operator"},"..."),v("results"),d("span",{class:"token punctuation"},","),v(" total"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"join"),d("span",{class:"token punctuation"},"("),d("span",{class:"token string"},'","'),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"return"),v(" rows"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")])])],-1),Nct=v("native language features"),Oct=[Nct],Dct=v("generic function"),Rct=[Dct],Bct=v("specific functions of domain X "),Pct=[Bct],Fct={setup(r){const a={layout:"two-cols",other:"none",clicks:13};return sn(Rn),(h,p)=>{const y=bl,b=sg,E=ig,S=y_("click");return Xt(),vn(ag,Mi(vi(a)),{right:Mn(L=>[d("ul",null,[Sc((Xt(),Fe("li",null,Oct)),[[S,8]]),Sc((Xt(),Fe("li",null,Rct)),[[S,9]]),Sc((Xt(),Fe("li",null,Pct)),[[S,10]])]),Be(E,{at:"12"},{default:Mn(()=>[Be(b,gs({code:"Zmxvd2NoYXJ0IFRECmNvbnZlcnRSZXN1bHRzVG9Dc3ZSb3dzIC0tPiBnZXRQbGF5ZXJzQ2FyZCAtLS0-IG5hdGl2ZW0KY29udmVydFJlc3VsdHNUb0NzdlJvd3MgLS0-IGdldFRvdGFsIC0tPiBzdW0gLS0-IG5hdGl2ZW0KY29udmVydFJlc3VsdHNUb0NzdlJvd3MgLS0tLS0tPiBuYXRpdmVtW25hdGl2ZSBhcnJheSBtZXRob2RzXQpjb252ZXJ0UmVzdWx0c1RvQ3N2Um93cyAtLS0tLS0-IGZvcmxbZm9yIGxvb3BdCmNvbnZlcnRSZXN1bHRzVG9Dc3ZSb3dzIC0tLS0tLT4gYXJySVthcnJheSBpbmRleF0"},{}),null,16)]),_:1})]),default:Mn(()=>[Be(y,gs({},{ranges:["11-27","0","14","23","13,17","18,19,20","21","all","13,17,18,19,20,24","3-5","7-8","0","all"]}),{default:Mn(()=>[Mct]),_:1},16)]),_:1},16)}}},Vct=Bn(Fct,[["__file","/@slidev/slides/6.md"]]),Yct=d("h1",null,"Examples from a KOA api",-1),$ct=d("pre",{class:"slidev-code language-typescript"},[d("code",null,[d("span",{class:"line"},[v("router"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"post"),d("span",{class:"token punctuation"},"(")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token string"},'"/api/alarms"'),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"async"),v(),d("span",{class:"token punctuation"},"("),v("ctx"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"const"),v(" alarmProps "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"validatePostAlarmProps"),d("span",{class:"token punctuation"},"("),v("ctx"),d("span",{class:"token punctuation"},"."),v("request"),d("span",{class:"token punctuation"},"."),v("body"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"await"),v(),d("span",{class:"token function"},"createAlarm"),d("span",{class:"token punctuation"},"("),v("alarmProps"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("    ctx"),d("span",{class:"token punctuation"},"."),v("status "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token number"},"200"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("    ctx"),d("span",{class:"token punctuation"},"."),v("body "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"{"),v(" message"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token string"},'"Alarm created"'),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")])])],-1),Uct={setup(r){const a={other:"none",clicks:5};return sn(Rn),(h,p)=>{const y=bl;return Xt(),vn(Bo,Mi(vi(a)),{default:Mn(()=>[Yct,Be(y,gs({},{ranges:["0","all","5","7","5"]}),{default:Mn(()=>[$ct]),_:1},16)]),_:1},16)}}},zct=Bn(Uct,[["__file","/@slidev/slides/7.md"]]),Hct={class:"withScroll"},Wct=d("pre",{class:"slidev-code language-typescript"},[d("code",null,[d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("router"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"post"),d("span",{class:"token punctuation"},"("),d("span",{class:"token string"},'"/api/items"'),d("span",{class:"token punctuation"},","),v(" authenticationRequired"),d("span",{class:"token punctuation"},","),v(" logQueryDetails"),d("span",{class:"token punctuation"},","),v(),d("span",{class:"token keyword"},"async"),v(),d("span",{class:"token punctuation"},"("),v("ctx"),d("span",{class:"token operator"},":"),v(" PublicContext"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" table"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token string"},"'items'")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" rp"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token punctuation"},"{"),v(),d("span",{class:"token punctuation"},"["),v("key"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"any"),v(),d("span",{class:"token punctuation"},"}"),v(),d("span",{class:"token operator"},"="),v(" ctx"),d("span",{class:"token punctuation"},"."),v("request"),d("span",{class:"token punctuation"},"."),v("body"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(),d("span",{class:"token punctuation"},"{"),v(" params "),d("span",{class:"token punctuation"},"}"),v(),d("span",{class:"token operator"},"="),v(" rp "),d("span",{class:"token keyword"},"as"),v(),d("span",{class:"token punctuation"},"{"),v(" id"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},";"),v(" parentId"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" key "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"getKey"),d("span",{class:"token punctuation"},"("),v("id"),d("span",{class:"token punctuation"},","),v(" parentId"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"if"),v(),d("span",{class:"token punctuation"},"("),v("key"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"const"),v(" tags"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token punctuation"},"{"),v(),d("span",{class:"token punctuation"},"["),v("key"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"const"),v(" searchTerms "),d("span",{class:"token operator"},"="),v(" Object"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"keys"),d("span",{class:"token punctuation"},"("),v("rp"),d("span",{class:"token punctuation"},")")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"filter"),d("span",{class:"token punctuation"},"("),d("span",{class:"token punctuation"},"("),v("key"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token operator"},"!"),d("span",{class:"token punctuation"},"["),d("span",{class:"token string"},'"id"'),d("span",{class:"token punctuation"},","),v(),d("span",{class:"token string"},'"parentId"'),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"includes"),d("span",{class:"token punctuation"},"("),v("key"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},")")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"reduce"),d("span",{class:"token punctuation"},"("),d("span",{class:"token punctuation"},"("),v("obj"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token punctuation"},"{"),v(),d("span",{class:"token punctuation"},"["),v("key"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},","),v(" key"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("        obj"),d("span",{class:"token punctuation"},"["),v("key"),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"="),v(" rp"),d("span",{class:"token punctuation"},"["),v("key"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("        "),d("span",{class:"token keyword"},"return"),v(" obj"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},","),v(),d("span",{class:"token punctuation"},"{"),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"const"),v(" result "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token keyword"},"await"),v(" connector"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"select"),d("span",{class:"token punctuation"},"("),d("span",{class:"token string"},'"*"'),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"from"),d("span",{class:"token punctuation"},"("),v("table"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"where"),d("span",{class:"token punctuation"},"("),d("span",{class:"token punctuation"},"{"),v(" id_key"),d("span",{class:"token operator"},":"),v(" key "),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"for"),v(),d("span",{class:"token punctuation"},"("),d("span",{class:"token keyword"},"const"),v(" item "),d("span",{class:"token keyword"},"of"),v(" result"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"const"),v(" tagAttributes "),d("span",{class:"token operator"},"="),v(" tag"),d("span",{class:"token punctuation"},"["),d("span",{class:"token string"},'"tag_attributes"'),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"??"),v(),d("span",{class:"token punctuation"},"{"),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"const"),v(" valmetTagInfo "),d("span",{class:"token operator"},"="),v(" tagAttributes"),d("span",{class:"token punctuation"},"["),d("span",{class:"token string"},'"valmet_tag"'),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"??"),v(),d("span",{class:"token punctuation"},"{"),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"const"),v(" matching"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"boolean"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"for"),v(),d("span",{class:"token punctuation"},"("),d("span",{class:"token keyword"},"const"),v(" p "),d("span",{class:"token keyword"},"of"),v(" Object"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"keys"),d("span",{class:"token punctuation"},"("),v("searchTerms"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("        "),d("span",{class:"token keyword"},"if"),v(),d("span",{class:"token punctuation"},"("),v("parameters"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"includes"),d("span",{class:"token punctuation"},"("),v("p"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("          "),d("span",{class:"token keyword"},"if"),v(),d("span",{class:"token punctuation"},"("),v("valmetTagInfo"),d("span",{class:"token punctuation"},"["),v("p"),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"==="),v(" searchTerms"),d("span",{class:"token punctuation"},"["),v("p"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("            matching"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"push"),d("span",{class:"token punctuation"},"("),d("span",{class:"token boolean"},"true"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("          "),d("span",{class:"token punctuation"},"}"),v(),d("span",{class:"token keyword"},"else"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("            matching"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"push"),d("span",{class:"token punctuation"},"("),d("span",{class:"token boolean"},"false"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("          "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[v("        "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"const"),v(" match "),d("span",{class:"token operator"},"=")]),v(`
`),d("span",{class:"line"},[v("        matching"),d("span",{class:"token punctuation"},"."),v("length "),d("span",{class:"token operator"},">"),v(),d("span",{class:"token number"},"0")]),v(`
`),d("span",{class:"line"},[v("          "),d("span",{class:"token operator"},"?"),v(" matching"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"every"),d("span",{class:"token punctuation"},"("),d("span",{class:"token keyword"},"function"),v(),d("span",{class:"token punctuation"},"("),v("m"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("              "),d("span",{class:"token keyword"},"return"),v(" m "),d("span",{class:"token operator"},"==="),v(),d("span",{class:"token boolean"},"true"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("            "),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},")")]),v(`
`),d("span",{class:"line"},[v("          "),d("span",{class:"token operator"},":"),v(),d("span",{class:"token boolean"},"false"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"if"),v(),d("span",{class:"token punctuation"},"("),v("match"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("        "),d("span",{class:"token keyword"},"const"),v(" tagInfo "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("          id"),d("span",{class:"token operator"},":"),v(" id "),d("span",{class:"token operator"},"??"),v(" item"),d("span",{class:"token punctuation"},"."),v("id"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("          parentId"),d("span",{class:"token operator"},":"),v(" parentId "),d("span",{class:"token operator"},"??"),v(" item"),d("span",{class:"token punctuation"},"."),v("lineid"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("          name"),d("span",{class:"token operator"},":"),v(" item"),d("span",{class:"token punctuation"},"."),v("name"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("        "),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("        items"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"push"),d("span",{class:"token punctuation"},"("),v("tagInfo"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[v("    ctx"),d("span",{class:"token punctuation"},"."),v("status "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token number"},"200"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("    ctx"),d("span",{class:"token punctuation"},"."),v("body "),d("span",{class:"token operator"},"="),v(" tags"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"}"),v(),d("span",{class:"token keyword"},"else"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("    ctx"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"throw"),d("span",{class:"token punctuation"},"("),d("span",{class:"token string"},'"Missing id"'),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")])])],-1),jct={setup(r){const a={clicks:4};return sn(Rn),(h,p)=>{const y=bl;return Xt(),vn(Bo,Mi(vi(a)),{default:Mn(()=>[d("div",Hct,[Be(y,gs({},{ranges:["0","all","51"]}),{default:Mn(()=>[Wct]),_:1},16)])]),_:1},16)}}},qct=Bn(jct,[["__file","/@slidev/slides/8.md"]]),Gct=d("pre",{class:"slidev-code language-typescript"},[d("code",null,[d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[d("span",{class:"token keyword"},"export"),v(),d("span",{class:"token keyword"},"const"),v(),d("span",{class:"token function-variable function"},"createAlarm"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token keyword"},"async"),v(),d("span",{class:"token punctuation"},"("),v("inputProps"),d("span",{class:"token operator"},":"),v(" FormattedAlarm"),d("span",{class:"token punctuation"},","),v(" id"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},","),v(" parentId"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},","),v(" token"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},","),v(" connector"),d("span",{class:"token operator"},":"),v(" Knex"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" userId "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"builduserId"),d("span",{class:"token punctuation"},"("),v("token"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" alarmItem "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"buildNewAlarmItem"),d("span",{class:"token punctuation"},"("),v("inputItem"),d("span",{class:"token punctuation"},","),v(" inputProps"),d("span",{class:"token punctuation"},","),v(" id"),d("span",{class:"token punctuation"},","),v(" parentId"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" analysisEntry "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"buildAnalysisEntry"),d("span",{class:"token punctuation"},"("),v("inputItem"),d("span",{class:"token punctuation"},","),v(" userId"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" nextModelVersion "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token keyword"},"await"),v(),d("span",{class:"token function"},"getNextModelVersion"),d("span",{class:"token punctuation"},"("),v("analysisEntry"),d("span",{class:"token operator"},"?."),v("code"),d("span",{class:"token punctuation"},","),v(" connector"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"catch"),d("span",{class:"token punctuation"},"("),v("handleDbError"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" modelAttributes "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"buildModelAttributes"),d("span",{class:"token punctuation"},"("),v("inputProps"),d("span",{class:"token punctuation"},"."),v("alarmSeverity"),d("span",{class:"token punctuation"},","),v(" inputProps"),d("span",{class:"token punctuation"},"."),v("warningSeverity"),d("span",{class:"token punctuation"},","),v(" inputItem"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" modelEntry "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"buildModelEntry"),d("span",{class:"token punctuation"},"("),v(" analysisEntry"),d("span",{class:"token operator"},"?."),v("analysis_code"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"await"),v(),d("span",{class:"token function"},"writeAlarmToDb"),d("span",{class:"token punctuation"},"("),v("connector"),d("span",{class:"token punctuation"},","),v(" modelEntry"),d("span",{class:"token punctuation"},","),v(" alarmItem"),d("span",{class:"token punctuation"},","),v(" analysisEntry"),d("span",{class:"token punctuation"},","),v(" tagModelEntries"),d("span",{class:"token punctuation"},","),v(" idate"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")])])],-1),Xct={setup(r){const a={};return sn(Rn),(h,p)=>{const y=bl;return Xt(),vn(Bo,Mi(vi(a)),{default:Mn(()=>[Be(y,gs({},{ranges:["0","1-2","3-9","8","5"]}),{default:Mn(()=>[Gct]),_:1},16)]),_:1},16)}}},Kct=Bn(Xct,[["__file","/@slidev/slides/9.md"]]),Zct={setup(r){const a={};return sn(Rn),(h,p)=>{const y=sg;return Xt(),vn(Bo,Mi(vi(a)),{default:Mn(()=>[Be(y,gs({code:"Zmxvd2NoYXJ0IFRECmNyZWF0ZUFsYXJtIC0tLT4gYnVpbGR1c2VySWQKY3JlYXRlQWxhcm0gLS0-IGJ1aWxkTmV3QWxhcm1JdGVtCmNyZWF0ZUFsYXJtIC0tPiBidWlsZEFuYWx5c2lzRW50cnkKY3JlYXRlQWxhcm0gLS0tLT4gZ2V0TmV4dE1vZGVsVmVyc2lvbgpjcmVhdGVBbGFybSAtLT4gYnVpbGRNb2RlbEF0dHJpYnV0ZXMKY3JlYXRlQWxhcm0gLS0-IGJ1aWxkTW9kZWxFbnRyeQpjcmVhdGVBbGFybSAtLS0tPiB3cml0ZUFsYXJtVG9EYg"},{}),null,16)]),_:1},16)}}},Qct=Bn(Zct,[["__file","/@slidev/slides/10.md"]]),Jct=d("pre",{class:"slidev-code language-typescript"},[d("code",null,[d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[d("span",{class:"token keyword"},"export"),v(),d("span",{class:"token keyword"},"const"),v(" buildNewAlarmItem "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"(")]),v(`
`),d("span",{class:"line"},[v("  inputItem"),d("span",{class:"token operator"},":"),v(" ItemMetadata "),d("span",{class:"token operator"},"|"),v(),d("span",{class:"token keyword"},"undefined"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("  inputProps"),d("span",{class:"token operator"},":"),v(" FormattedAlarm"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("  id"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("  parentId"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},")"),d("span",{class:"token operator"},":"),v(" ItemMetadata "),d("span",{class:"token operator"},"|"),v(),d("span",{class:"token keyword"},"undefined"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"if"),v(),d("span",{class:"token punctuation"},"("),d("span",{class:"token operator"},"!"),v("inputItem"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token keyword"},"return"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(),d("span",{class:"token punctuation"},"{"),v(" limitType"),d("span",{class:"token punctuation"},","),v(" alarmDescription "),d("span",{class:"token punctuation"},"}"),v(),d("span",{class:"token operator"},"="),v(" inputProps"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" key "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"generateAlarmItemKey"),d("span",{class:"token punctuation"},"("),v("inputItem"),d("span",{class:"token punctuation"},","),v(" id"),d("span",{class:"token punctuation"},","),v(" parentId"),d("span",{class:"token punctuation"},","),v(" limitType"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" name "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"generateAlarmItemName"),d("span",{class:"token punctuation"},"("),v("inputItem"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" description "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"generateItemDescription"),d("span",{class:"token punctuation"},"("),v("inputItem"),d("span",{class:"token punctuation"},","),v(" alarmDescription"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"return"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("    item_key"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("    item_name"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("    item_description"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("    uby"),d("span",{class:"token operator"},":"),v(" userId"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("    iby"),d("span",{class:"token operator"},":"),v(" userId"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("    item_type"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token string"},'"AlarmItemType"'),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")])])],-1),tut={setup(r){const a={layout:"two-cols",other:"none",clicks:4};return sn(Rn),(h,p)=>{const y=bl,b=sg,E=ig;return Xt(),vn(ag,Mi(vi(a)),{right:Mn(S=>[Be(E,{at:"2"},{default:Mn(()=>[Be(b,gs({code:"Zmxvd2NoYXJ0IFRECmNyZWF0ZUFsYXJtIC0tPiBidWlsZE5ld0FsYXJtSXRlbQpidWlsZE5ld0FsYXJtSXRlbSAtLS0-IGdlbmVyYXRlQWxhcm1JdGVtS2V5CmJ1aWxkTmV3QWxhcm1JdGVtIC0tLT4gZ2VuZXJhdGVBbGFybUl0ZW1OYW1lCmJ1aWxkTmV3QWxhcm1JdGVtIC0tLT4gZ2VuZXJhdGVJdGVtRGVzY3JpcHRpb24KZ2VuZXJhdGVBbGFybUl0ZW1LZXkgLS0tPiBsYVtsYW5ndWFnZSBmZWF0dXJlc10"},{}),null,16)]),_:1})]),default:Mn(()=>[Be(y,gs({},{ranges:["all"]}),{default:Mn(()=>[Jct]),_:1},16)]),_:1},16)}}},eut=Bn(tut,[["__file","/@slidev/slides/11.md"]]),nut=d("pre",{class:"slidev-code language-typescript"},[d("code",null,[d("span",{class:"line"}),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[d("span",{class:"token keyword"},"export"),v(),d("span",{class:"token keyword"},"const"),v(),d("span",{class:"token function-variable function"},"getNextModelVersion"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token keyword"},"async"),v(),d("span",{class:"token punctuation"},"("),v("code"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),v(),d("span",{class:"token operator"},"|"),v(),d("span",{class:"token keyword"},"undefined"),d("span",{class:"token punctuation"},","),v(" connector"),d("span",{class:"token operator"},":"),v(" Knex"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"if"),v(),d("span",{class:"token punctuation"},"("),d("span",{class:"token operator"},"!"),v("code"),d("span",{class:"token punctuation"},")"),v("  "),d("span",{class:"token keyword"},"return"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" selectedColumns"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token punctuation"},"("),d("span",{class:"token keyword"},"keyof"),v(" Model"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"["),d("span",{class:"token string"},'"col1"'),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(),d("span",{class:"token function-variable function"},"query"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"("),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>")]),v(`
`),d("span",{class:"line"},"    connector"),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"."),d("span",{class:"token generic-function"},[d("span",{class:"token function"},"select"),d("span",{class:"token generic class-name"},[d("span",{class:"token operator"},"<"),v("Partial"),d("span",{class:"token operator"},"<"),v("Model"),d("span",{class:"token operator"},">"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),d("span",{class:"token operator"},">")])]),d("span",{class:"token punctuation"},"("),v("selectedColumns"),d("span",{class:"token punctuation"},")")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"from"),d("span",{class:"token punctuation"},"("),v("tableName"),d("span",{class:"token punctuation"},")")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"where"),d("span",{class:"token punctuation"},"("),d("span",{class:"token string"},'"xxx"'),d("span",{class:"token punctuation"},","),v(" code"),d("span",{class:"token punctuation"},")")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"orderByRaw"),d("span",{class:"token punctuation"},"("),d("span",{class:"token string"},'"length(col1) DESC"'),d("span",{class:"token punctuation"},")")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"orderByRaw"),d("span",{class:"token punctuation"},"("),d("span",{class:"token string"},'"col1 DESC"'),d("span",{class:"token punctuation"},")")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"limit"),d("span",{class:"token punctuation"},"("),d("span",{class:"token number"},"1"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" result "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token keyword"},"await"),v(),d("span",{class:"token function"},"runQueryAndReportErrors"),d("span",{class:"token punctuation"},"("),v("query"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"if"),v(),d("span",{class:"token punctuation"},"("),d("span",{class:"token operator"},"!"),v("result"),d("span",{class:"token operator"},"?."),v("length"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token keyword"},"return"),v(),d("span",{class:"token string"},'"1"'),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" latestVersion "),d("span",{class:"token operator"},"="),v(" result"),d("span",{class:"token punctuation"},"["),d("span",{class:"token number"},"0"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},"."),v("col1"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" nextVersion "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"Number"),d("span",{class:"token punctuation"},"("),v("latestVersion"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"+"),v(),d("span",{class:"token number"},"1"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"return"),v(" nextVersion"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"toString"),d("span",{class:"token punctuation"},"("),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")])])],-1),rut={setup(r){const a={layout:"two-cols",other:"none",clicks:4};return sn(Rn),(h,p)=>{const y=bl,b=sg,E=ig;return Xt(),vn(ag,Mi(vi(a)),{right:Mn(S=>[Be(E,{at:"2"},{default:Mn(()=>[Be(b,gs({code:"Zmxvd2NoYXJ0IFRECmdldE5leHRNb2RlbFZlcnNpb24gLS0-IHJ1blF1ZXJ5QW5kUmVwb3J0RXJyb3JzCmdldE5leHRNb2RlbFZlcnNpb24gLS0tPiBrbltrbmV4IG1ldGhvZHNdCmdldE5leHRNb2RlbFZlcnNpb24gLS0tPiBsZlthcnJheSBpbmRleCwgc3RyaW5nIG1ldGhvZHNd"},{}),null,16)]),_:1})]),default:Mn(()=>[Be(y,gs({},{ranges:[""]}),{default:Mn(()=>[nut]),_:1},16)]),_:1},16)}}},iut=Bn(rut,[["__file","/@slidev/slides/12.md"]]),sut={class:"withScroll"},aut=d("pre",{class:"slidev-code language-typescript"},[d("code",null,[d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("router"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"post"),d("span",{class:"token punctuation"},"("),d("span",{class:"token string"},'"/api/items"'),d("span",{class:"token punctuation"},","),v(" authenticationRequired"),d("span",{class:"token punctuation"},","),v(" logQueryDetails"),d("span",{class:"token punctuation"},","),v(),d("span",{class:"token keyword"},"async"),v(),d("span",{class:"token punctuation"},"("),v("ctx"),d("span",{class:"token operator"},":"),v(" PublicContext"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" table"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token string"},"'items'")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" rp"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token punctuation"},"{"),v(),d("span",{class:"token punctuation"},"["),v("key"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"any"),v(),d("span",{class:"token punctuation"},"}"),v(),d("span",{class:"token operator"},"="),v(" ctx"),d("span",{class:"token punctuation"},"."),v("request"),d("span",{class:"token punctuation"},"."),v("body"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(),d("span",{class:"token punctuation"},"{"),v(" params "),d("span",{class:"token punctuation"},"}"),v(),d("span",{class:"token operator"},"="),v(" rp "),d("span",{class:"token keyword"},"as"),v(),d("span",{class:"token punctuation"},"{"),v(" id"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},";"),v(" parentId"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"const"),v(" key "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token function"},"getKey"),d("span",{class:"token punctuation"},"("),v("id"),d("span",{class:"token punctuation"},","),v(" parentId"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token keyword"},"if"),v(),d("span",{class:"token punctuation"},"("),v("key"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"const"),v(" tags"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token punctuation"},"{"),v(),d("span",{class:"token punctuation"},"["),v("key"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"const"),v(" searchTerms "),d("span",{class:"token operator"},"="),v(" Object"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"keys"),d("span",{class:"token punctuation"},"("),v("rp"),d("span",{class:"token punctuation"},")")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"filter"),d("span",{class:"token punctuation"},"("),d("span",{class:"token punctuation"},"("),v("key"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token operator"},"!"),d("span",{class:"token punctuation"},"["),d("span",{class:"token string"},'"id"'),d("span",{class:"token punctuation"},","),v(),d("span",{class:"token string"},'"parentId"'),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"includes"),d("span",{class:"token punctuation"},"("),v("key"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},")")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"reduce"),d("span",{class:"token punctuation"},"("),d("span",{class:"token punctuation"},"("),v("obj"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token punctuation"},"{"),v(),d("span",{class:"token punctuation"},"["),v("key"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"string"),v(),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},","),v(" key"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token operator"},"=>"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("        obj"),d("span",{class:"token punctuation"},"["),v("key"),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"="),v(" rp"),d("span",{class:"token punctuation"},"["),v("key"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("        "),d("span",{class:"token keyword"},"return"),v(" obj"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},","),v(),d("span",{class:"token punctuation"},"{"),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"const"),v(" result "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token keyword"},"await"),v(" connector"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"select"),d("span",{class:"token punctuation"},"("),d("span",{class:"token string"},'"*"'),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"from"),d("span",{class:"token punctuation"},"("),v("table"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"where"),d("span",{class:"token punctuation"},"("),d("span",{class:"token punctuation"},"{"),v(" id_key"),d("span",{class:"token operator"},":"),v(" key "),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token keyword"},"for"),v(),d("span",{class:"token punctuation"},"("),d("span",{class:"token keyword"},"const"),v(" item "),d("span",{class:"token keyword"},"of"),v(" result"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"const"),v(" tagAttributes "),d("span",{class:"token operator"},"="),v(" tag"),d("span",{class:"token punctuation"},"["),d("span",{class:"token string"},'"tag_attributes"'),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"??"),v(),d("span",{class:"token punctuation"},"{"),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"const"),v(" valmetTagInfo "),d("span",{class:"token operator"},"="),v(" tagAttributes"),d("span",{class:"token punctuation"},"["),d("span",{class:"token string"},'"valmet_tag"'),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"??"),v(),d("span",{class:"token punctuation"},"{"),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"const"),v(" matching"),d("span",{class:"token operator"},":"),v(),d("span",{class:"token builtin"},"boolean"),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"["),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"for"),v(),d("span",{class:"token punctuation"},"("),d("span",{class:"token keyword"},"const"),v(" p "),d("span",{class:"token keyword"},"of"),v(" Object"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"keys"),d("span",{class:"token punctuation"},"("),v("searchTerms"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("        "),d("span",{class:"token keyword"},"if"),v(),d("span",{class:"token punctuation"},"("),v("parameters"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"includes"),d("span",{class:"token punctuation"},"("),v("p"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("          "),d("span",{class:"token keyword"},"if"),v(),d("span",{class:"token punctuation"},"("),v("valmetTagInfo"),d("span",{class:"token punctuation"},"["),v("p"),d("span",{class:"token punctuation"},"]"),v(),d("span",{class:"token operator"},"==="),v(" searchTerms"),d("span",{class:"token punctuation"},"["),v("p"),d("span",{class:"token punctuation"},"]"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("            matching"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"push"),d("span",{class:"token punctuation"},"("),d("span",{class:"token boolean"},"true"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("          "),d("span",{class:"token punctuation"},"}"),v(),d("span",{class:"token keyword"},"else"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("            matching"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"push"),d("span",{class:"token punctuation"},"("),d("span",{class:"token boolean"},"false"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("          "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[v("        "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"const"),v(" match "),d("span",{class:"token operator"},"=")]),v(`
`),d("span",{class:"line"},[v("        matching"),d("span",{class:"token punctuation"},"."),v("length "),d("span",{class:"token operator"},">"),v(),d("span",{class:"token number"},"0")]),v(`
`),d("span",{class:"line"},[v("          "),d("span",{class:"token operator"},"?"),v(" matching"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"every"),d("span",{class:"token punctuation"},"("),d("span",{class:"token keyword"},"function"),v(),d("span",{class:"token punctuation"},"("),v("m"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("              "),d("span",{class:"token keyword"},"return"),v(" m "),d("span",{class:"token operator"},"==="),v(),d("span",{class:"token boolean"},"true"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("            "),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},")")]),v(`
`),d("span",{class:"line"},[v("          "),d("span",{class:"token operator"},":"),v(),d("span",{class:"token boolean"},"false"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"}),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token keyword"},"if"),v(),d("span",{class:"token punctuation"},"("),v("match"),d("span",{class:"token punctuation"},")"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("        "),d("span",{class:"token keyword"},"const"),v(" tagInfo "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("          id"),d("span",{class:"token operator"},":"),v(" id "),d("span",{class:"token operator"},"??"),v(" item"),d("span",{class:"token punctuation"},"."),v("id"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("          parentId"),d("span",{class:"token operator"},":"),v(" parentId "),d("span",{class:"token operator"},"??"),v(" item"),d("span",{class:"token punctuation"},"."),v("lineid"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("          name"),d("span",{class:"token operator"},":"),v(" item"),d("span",{class:"token punctuation"},"."),v("name"),d("span",{class:"token punctuation"},",")]),v(`
`),d("span",{class:"line"},[v("        "),d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("        items"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"push"),d("span",{class:"token punctuation"},"("),v("tagInfo"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("      "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[v("    "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[v("    ctx"),d("span",{class:"token punctuation"},"."),v("status "),d("span",{class:"token operator"},"="),v(),d("span",{class:"token number"},"200"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("    ctx"),d("span",{class:"token punctuation"},"."),v("body "),d("span",{class:"token operator"},"="),v(" tags"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"}"),v(),d("span",{class:"token keyword"},"else"),v(),d("span",{class:"token punctuation"},"{")]),v(`
`),d("span",{class:"line"},[v("    ctx"),d("span",{class:"token punctuation"},"."),d("span",{class:"token function"},"throw"),d("span",{class:"token punctuation"},"("),d("span",{class:"token string"},'"Missing id"'),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")]),v(`
`),d("span",{class:"line"},[v("  "),d("span",{class:"token punctuation"},"}")]),v(`
`),d("span",{class:"line"},[d("span",{class:"token punctuation"},"}"),d("span",{class:"token punctuation"},")"),d("span",{class:"token punctuation"},";")])])],-1),out=d("ul",null,[d("li",null,'Tools to conceptualize "you should make this more readable"'),d("li",null,"Aiming for straightforward implementations"),d("li",null,"Helping future readers with the level of detail needed")],-1),lut={setup(r){const a={layout:"two-cols",other:"none"};return sn(Rn),(h,p)=>{const y=bl,b=vf;return Xt(),vn(ag,Mi(vi(a)),{right:Mn(E=>[Be(b,null,{default:Mn(()=>[out]),_:1})]),default:Mn(()=>[d("div",sut,[Be(y,gs({},{ranges:["0","all","51"]}),{default:Mn(()=>[aut]),_:1},16)])]),_:1},16)}}},cut=Bn(lut,[["__file","/@slidev/slides/13.md"]]),uut=d("h1",null,"Literature",-1),hut=d("ul",null,[d("li",null,"Normand, Eric 2021: Grokking simplicity. Manning."),d("li",null,"Płachta, Michał 2022: Grokking functional Programming. Manning"),d("li",null,"Abelson, Harold & Sussman, Gerald 1985: Structure and Interpretation of Computer Programs")],-1),dut=d("div",{class:"mt-7"},[d("ul",{class:"text-sm list-none ml-0"},[d("li",{class:"list-none ml-0"},"Blog: https://hrmj.hashnode.dev/"),d("li",{class:"list-none ml-0"},"Twitter: @jharme")])],-1),fut={setup(r){const a={};return sn(Rn),(h,p)=>(Xt(),vn(Bo,Mi(vi(a)),{default:Mn(()=>[uut,hut,dut]),_:1},16))}},put=Bn(fut,[["__file","/@slidev/slides/14.md"]]),gut={setup(r){const a={};return sn(Rn),(h,p)=>(Xt(),vn(Bo,Mi(vi(a)),null,16))}},mut=Bn(gut,[["__file","/@slidev/slides/15.md"]]),yut=[{path:"1",name:"page-1",component:Alt,meta:{layout:"cover",author:"Juho Harme",drawings:{enabled:!0},title:"Refactoring with stratified design",slide:{raw:`---
layout: cover
author: Juho Harme
drawings:
  enabled: true
---

# Refactoring with stratified design

Juho Härme 

<!-- 

Hi there, so, my talk is not about the cool new frameworks out there, but about 
something mysterious called Stratifies design....

And there's another word - refactoring.... Ideally, you would want to talk about designing and
how you start a new project with a perfect design, a perfectly clear way to think
about code and structure, but we all know how it is in the real world: 
rather than writing new code on a clean sheet we end up reading old code.

And old code tends to be messy. And tedious to understand. And you are trying
to just fix this small bug in the way the user sees the train ticket prices 
rendered on the screen...

Stratified design is a tool that could possibly help with this tedious everyday task.

-->
`,title:"Refactoring with stratified design",level:1,content:`# Refactoring with stratified design

Juho Härme`,frontmatter:{layout:"cover",author:"Juho Harme",drawings:{enabled:!0},title:"Refactoring with stratified design"},note:`Hi there, so, my talk is not about the cool new frameworks out there, but about 
something mysterious called Stratifies design....

And there's another word - refactoring.... Ideally, you would want to talk about designing and
how you start a new project with a perfect design, a perfectly clear way to think
about code and structure, but we all know how it is in the real world: 
rather than writing new code on a clean sheet we end up reading old code.

And old code tends to be messy. And tedious to understand. And you are trying
to just fix this small bug in the way the user sees the train ticket prices 
rendered on the screen...

Stratified design is a tool that could possibly help with this tedious everyday task.`,index:0,start:0,end:29,notesHTML:`<p>Hi there, so, my talk is not about the cool new frameworks out there, but about
something mysterious called Stratifies design....</p>
<p>And there's another word - refactoring.... Ideally, you would want to talk about designing and
how you start a new project with a perfect design, a perfectly clear way to think
about code and structure, but we all know how it is in the real world:
rather than writing new code on a clean sheet we end up reading old code.</p>
<p>And old code tends to be messy. And tedious to understand. And you are trying
to just fix this small bug in the way the user sees the train ticket prices
rendered on the screen...</p>
<p>Stratified design is a tool that could possibly help with this tedious everyday task.</p>
`,filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:0,no:1},__clicksElements:[],__preloaded:!1}},{path:"2",name:"page-2",component:Nlt,meta:{slide:{raw:"",content:"",frontmatter:{},index:1,start:30,end:31,notesHTML:"",filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:1,no:2},__clicksElements:[],__preloaded:!1}},{path:"3",name:"page-3",component:$lt,meta:{layout:"intro",other:"none",slide:{raw:`---
layout: intro
other: none
---

# Outline

<v-clicks>

- Some background
- Stratified design as a concept
- A somewhat modified example from a real-world API 

</v-clicks>

<!--

So, just to quickly sum up the journey I'm trying to take you guys onto:

- First, a bit of background: why is this a thing
- Then let's define the terms and de-mystify the word stratified
- And after that's out of the way let's look at an example


-->

<v-click>

![stratum is latin](https://hrmj.github.io/refactoring-with-stratified-design/wikipedia_ss.png)

</v-click>

<!-- 

Stratified is a past participle form of an English verb which comes from ... surprise, surprise..
a Latin noun, stratum,  meaning.. well, basically, something layered, in today's speech. You would, of course,
recognize other derivatives such as stratosphere etc.

So we are going to talk about layers and look at code the same way ew can look that rock there
showing different layers of chalk. Which is probably a good comparison to a lot of my own code, at least. chalk.

-->
`,title:"Outline",level:1,content:`# Outline

<v-clicks>

- Some background
- Stratified design as a concept
- A somewhat modified example from a real-world API 

</v-clicks>

<!--

So, just to quickly sum up the journey I'm trying to take you guys onto:

- First, a bit of background: why is this a thing
- Then let's define the terms and de-mystify the word stratified
- And after that's out of the way let's look at an example


-->

<v-click>

![stratum is latin](https://hrmj.github.io/refactoring-with-stratified-design/wikipedia_ss.png)

</v-click>`,frontmatter:{layout:"intro",other:"none"},note:`Stratified is a past participle form of an English verb which comes from ... surprise, surprise..
a Latin noun, stratum,  meaning.. well, basically, something layered, in today's speech. You would, of course,
recognize other derivatives such as stratosphere etc.

So we are going to talk about layers and look at code the same way ew can look that rock there
showing different layers of chalk. Which is probably a good comparison to a lot of my own code, at least. chalk.`,index:2,start:31,end:74,notesHTML:`<p>Stratified is a past participle form of an English verb which comes from ... surprise, surprise..
a Latin noun, stratum,  meaning.. well, basically, something layered, in today's speech. You would, of course,
recognize other derivatives such as stratosphere etc.</p>
<p>So we are going to talk about layers and look at code the same way ew can look that rock there
showing different layers of chalk. Which is probably a good comparison to a lot of my own code, at least. chalk.</p>
`,filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:2,no:3},__clicksElements:[],__preloaded:!1}},{path:"4",name:"page-4",component:Wlt,meta:{slide:{raw:`
# What's the point?

<v-clicks>

- Readability, maintainability, testability etc
- Ability to work on the correct level of detail
- Power of conceptualization

</v-clicks>

<!-- 

Why would we want to follow a pattern, something like stratified design when writing our code?

Well, of course, there are these three fellows: readability, maintainability, testability. There 
is a big difference in all those if we compare a code base designed according to something
and code that is just... well, written, to solve a particular problem at a particlar time.

And if we look at stratified design in particular, a special gain, something we hope to get with 
this is the ability to focus on the right stuff, not to worry about details belonging to another 
layer when you're working on another.

One thing I do want to emphasize here is the fact that this is probably nothing  new to any of you.
This is probably something you all do, at least to some extent, intuitively and naturally in your 
everyday work when reading your co-workers' pull requests and making comments like
'this would be more readable if you would extract thing here' ... or  just having
a feeling that some piece of code could be structured differently without 
being quite able to describe the problem in words. Tools like stratified design 
are there to help us conceptualize these kind of feelings: they are a tool for us to communicate
and that's what is imprtant. You can probably make the same kinds of conceptualizations
with other tools, but this is one I have personally found useful.


-->
`,title:"What's the point?",level:1,content:`# What's the point?

<v-clicks>

- Readability, maintainability, testability etc
- Ability to work on the correct level of detail
- Power of conceptualization

</v-clicks>`,frontmatter:{},note:`Why would we want to follow a pattern, something like stratified design when writing our code?

Well, of course, there are these three fellows: readability, maintainability, testability. There 
is a big difference in all those if we compare a code base designed according to something
and code that is just... well, written, to solve a particular problem at a particlar time.

And if we look at stratified design in particular, a special gain, something we hope to get with 
this is the ability to focus on the right stuff, not to worry about details belonging to another 
layer when you're working on another.

One thing I do want to emphasize here is the fact that this is probably nothing  new to any of you.
This is probably something you all do, at least to some extent, intuitively and naturally in your 
everyday work when reading your co-workers' pull requests and making comments like
'this would be more readable if you would extract thing here' ... or  just having
a feeling that some piece of code could be structured differently without 
being quite able to describe the problem in words. Tools like stratified design 
are there to help us conceptualize these kind of feelings: they are a tool for us to communicate
and that's what is imprtant. You can probably make the same kinds of conceptualizations
with other tools, but this is one I have personally found useful.`,index:3,start:75,end:111,notesHTML:`<p>Why would we want to follow a pattern, something like stratified design when writing our code?</p>
<p>Well, of course, there are these three fellows: readability, maintainability, testability. There
is a big difference in all those if we compare a code base designed according to something
and code that is just... well, written, to solve a particular problem at a particlar time.</p>
<p>And if we look at stratified design in particular, a special gain, something we hope to get with
this is the ability to focus on the right stuff, not to worry about details belonging to another
layer when you're working on another.</p>
<p>One thing I do want to emphasize here is the fact that this is probably nothing  new to any of you.
This is probably something you all do, at least to some extent, intuitively and naturally in your
everyday work when reading your co-workers' pull requests and making comments like
'this would be more readable if you would extract thing here' ... or  just having
a feeling that some piece of code could be structured differently without
being quite able to describe the problem in words. Tools like stratified design
are there to help us conceptualize these kind of feelings: they are a tool for us to communicate
and that's what is imprtant. You can probably make the same kinds of conceptualizations
with other tools, but this is one I have personally found useful.</p>
`,filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:3,no:4},__clicksElements:[],__preloaded:!1}},{path:"5",name:"page-5",component:act,meta:{slide:{raw:`

<v-clicks>

\`\`\`typescript{0|1-4|5-9|10-13}
const users: Player = [
  { name: "Paul", id: 1, strokes: undefined, rank: undefined },
  { name: "Ricky", id: 2, strokes: undefined, rank: undefined },
];
const holes: Hole = [
  { no: 1, par: 3 },
  { no: 2, par: 3 },
  { no: 3, par: 4 },
];
const scoreCards: ScoreCard = [
  { userId: 1, strokes: [2, 2, 4] },
  { userId: 2, strokes: [2, 2, 3] },
];
\`\`\`

</v-clicks>

<!-- 

Now before diving into the real world example I promised to show you, let's look
at something totally contrived.   Here's some data in the form of typescript objects

This piece of data has players.. Competing in the sport of disc golf... Which is done by 
playing holes, which would ideally be completed within three or four strokes.

So when our player play through the holes they fill in a score card representing how well they
have performed on the course.

-->
`,content:`<v-clicks>

\`\`\`typescript{0|1-4|5-9|10-13}
const users: Player = [
  { name: "Paul", id: 1, strokes: undefined, rank: undefined },
  { name: "Ricky", id: 2, strokes: undefined, rank: undefined },
];
const holes: Hole = [
  { no: 1, par: 3 },
  { no: 2, par: 3 },
  { no: 3, par: 4 },
];
const scoreCards: ScoreCard = [
  { userId: 1, strokes: [2, 2, 4] },
  { userId: 2, strokes: [2, 2, 3] },
];
\`\`\`

</v-clicks>`,frontmatter:{},note:`Now before diving into the real world example I promised to show you, let's look
at something totally contrived.   Here's some data in the form of typescript objects

This piece of data has players.. Competing in the sport of disc golf... Which is done by 
playing holes, which would ideally be completed within three or four strokes.

So when our player play through the holes they fill in a score card representing how well they
have performed on the course.`,index:4,start:112,end:147,notesHTML:`<p>Now before diving into the real world example I promised to show you, let's look
at something totally contrived.   Here's some data in the form of typescript objects</p>
<p>This piece of data has players.. Competing in the sport of disc golf... Which is done by
playing holes, which would ideally be completed within three or four strokes.</p>
<p>So when our player play through the holes they fill in a score card representing how well they
have performed on the course.</p>
`,filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:4,no:5},__clicksElements:[],__preloaded:!1}},{path:"6",name:"page-6",component:Vct,meta:{layout:"two-cols",other:"none",clicks:13,slide:{raw:`---
layout: two-cols
other: none
clicks: 13
---

\`\`\`typescript{11-27|0|14|23|13,17|18,19,20|21|all|13,17,18,19,20,24|3-5|7-8|0|all}
import sum from "mathlib";

const getTotal = (results: number[]) => {
  return sum(results);
};

const getPlayersCard = (player: Player, scoreCards: ScoreCard[]) => {
  return scoreCards.find((scoreCard) => scoreCard.playerId === player.id);
};

const convertResultsToCsvRows = (players: Player[]): string[] => {
  let rows: string[] = [];
  for (let player of players) {
    const card = getPlayersCard(player, scoreCards);
    let row: ScoreRow[] = [];
    let results: number[] = [];
    for (let i = 0; i < holes.length; i++) {
      const hole = holes[i];
      const strokes = card.strokes[i];
      const par = holes[i].par;
      results.push(strokes - par);
    }
    const total = getTotal(results);
    rows.push([...results, total].join(","));
  }
  return rows;
};
\`\`\`

::right::

<ul>
<li v-click="8">native language features</li>
<li v-click="9">generic function</li>
<li v-click="10">specific functions of domain X  </li>

</ul>

<v-click at="12">

\`\`\`mermaid
flowchart TD
convertResultsToCsvRows --> getPlayersCard ---> nativem
convertResultsToCsvRows --> getTotal --> sum --> nativem
convertResultsToCsvRows ------> nativem[native array methods]
convertResultsToCsvRows ------> forl[for loop]
convertResultsToCsvRows ------> arrI[array index]
\`\`\`

</v-click>

<!--

Now, let's imagine we want to calculate each player's results and turn them into 
a csv file. This made-up code right here might be one way to do it.

We have a function called convertResultsToCsvRows which is basically going through 
each player, finding their scorecards...

Calculating the total strokes for each player...

by looping through each hole they played...

and looking at how many strokes they have in their scorecard

and getting their result by subtracting the par of the hole


But you definitely don't get a particular sense of design by looking at this code.
It's not straightforward to know what are the right details I should be worried aout at 
each stage of the code and if I were to have to add some new functionality to this code
or perhaps fix a bug, I would have to spend a good amount of time scanning through each line
and thinking about what it should be doing.

So we get the sense that this code could use some refactoring, but the problem is: how to 
communicate that? Let's see, how stratified design could be used as a tool to conceptualize this.

If you recall from the beginning, stratified basically means layered, so we're looking for layers
in the code. The basic idea is that a well designed code would work on a reasonable number of 
layers so that each layer contains elements that belong to the same domain or deal with the same 
level of detail. With such a layered design, it should be easy for us to quickly find the place
dealing with the functionality we are interested in at the moment.

Now stratified design is essentially a concept associated with functional programming. This means 
that a typical way to arrange the code into layers is to work with multiple different functions
each consisting of logic belonging to a similar kind of layer. If a function deals with multiple different
kinds of layers at the same time, that is usually a sign that the reader of the function is probably 
going to have to use a lot of mental capacity to navigate through it. A function working mainly
on a single related layer could be called straightforward and is generally something you would want to achieve

So, looking at this convertResultsToCsvRows function here you could identify,
for instance, these kinds of layers:

- we have native language features such as for loops, accessing an array by
  index and using array methods such as pushing, joining....
- We also call another function of a rather generic nature called getTotal
  which sums up an array using anoter, more generic function
- And call another function, but this time it's not a generic one outputting a
  result of a mathematical operation but rather a lot more specific one,
  dealing with players and their scorecards

So we could say that the convertResultsToCsvRows function is basically working
on three or four different layers.  This could be represented with a call graph,
where we try to represent the relationship of each of these layers by drawing a
line from our current function to the the features and functions it uses.
Like this:

So the idea here is that at the very bottom we have the low-level stuff, the
language features like for loops and accessing an array by index. 

Then the more generic function calls are closer to these and the more
domain-specific ones closer to the top. So if we were to refactor this, we 
could use this as a starting point and think about how we could have the
functions yield a different kind of graphs, ideally one where all the arrows 
would be of roughly the same length and point to same kinds of constructs. That
would be the first step of converting the function to a straightforward
implementation.
 

-->
`,content:`\`\`\`typescript{11-27|0|14|23|13,17|18,19,20|21|all|13,17,18,19,20,24|3-5|7-8|0|all}
import sum from "mathlib";

const getTotal = (results: number[]) => {
  return sum(results);
};

const getPlayersCard = (player: Player, scoreCards: ScoreCard[]) => {
  return scoreCards.find((scoreCard) => scoreCard.playerId === player.id);
};

const convertResultsToCsvRows = (players: Player[]): string[] => {
  let rows: string[] = [];
  for (let player of players) {
    const card = getPlayersCard(player, scoreCards);
    let row: ScoreRow[] = [];
    let results: number[] = [];
    for (let i = 0; i < holes.length; i++) {
      const hole = holes[i];
      const strokes = card.strokes[i];
      const par = holes[i].par;
      results.push(strokes - par);
    }
    const total = getTotal(results);
    rows.push([...results, total].join(","));
  }
  return rows;
};
\`\`\`

::right::

<ul>
<li v-click="8">native language features</li>
<li v-click="9">generic function</li>
<li v-click="10">specific functions of domain X  </li>

</ul>

<v-click at="12">

\`\`\`mermaid
flowchart TD
convertResultsToCsvRows --> getPlayersCard ---> nativem
convertResultsToCsvRows --> getTotal --> sum --> nativem
convertResultsToCsvRows ------> nativem[native array methods]
convertResultsToCsvRows ------> forl[for loop]
convertResultsToCsvRows ------> arrI[array index]
\`\`\`

</v-click>`,frontmatter:{layout:"two-cols",other:"none",clicks:13},note:`Now, let's imagine we want to calculate each player's results and turn them into 
a csv file. This made-up code right here might be one way to do it.

We have a function called convertResultsToCsvRows which is basically going through 
each player, finding their scorecards...

Calculating the total strokes for each player...

by looping through each hole they played...

and looking at how many strokes they have in their scorecard

and getting their result by subtracting the par of the hole


But you definitely don't get a particular sense of design by looking at this code.
It's not straightforward to know what are the right details I should be worried aout at 
each stage of the code and if I were to have to add some new functionality to this code
or perhaps fix a bug, I would have to spend a good amount of time scanning through each line
and thinking about what it should be doing.

So we get the sense that this code could use some refactoring, but the problem is: how to 
communicate that? Let's see, how stratified design could be used as a tool to conceptualize this.

If you recall from the beginning, stratified basically means layered, so we're looking for layers
in the code. The basic idea is that a well designed code would work on a reasonable number of 
layers so that each layer contains elements that belong to the same domain or deal with the same 
level of detail. With such a layered design, it should be easy for us to quickly find the place
dealing with the functionality we are interested in at the moment.

Now stratified design is essentially a concept associated with functional programming. This means 
that a typical way to arrange the code into layers is to work with multiple different functions
each consisting of logic belonging to a similar kind of layer. If a function deals with multiple different
kinds of layers at the same time, that is usually a sign that the reader of the function is probably 
going to have to use a lot of mental capacity to navigate through it. A function working mainly
on a single related layer could be called straightforward and is generally something you would want to achieve

So, looking at this convertResultsToCsvRows function here you could identify,
for instance, these kinds of layers:

- we have native language features such as for loops, accessing an array by
  index and using array methods such as pushing, joining....
- We also call another function of a rather generic nature called getTotal
  which sums up an array using anoter, more generic function
- And call another function, but this time it's not a generic one outputting a
  result of a mathematical operation but rather a lot more specific one,
  dealing with players and their scorecards

So we could say that the convertResultsToCsvRows function is basically working
on three or four different layers.  This could be represented with a call graph,
where we try to represent the relationship of each of these layers by drawing a
line from our current function to the the features and functions it uses.
Like this:

So the idea here is that at the very bottom we have the low-level stuff, the
language features like for loops and accessing an array by index. 

Then the more generic function calls are closer to these and the more
domain-specific ones closer to the top. So if we were to refactor this, we 
could use this as a starting point and think about how we could have the
functions yield a different kind of graphs, ideally one where all the arrows 
would be of roughly the same length and point to same kinds of constructs. That
would be the first step of converting the function to a straightforward
implementation.`,index:5,start:147,end:275,notesHTML:`<p>Now, let's imagine we want to calculate each player's results and turn them into
a csv file. This made-up code right here might be one way to do it.</p>
<p>We have a function called convertResultsToCsvRows which is basically going through
each player, finding their scorecards...</p>
<p>Calculating the total strokes for each player...</p>
<p>by looping through each hole they played...</p>
<p>and looking at how many strokes they have in their scorecard</p>
<p>and getting their result by subtracting the par of the hole</p>
<p>But you definitely don't get a particular sense of design by looking at this code.
It's not straightforward to know what are the right details I should be worried aout at
each stage of the code and if I were to have to add some new functionality to this code
or perhaps fix a bug, I would have to spend a good amount of time scanning through each line
and thinking about what it should be doing.</p>
<p>So we get the sense that this code could use some refactoring, but the problem is: how to
communicate that? Let's see, how stratified design could be used as a tool to conceptualize this.</p>
<p>If you recall from the beginning, stratified basically means layered, so we're looking for layers
in the code. The basic idea is that a well designed code would work on a reasonable number of
layers so that each layer contains elements that belong to the same domain or deal with the same
level of detail. With such a layered design, it should be easy for us to quickly find the place
dealing with the functionality we are interested in at the moment.</p>
<p>Now stratified design is essentially a concept associated with functional programming. This means
that a typical way to arrange the code into layers is to work with multiple different functions
each consisting of logic belonging to a similar kind of layer. If a function deals with multiple different
kinds of layers at the same time, that is usually a sign that the reader of the function is probably
going to have to use a lot of mental capacity to navigate through it. A function working mainly
on a single related layer could be called straightforward and is generally something you would want to achieve</p>
<p>So, looking at this convertResultsToCsvRows function here you could identify,
for instance, these kinds of layers:</p>
<ul>
<li>we have native language features such as for loops, accessing an array by
index and using array methods such as pushing, joining....</li>
<li>We also call another function of a rather generic nature called getTotal
which sums up an array using anoter, more generic function</li>
<li>And call another function, but this time it's not a generic one outputting a
result of a mathematical operation but rather a lot more specific one,
dealing with players and their scorecards</li>
</ul>
<p>So we could say that the convertResultsToCsvRows function is basically working
on three or four different layers.  This could be represented with a call graph,
where we try to represent the relationship of each of these layers by drawing a
line from our current function to the the features and functions it uses.
Like this:</p>
<p>So the idea here is that at the very bottom we have the low-level stuff, the
language features like for loops and accessing an array by index.</p>
<p>Then the more generic function calls are closer to these and the more
domain-specific ones closer to the top. So if we were to refactor this, we
could use this as a starting point and think about how we could have the
functions yield a different kind of graphs, ideally one where all the arrows
would be of roughly the same length and point to same kinds of constructs. That
would be the first step of converting the function to a straightforward
implementation.</p>
`,filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:5,no:6},__clicksElements:[],__preloaded:!1}},{path:"7",name:"page-7",component:zct,meta:{other:"none",clicks:5,slide:{raw:`---
other: none
clicks: 5
---

# Examples from a KOA api


\`\`\`typescript{0|all|5|7|5}
router.post(
  "/api/alarms",
  async (ctx) => {
    const alarmProps = validatePostAlarmProps(ctx.request.body);
    await createAlarm(alarmProps);
    ctx.status = 200;
    ctx.body = { message: "Alarm created" };
  },
);

\`\`\`

<!--

Now let me move on to the more realistic example promised earlier. 

Here we have a nodejs api built using a framework called KOA which has, 
for instance, the  following endpoint used for creating entities called alarms.

So the point of this api endpoint is to use properties given by a user and create
an alarm - whatever that means in this context - based on those properties.

Now how is this alarm created? Obviously the logic is inside the createAlarm function.
But note that that is quite easy to figure out. If I am only worried about, say, 
fixing the message returned in the body of the API response that's all I need to 
know about the internal logic of how the alarm is created.

Now this particular endpoint is a newer one, built consciously with 
the idea in mind that we're following a certain pattern, we a exlicitly
desinging the architecture of our code, not just writing code and 
looking at the results.

Let's, however, turn to an older endpoint... note that the actual contents are changed from the original,
but nevertheless, the gist should be clear enough:

-->
`,title:"Examples from a KOA api",level:1,content:`# Examples from a KOA api


\`\`\`typescript{0|all|5|7|5}
router.post(
  "/api/alarms",
  async (ctx) => {
    const alarmProps = validatePostAlarmProps(ctx.request.body);
    await createAlarm(alarmProps);
    ctx.status = 200;
    ctx.body = { message: "Alarm created" };
  },
);

\`\`\``,frontmatter:{other:"none",clicks:5},note:`Now let me move on to the more realistic example promised earlier. 

Here we have a nodejs api built using a framework called KOA which has, 
for instance, the  following endpoint used for creating entities called alarms.

So the point of this api endpoint is to use properties given by a user and create
an alarm - whatever that means in this context - based on those properties.

Now how is this alarm created? Obviously the logic is inside the createAlarm function.
But note that that is quite easy to figure out. If I am only worried about, say, 
fixing the message returned in the body of the API response that's all I need to 
know about the internal logic of how the alarm is created.

Now this particular endpoint is a newer one, built consciously with 
the idea in mind that we're following a certain pattern, we a exlicitly
desinging the architecture of our code, not just writing code and 
looking at the results.

Let's, however, turn to an older endpoint... note that the actual contents are changed from the original,
but nevertheless, the gist should be clear enough:`,index:6,start:275,end:321,notesHTML:`<p>Now let me move on to the more realistic example promised earlier.</p>
<p>Here we have a nodejs api built using a framework called KOA which has,
for instance, the  following endpoint used for creating entities called alarms.</p>
<p>So the point of this api endpoint is to use properties given by a user and create
an alarm - whatever that means in this context - based on those properties.</p>
<p>Now how is this alarm created? Obviously the logic is inside the createAlarm function.
But note that that is quite easy to figure out. If I am only worried about, say,
fixing the message returned in the body of the API response that's all I need to
know about the internal logic of how the alarm is created.</p>
<p>Now this particular endpoint is a newer one, built consciously with
the idea in mind that we're following a certain pattern, we a exlicitly
desinging the architecture of our code, not just writing code and
looking at the results.</p>
<p>Let's, however, turn to an older endpoint... note that the actual contents are changed from the original,
but nevertheless, the gist should be clear enough:</p>
`,filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:6,no:7},__clicksElements:[],__preloaded:!1}},{path:"8",name:"page-8",component:qct,meta:{clicks:4,slide:{raw:`---
clicks: 4
---

<div class="withScroll">

\`\`\`typescript{0|all|51}

router.post("/api/items", authenticationRequired, logQueryDetails, async (ctx: PublicContext) => {
  const table: string = 'items'

  const rp: { [key: string]: any } = ctx.request.body;
  const { params } = rp as { id: string; parentId: string };

  const key = getKey(id, parentId);

  if (key) {
    const tags: { [key: string]: string }[] = [];
    const searchTerms = Object.keys(rp)
      .filter((key) => !["id", "parentId"].includes(key))
      .reduce((obj: { [key: string]: string }, key) => {
        obj[key] = rp[key];
        return obj;
      }, {});


    const result = await connector.select("*").from(table).where({ id_key: key });

    for (const item of result) {
      const tagAttributes = tag["tag_attributes"] ?? {};
      const valmetTagInfo = tagAttributes["valmet_tag"] ?? {};
      const matching: boolean[] = [];
      for (const p of Object.keys(searchTerms)) {
        if (parameters.includes(p)) {
          if (valmetTagInfo[p] === searchTerms[p]) {
            matching.push(true);
          } else {
            matching.push(false);
          }
        }
      }
      const match =
        matching.length > 0
          ? matching.every(function (m) {
              return m === true;
            })
          : false;

      if (match) {
        const tagInfo = {
          id: id ?? item.id,
          parentId: parentId ?? item.lineid,
          name: item.name,
        };
        items.push(tagInfo);
      }
    }
    ctx.status = 200;
    ctx.body = tags;
  } else {
    ctx.throw("Missing id");
  }
});

\`\`\`

</div>

<!--

No need to go through this line by line but it's clear that this is a completely different
story: It's rather hard to know what is the level of detail I should concern myself with
when reading the code for this endpoint. If I am, again, concerned with, say, 
changing the status code or looking at request parameters, I have to make 
quite an effort in order to dig out the information I need. 

Let's contrast this with the inner details of the createAlarm function mentioned earlier

-->

`,content:`<div class="withScroll">

\`\`\`typescript{0|all|51}

router.post("/api/items", authenticationRequired, logQueryDetails, async (ctx: PublicContext) => {
  const table: string = 'items'

  const rp: { [key: string]: any } = ctx.request.body;
  const { params } = rp as { id: string; parentId: string };

  const key = getKey(id, parentId);

  if (key) {
    const tags: { [key: string]: string }[] = [];
    const searchTerms = Object.keys(rp)
      .filter((key) => !["id", "parentId"].includes(key))
      .reduce((obj: { [key: string]: string }, key) => {
        obj[key] = rp[key];
        return obj;
      }, {});


    const result = await connector.select("*").from(table).where({ id_key: key });

    for (const item of result) {
      const tagAttributes = tag["tag_attributes"] ?? {};
      const valmetTagInfo = tagAttributes["valmet_tag"] ?? {};
      const matching: boolean[] = [];
      for (const p of Object.keys(searchTerms)) {
        if (parameters.includes(p)) {
          if (valmetTagInfo[p] === searchTerms[p]) {
            matching.push(true);
          } else {
            matching.push(false);
          }
        }
      }
      const match =
        matching.length > 0
          ? matching.every(function (m) {
              return m === true;
            })
          : false;

      if (match) {
        const tagInfo = {
          id: id ?? item.id,
          parentId: parentId ?? item.lineid,
          name: item.name,
        };
        items.push(tagInfo);
      }
    }
    ctx.status = 200;
    ctx.body = tags;
  } else {
    ctx.throw("Missing id");
  }
});

\`\`\`

</div>`,frontmatter:{clicks:4},note:`No need to go through this line by line but it's clear that this is a completely different
story: It's rather hard to know what is the level of detail I should concern myself with
when reading the code for this endpoint. If I am, again, concerned with, say, 
changing the status code or looking at request parameters, I have to make 
quite an effort in order to dig out the information I need. 

Let's contrast this with the inner details of the createAlarm function mentioned earlier`,index:7,start:321,end:402,notesHTML:`<p>No need to go through this line by line but it's clear that this is a completely different
story: It's rather hard to know what is the level of detail I should concern myself with
when reading the code for this endpoint. If I am, again, concerned with, say,
changing the status code or looking at request parameters, I have to make
quite an effort in order to dig out the information I need.</p>
<p>Let's contrast this with the inner details of the createAlarm function mentioned earlier</p>
`,filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:7,no:8},__clicksElements:[],__preloaded:!1}},{path:"9",name:"page-9",component:Kct,meta:{slide:{raw:`

\`\`\`typescript{0|1-2|3-9|8|5}

export const createAlarm = async (inputProps: FormattedAlarm, id: string, parentId: string, token: string, connector: Knex) => {
  const userId = builduserId(token);
  const alarmItem = buildNewAlarmItem(inputItem, inputProps, id, parentId);
  const analysisEntry = buildAnalysisEntry(inputItem, userId);
  const nextModelVersion = await getNextModelVersion(analysisEntry?.code, connector).catch(handleDbError);
  const modelAttributes = buildModelAttributes(inputProps.alarmSeverity, inputProps.warningSeverity, inputItem);
  const modelEntry = buildModelEntry( analysisEntry?.analysis_code);
  await writeAlarmToDb(connector, modelEntry, alarmItem, analysisEntry, tagModelEntries, idate);
};

\`\`\`

<!--

It is quite clear that creating an alram is actually a rather complex process. However,
when dealing with creating an alarm a developer looking at this code does not 
have to be concerned with all the details of the process. This is  a rather straight-forward implementation
dealing with similar levels of abstraction: 

1. we are building the different blocks used in creating an alarm
2. we write the built alarm to database

Now, if I am concerned with something happening in the logic of interacting with the database,
I know where to go. If I need to dig into how the next version of a model is built,  I
know where to go and so on ans so forth. If we were to draw a call graph out of this, we would get
something pretty flat like:

-->

`,content:`\`\`\`typescript{0|1-2|3-9|8|5}

export const createAlarm = async (inputProps: FormattedAlarm, id: string, parentId: string, token: string, connector: Knex) => {
  const userId = builduserId(token);
  const alarmItem = buildNewAlarmItem(inputItem, inputProps, id, parentId);
  const analysisEntry = buildAnalysisEntry(inputItem, userId);
  const nextModelVersion = await getNextModelVersion(analysisEntry?.code, connector).catch(handleDbError);
  const modelAttributes = buildModelAttributes(inputProps.alarmSeverity, inputProps.warningSeverity, inputItem);
  const modelEntry = buildModelEntry( analysisEntry?.analysis_code);
  await writeAlarmToDb(connector, modelEntry, alarmItem, analysisEntry, tagModelEntries, idate);
};

\`\`\``,frontmatter:{},note:`It is quite clear that creating an alram is actually a rather complex process. However,
when dealing with creating an alarm a developer looking at this code does not 
have to be concerned with all the details of the process. This is  a rather straight-forward implementation
dealing with similar levels of abstraction: 

1. we are building the different blocks used in creating an alarm
2. we write the built alarm to database

Now, if I am concerned with something happening in the logic of interacting with the database,
I know where to go. If I need to dig into how the next version of a model is built,  I
know where to go and so on ans so forth. If we were to draw a call graph out of this, we would get
something pretty flat like:`,index:8,start:403,end:437,notesHTML:`<p>It is quite clear that creating an alram is actually a rather complex process. However,
when dealing with creating an alarm a developer looking at this code does not
have to be concerned with all the details of the process. This is  a rather straight-forward implementation
dealing with similar levels of abstraction:</p>
<ol>
<li>we are building the different blocks used in creating an alarm</li>
<li>we write the built alarm to database</li>
</ol>
<p>Now, if I am concerned with something happening in the logic of interacting with the database,
I know where to go. If I need to dig into how the next version of a model is built,  I
know where to go and so on ans so forth. If we were to draw a call graph out of this, we would get
something pretty flat like:</p>
`,filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:8,no:9},__clicksElements:[],__preloaded:!1}},{path:"10",name:"page-10",component:Qct,meta:{slide:{raw:`
\`\`\`mermaid
flowchart TD
createAlarm ---> builduserId
createAlarm --> buildNewAlarmItem
createAlarm --> buildAnalysisEntry
createAlarm ----> getNextModelVersion
createAlarm --> buildModelAttributes
createAlarm --> buildModelEntry
createAlarm ----> writeAlarmToDb
\`\`\`


<!--

And, moving on, if we were to check the implementation of.. let's say  buildNewAlarmItem
it would look along these lines

-->
`,content:`\`\`\`mermaid
flowchart TD
createAlarm ---> builduserId
createAlarm --> buildNewAlarmItem
createAlarm --> buildAnalysisEntry
createAlarm ----> getNextModelVersion
createAlarm --> buildModelAttributes
createAlarm --> buildModelEntry
createAlarm ----> writeAlarmToDb
\`\`\``,frontmatter:{},note:`And, moving on, if we were to check the implementation of.. let's say  buildNewAlarmItem
it would look along these lines`,index:9,start:438,end:458,notesHTML:`<p>And, moving on, if we were to check the implementation of.. let's say  buildNewAlarmItem
it would look along these lines</p>
`,filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:9,no:10},__clicksElements:[],__preloaded:!1}},{path:"11",name:"page-11",component:eut,meta:{layout:"two-cols",other:"none",clicks:4,slide:{raw:`---
layout: two-cols
other: none
clicks: 4
---

\`\`\`typescript{all}

export const buildNewAlarmItem = (
  inputItem: ItemMetadata | undefined,
  inputProps: FormattedAlarm,
  id: string,
  parentId: string,
): ItemMetadata | undefined => {
  if (!inputItem) return;
  const { limitType, alarmDescription } = inputProps;
  const key = generateAlarmItemKey(inputItem, id, parentId, limitType);
  const name = generateAlarmItemName(inputItem);
  const description = generateItemDescription(inputItem, alarmDescription);
  return {
    item_key,
    item_name,
    item_description,
    uby: userId,
    iby: userId,
    item_type: "AlarmItemType",
  };
};

\`\`\`

::right::

<v-click at="2">

\`\`\`mermaid
flowchart TD
createAlarm --> buildNewAlarmItem
buildNewAlarmItem ---> generateAlarmItemKey
buildNewAlarmItem ---> generateAlarmItemName
buildNewAlarmItem ---> generateItemDescription
generateAlarmItemKey ---> la[language features]
\`\`\`

</v-click>

<!--

or we could check out getNextModelVersion, it would be dealing with these kinds of
levels of specificity
-->

`,content:`\`\`\`typescript{all}

export const buildNewAlarmItem = (
  inputItem: ItemMetadata | undefined,
  inputProps: FormattedAlarm,
  id: string,
  parentId: string,
): ItemMetadata | undefined => {
  if (!inputItem) return;
  const { limitType, alarmDescription } = inputProps;
  const key = generateAlarmItemKey(inputItem, id, parentId, limitType);
  const name = generateAlarmItemName(inputItem);
  const description = generateItemDescription(inputItem, alarmDescription);
  return {
    item_key,
    item_name,
    item_description,
    uby: userId,
    iby: userId,
    item_type: "AlarmItemType",
  };
};

\`\`\`

::right::

<v-click at="2">

\`\`\`mermaid
flowchart TD
createAlarm --> buildNewAlarmItem
buildNewAlarmItem ---> generateAlarmItemKey
buildNewAlarmItem ---> generateAlarmItemName
buildNewAlarmItem ---> generateItemDescription
generateAlarmItemKey ---> la[language features]
\`\`\`

</v-click>`,frontmatter:{layout:"two-cols",other:"none",clicks:4},note:`or we could check out getNextModelVersion, it would be dealing with these kinds of
levels of specificity`,index:10,start:458,end:511,notesHTML:`<p>or we could check out getNextModelVersion, it would be dealing with these kinds of
levels of specificity</p>
`,filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:10,no:11},__clicksElements:[],__preloaded:!1}},{path:"12",name:"page-12",component:iut,meta:{layout:"two-cols",other:"none",clicks:4,slide:{raw:`---
layout: two-cols
other: none
clicks: 4
---


\`\`\`typescript


export const getNextModelVersion = async (code: string | undefined, connector: Knex) => {
  if (!code)  return;
  const selectedColumns: (keyof Model)[] = ["col1"];
  const query = () =>
    connector
      .select<Partial<Model>[]>(selectedColumns)
      .from(tableName)
      .where("xxx", code)
      .orderByRaw("length(col1) DESC")
      .orderByRaw("col1 DESC")
      .limit(1);
  const result = await runQueryAndReportErrors(query);
  if (!result?.length) return "1";
  const latestVersion = result[0].col1;
  const nextVersion = Number(latestVersion) + 1;
  return nextVersion.toString();
};

\`\`\`


::right::


<v-click at="2">

\`\`\`mermaid
flowchart TD
getNextModelVersion --> runQueryAndReportErrors
getNextModelVersion ---> kn[knex methods]
getNextModelVersion ---> lf[array index, string methods]
\`\`\`

</v-click>


`,content:`\`\`\`typescript


export const getNextModelVersion = async (code: string | undefined, connector: Knex) => {
  if (!code)  return;
  const selectedColumns: (keyof Model)[] = ["col1"];
  const query = () =>
    connector
      .select<Partial<Model>[]>(selectedColumns)
      .from(tableName)
      .where("xxx", code)
      .orderByRaw("length(col1) DESC")
      .orderByRaw("col1 DESC")
      .limit(1);
  const result = await runQueryAndReportErrors(query);
  if (!result?.length) return "1";
  const latestVersion = result[0].col1;
  const nextVersion = Number(latestVersion) + 1;
  return nextVersion.toString();
};

\`\`\`


::right::


<v-click at="2">

\`\`\`mermaid
flowchart TD
getNextModelVersion --> runQueryAndReportErrors
getNextModelVersion ---> kn[knex methods]
getNextModelVersion ---> lf[array index, string methods]
\`\`\`

</v-click>`,frontmatter:{layout:"two-cols",other:"none",clicks:4},index:11,start:511,end:558,notesHTML:"",filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:11,no:12},__clicksElements:[],__preloaded:!1}},{path:"13",name:"page-13",component:cut,meta:{layout:"two-cols",other:"none",slide:{raw:`---
layout: two-cols
other: none
---

<div class="withScroll">

\`\`\`typescript{0|all|51}

router.post("/api/items", authenticationRequired, logQueryDetails, async (ctx: PublicContext) => {
  const table: string = 'items'

  const rp: { [key: string]: any } = ctx.request.body;
  const { params } = rp as { id: string; parentId: string };

  const key = getKey(id, parentId);

  if (key) {
    const tags: { [key: string]: string }[] = [];
    const searchTerms = Object.keys(rp)
      .filter((key) => !["id", "parentId"].includes(key))
      .reduce((obj: { [key: string]: string }, key) => {
        obj[key] = rp[key];
        return obj;
      }, {});


    const result = await connector.select("*").from(table).where({ id_key: key });

    for (const item of result) {
      const tagAttributes = tag["tag_attributes"] ?? {};
      const valmetTagInfo = tagAttributes["valmet_tag"] ?? {};
      const matching: boolean[] = [];
      for (const p of Object.keys(searchTerms)) {
        if (parameters.includes(p)) {
          if (valmetTagInfo[p] === searchTerms[p]) {
            matching.push(true);
          } else {
            matching.push(false);
          }
        }
      }
      const match =
        matching.length > 0
          ? matching.every(function (m) {
              return m === true;
            })
          : false;

      if (match) {
        const tagInfo = {
          id: id ?? item.id,
          parentId: parentId ?? item.lineid,
          name: item.name,
        };
        items.push(tagInfo);
      }
    }
    ctx.status = 200;
    ctx.body = tags;
  } else {
    ctx.throw("Missing id");
  }
});

\`\`\`

</div>


::right::

<v-clicks>

- Tools to conceptualize "you should make this more readable"
- Aiming for straightforward implementations
- Helping future readers with the level of detail needed


</v-clicks>

`,content:`<div class="withScroll">

\`\`\`typescript{0|all|51}

router.post("/api/items", authenticationRequired, logQueryDetails, async (ctx: PublicContext) => {
  const table: string = 'items'

  const rp: { [key: string]: any } = ctx.request.body;
  const { params } = rp as { id: string; parentId: string };

  const key = getKey(id, parentId);

  if (key) {
    const tags: { [key: string]: string }[] = [];
    const searchTerms = Object.keys(rp)
      .filter((key) => !["id", "parentId"].includes(key))
      .reduce((obj: { [key: string]: string }, key) => {
        obj[key] = rp[key];
        return obj;
      }, {});


    const result = await connector.select("*").from(table).where({ id_key: key });

    for (const item of result) {
      const tagAttributes = tag["tag_attributes"] ?? {};
      const valmetTagInfo = tagAttributes["valmet_tag"] ?? {};
      const matching: boolean[] = [];
      for (const p of Object.keys(searchTerms)) {
        if (parameters.includes(p)) {
          if (valmetTagInfo[p] === searchTerms[p]) {
            matching.push(true);
          } else {
            matching.push(false);
          }
        }
      }
      const match =
        matching.length > 0
          ? matching.every(function (m) {
              return m === true;
            })
          : false;

      if (match) {
        const tagInfo = {
          id: id ?? item.id,
          parentId: parentId ?? item.lineid,
          name: item.name,
        };
        items.push(tagInfo);
      }
    }
    ctx.status = 200;
    ctx.body = tags;
  } else {
    ctx.throw("Missing id");
  }
});

\`\`\`

</div>


::right::

<v-clicks>

- Tools to conceptualize "you should make this more readable"
- Aiming for straightforward implementations
- Helping future readers with the level of detail needed


</v-clicks>`,frontmatter:{layout:"two-cols",other:"none"},index:12,start:558,end:640,notesHTML:"",filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:12,no:13},__clicksElements:[],__preloaded:!1}},{path:"14",name:"page-14",component:put,meta:{slide:{raw:`
# Literature

- Normand, Eric 2021: Grokking simplicity. Manning.
- Płachta, Michał 2022: Grokking functional Programming. Manning
- Abelson, Harold  & Sussman, Gerald 1985: Structure and Interpretation of Computer Programs



<div class="mt-7">
<ul class="text-sm list-none ml-0">
<li class='list-none ml-0'>Blog: https://hrmj.hashnode.dev/</li>
<li class="list-none ml-0">Twitter: @jharme</li>
</ul>
</div>


`,title:"Literature",level:1,content:`# Literature

- Normand, Eric 2021: Grokking simplicity. Manning.
- Płachta, Michał 2022: Grokking functional Programming. Manning
- Abelson, Harold  & Sussman, Gerald 1985: Structure and Interpretation of Computer Programs



<div class="mt-7">
<ul class="text-sm list-none ml-0">
<li class='list-none ml-0'>Blog: https://hrmj.hashnode.dev/</li>
<li class="list-none ml-0">Twitter: @jharme</li>
</ul>
</div>`,frontmatter:{},index:13,start:641,end:659,notesHTML:"",filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:13,no:14},__clicksElements:[],__preloaded:!1}},{path:"15",name:"page-15",component:mut,meta:{slide:{raw:`

`,content:"",frontmatter:{},index:14,start:660,end:663,notesHTML:"",filepath:"/home/runner/work/refactoring-with-stratified-design/refactoring-with-stratified-design/slides.md",id:14,no:15},__clicksElements:[],__preloaded:!1}},{path:"16",component:blt,meta:{layout:"end"}}],Zr=yut,w0=[{name:"play",path:"/",component:Uat,children:[...Zr]},{name:"print",path:"/print",component:ylt},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}}];w0.push({path:"/presenter/print",component:()=>Pc(()=>import("./PresenterPrint-90357686.js"),["assets/PresenterPrint-90357686.js","assets/NoteViewer-0025e24a.js","assets/index-ba3d85b3.js","assets/_commonjsHelpers-725317a4.js"])}),w0.push({name:"presenter",path:"/presenter/:no",component:()=>Pc(()=>import("./Presenter-77defa18.js"),["assets/Presenter-77defa18.js","assets/NoteViewer-0025e24a.js","assets/DrawingControls-d5de855c.js","assets/_commonjsHelpers-725317a4.js","assets/index-ba3d85b3.js","assets/Presenter-907537bb.css"]),beforeEnter:r=>{if(!Hd.remote||Hd.remote===r.query.password)return!0;if(Hd.remote&&r.query.password===void 0){const a=prompt("Enter password");if(Hd.remote===a)return!0}return r.params.no?{path:`/${r.params.no}`}:{path:""}}}),w0.push({path:"/presenter",redirect:{path:"/presenter/1"}});const gl=_rt({history:ynt("/refactoring-with-stratified-design"),routes:w0});function _ut(r,a,{mode:h="replace"}={}){return ee({get(){const p=gl.currentRoute.value.query[r];return p==null?a??null:Array.isArray(p)?p.filter(Boolean):p},set(p){ha(()=>{gl[Mt(h)]({query:{...gl.currentRoute.value.query,[r]:p}})})}})}const JC=Xe(0);ha(()=>{gl.afterEach(async()=>{await ha(),JC.value+=1})});const t7=Xe(0),Fa=ee(()=>gl.currentRoute.value),lh=ee(()=>Fa.value.query.print!==void 0),vut=ee(()=>Fa.value.query.print==="clicks"),Eo=ee(()=>Fa.value.query.embedded!==void 0),ua=ee(()=>Fa.value.path.startsWith("/presenter")),e7=ee(()=>lh.value&&!vut.value),F_=ee(()=>Fa.value.query.password),but=ee(()=>!ua.value&&(!cr.remote||F_.value===cr.remote)),OT=_ut("clicks","0"),n7=ee(()=>Zr.length-1),kut=ee(()=>Fa.value.path),ri=ee(()=>parseInt(kut.value.split(/\//g).slice(-1)[0])||1);ee(()=>xv(ri.value));const Ui=ee(()=>Zr.find(r=>r.path===`${ri.value}`));ee(()=>{var r,a,h;return(h=(a=(r=Ui.value)==null?void 0:r.meta)==null?void 0:a.slide)==null?void 0:h.id});ee(()=>{var r,a;return((a=(r=Ui.value)==null?void 0:r.meta)==null?void 0:a.layout)||(ri.value===1?"cover":"default")});const t_=ee(()=>Zr.find(r=>r.path===`${Math.min(Zr.length,ri.value+1)}`)),wut=ee(()=>Zr.find(r=>r.path===`${Math.max(1,ri.value-1)}`)),xut=ee(()=>{var r,a;return JC.value,((a=(r=Ui.value)==null?void 0:r.meta)==null?void 0:a.__clicksElements)||[]}),Fc=ee({get(){if(e7.value)return 99999;let r=+(OT.value||0);return isNaN(r)&&(r=0),r},set(r){OT.value=r.toString()}}),Y0=ee(()=>{var r,a;return+(((a=(r=Ui.value)==null?void 0:r.meta)==null?void 0:a.clicks)??xut.value.length)}),Tut=ee(()=>ri.value<Zr.length-1||Fc.value<Y0.value),Eut=ee(()=>ri.value>1||Fc.value>0),Cut=ee(()=>Zr.filter(r=>{var a,h;return(h=(a=r.meta)==null?void 0:a.slide)==null?void 0:h.title}).reduce((r,a)=>(Tv(r,a),r),[])),Sut=ee(()=>Ev(Cut.value,Ui.value));ee(()=>Cv(Sut.value));const Aut=ee(()=>Nut(t7.value,Ui.value,wut.value));Er(Ui,(r,a)=>{t7.value=Number(r==null?void 0:r.path)-Number(a==null?void 0:a.path)});function Mc(){Y0.value<=Fc.value?$0():Fc.value+=1}async function Nc(){Fc.value<=0?await U0():Fc.value-=1}function xv(r){return ua.value?`/presenter/${r}`:`/${r}`}function $0(){const r=Math.min(Zr.length,ri.value+1);return ch(r)}async function U0(r=!0){const a=Math.max(1,ri.value-1);await ch(a),r&&Y0.value&&gl.replace({query:{...Fa.value.query,clicks:Y0.value}})}function ch(r,a){return gl.push({path:xv(r),query:{...Fa.value.query,clicks:a}})}function Lut(r){const a=Xe(0),{direction:h,distanceX:p,distanceY:y}=Ret(r,{onSwipeStart(b){b.pointerType==="touch"&&(uf.value||(a.value=x_()))},onSwipeEnd(b){if(b.pointerType!=="touch"||!a.value||uf.value)return;const E=Math.abs(p.value),S=Math.abs(y.value);E/window.innerWidth>.3||E>100?h.value===Lo.LEFT?Mc():Nc():(S/window.innerHeight>.4||S>200)&&(h.value===Lo.DOWN?U0():$0())}})}async function DT(){const{saveAs:r}=await Pc(()=>import("./FileSaver.min-010fe3cb.js").then(a=>a.F),["assets/FileSaver.min-010fe3cb.js","assets/_commonjsHelpers-725317a4.js"]);r(sC(cr.download)?cr.download:cr.exportFilename?`${cr.exportFilename}.pdf`:"/refactoring-with-stratified-designslidev-exported.pdf",`${cr.title}.pdf`)}async function Dft(r){var a,h;if(r==null){const p=(h=(a=Ui.value)==null?void 0:a.meta)==null?void 0:h.slide;if(!(p!=null&&p.filepath))return!1;r=`${p.filepath}:${p.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(r)}`),!0}function Tv(r,a,h=1){var y,b,E,S,L;const p=(b=(y=a.meta)==null?void 0:y.slide)==null?void 0:b.level;p&&p>h&&r.length>0?Tv(r[r.length-1].children,a,h+1):r.push({children:[],level:h,path:a.path,hideInToc:Boolean((E=a.meta)==null?void 0:E.hideInToc),title:(L=(S=a.meta)==null?void 0:S.slide)==null?void 0:L.title})}function Ev(r,a,h=!1,p){return r.map(y=>{const b={...y,active:y.path===(a==null?void 0:a.path),hasActiveParent:h};return b.children.length>0&&(b.children=Ev(b.children,a,b.active||b.hasActiveParent,b)),p&&(b.active||b.activeParent)&&(p.activeParent=!0),b})}function Cv(r,a=1){return r.filter(h=>!h.hideInToc).map(h=>({...h,children:Cv(h.children,a+1)}))}const Iut={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function Mut(r,a=!1){if(!r||(typeof r=="string"&&(r={name:r}),!r.name))return;let h=r.name.includes("|")?r.name:Iut[r.name]||r.name;if(h.includes("|")){const[p,y]=h.split("|").map(b=>b.trim());h=a?y:p}if(h)return{...r,name:h}}function Nut(r,a,h){var y,b;let p=r>0?(y=h==null?void 0:h.meta)==null?void 0:y.transition:(b=a==null?void 0:a.meta)==null?void 0:b.transition;return p||(p=cr.transition),Mut(p,r<0)}export{mft as $,Xe as A,Tft as B,xft as C,ur as D,Sft as E,sr as F,Ms as G,Eft as H,aZ as I,oZ as J,mf as K,ha as L,ov as M,gs as N,yl as O,q_ as P,fa as Q,lft as R,e7 as S,hft as T,ltt as U,utt as V,eC as W,tC as X,JE as Y,stt as Z,Bn as _,wft as a,QE as a$,yft as a0,_ft as a1,pft as a2,gft as a3,olt as a4,llt as a5,DT as a6,Mc as a7,$0 as a8,Dft as a9,$i as aA,Tit as aB,Y0 as aC,Tut as aD,t_ as aE,q2 as aF,uf as aG,Q2 as aH,Vat as aI,_v as aJ,vv as aK,cft as aL,uft as aM,Dat as aN,Bit as aO,pa as aP,Cft as aQ,Os as aR,Yd as aS,kc as aT,Da as aU,R_ as aV,Qrt as aW,Jrt as aX,tit as aY,nit as aZ,Sc as a_,Nc as aa,U0 as ab,Fa as ac,fft as ad,Oo as ae,Qn as af,Lft as ag,d as ah,Oc as ai,yf as aj,mi as ak,Zr as al,n7 as am,v as an,Yn as ao,dv as ap,Mr as aq,Ift as ar,Ui as as,vn as at,hit as au,Lut as av,Aft as aw,Mft as ax,Mn as ay,YC as az,ri as b,Nft as b0,Wi as b1,d0 as b2,yst as b3,nC as b4,rit as b5,cr as c,Fc as d,ua as e,hr as f,xv as g,sn as h,vft as i,Rn as j,eJ as k,Fe as l,Be as m,Xt as n,bft as o,kft as p,yi as q,gl as r,ah as s,ee as t,dft as u,g8 as v,Er as w,av as x,Mt as y,QK as z};
